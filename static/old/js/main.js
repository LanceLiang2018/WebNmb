!function(a){"use strict";var b=a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype,c=a.Blob&&function(){try{return Boolean(new Blob)}catch(a){return!1}}(),d=c&&a.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(a){return!1}}(),e=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder,f=(c||e)&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&function(a){var b,f,g,h,i,j;for(b=a.split(",")[0].indexOf("base64")>=0?atob(a.split(",")[1]):decodeURIComponent(a.split(",")[1]),f=new ArrayBuffer(b.length),g=new Uint8Array(f),h=0;h<b.length;h+=1)g[h]=b.charCodeAt(h);return i=a.split(",")[0].split(":")[1].split(";")[0],c?new Blob([d?g:f],{type:i}):(j=new e,j.append(f),j.getBlob(i))};a.HTMLCanvasElement&&!b.toBlob&&(b.mozGetAsFile?b.toBlob=function(a,c,d){a(d&&b.toDataURL&&f?f(this.toDataURL(c,d)):this.mozGetAsFile("blob",c))}:b.toDataURL&&f&&(b.toBlob=function(a,b,c){a(f(this.toDataURL(b,c)))})),"function"==typeof define&&define.amd?define(function(){return f}):a.dataURLtoBlob=f}(window),H.WebSql=function(){var a="",b="nimingban",c="nimingban",d=function(a){var b=[],c=[],d=[],e=[],f=[];for(var g in a){var h=a[g];switch(g){case"where":for(var i in h)b.push("like"==i?" data like '%"+h[i].data+"%'":Array.isArray(h[i])?i+" in ("+h[i].map(function(a){return"'"+a+"'"}).join(",")+")":i+" = '"+h[i]+"'");break;case"orderby":c.push("order by "+h+" ");break;case"order":d.push(" "+h+" ");break;case"limit":e.push("limit "+h+" ");break;case"offset":e.push("offset "+h+" ")}}return b=b.length>0?"where "+b.join(" and ")+" ":"",c=c.length>0?c.join(" "):"",d=d.length>0?d.join(" "):"",e=e.length>0?e.join(" "):"",f=f.length>0?f.join(" "):"",b+c+d+e+f},e=function(b,c){var d=[];return new Promise(function(e,f){a&&a.transaction(function(a){a.executeSql(b,c||[],function(a,b){if(b&&b.rows.length>0)for(var c=b.rows,f=0,g=c.length;g>f;f++){var h=c.item(f);if(h.hasOwnProperty("count")){d=h.count;break}d.push(JSON.parse(h.data))}e(d)},function(a,b){console.error(b)})})})};return{open:function(){return new Promise(function(d,e){var f=window.openDatabase;a=f(b,"1",b,52428800),a.transaction(function(a){a.executeSql("create table if not exists "+c+" (uniqueid text primary key, threadid text, data text, mode text, site text, created integer, updated integer)",[],function(a,b){d(b)})})})},putItem:function(b){return new Promise(function(d,e){a&&a.transaction(function(a){for(var e=[],f=0,g=b.length;g>f;f++){var h="INSERT OR REPLACE into "+c+" (uniqueid, threadid, data, mode, site, created, updated) values ",i=[],j=b[f];j.threadid=j.threadid||"",j.mode=j.mode||"",j.site=j.site||"hacfun",j.created=j.created||"",j.updated=j.updated||"",i.push(j.uniqueid,j.threadid,JSON.stringify(j),j.mode,j.site,j.created,j.updated),h+="(?,?,?,?,?,?,?)",e.push(new Promise(function(b,c){a.executeSql(h,i,function(a,c){b()})}))}Promise.all(e).then(function(){d()},function(a){console.error(a)})},function(a){console.error(a)})})},removeItem:function(a){var b=d(a);if(!b)return Promise.resolve();var f="delete from "+c+" "+b;return e(f)},getItem:function(a){var b="select data from "+c+" "+d(a);return e(b)},count:function(a){var b="select count(*) count from "+c+" "+d(a);return e(b)}}}(),H.Sqlite=function(){var a="",b="nimingban.db",c="nimingban",d=function(a){var b=[],c=[],d=[],e=[],f=[];for(var g in a){var h=a[g];switch(g){case"where":for(var i in h)b.push("like"==i?" data like '%"+h[i].data+"%'":Array.isArray(h[i])?i+" in ("+h[i].map(function(a){return"'"+a+"'"}).join(",")+")":i+" = '"+h[i]+"'");break;case"orderby":c.push("order by "+h+" ");break;case"order":d.push(" "+h+" ");break;case"limit":e.push("limit "+h+" ");break;case"offset":e.push("offset "+h+" ")}}return b=b.length>0?"where "+b.join(" and ")+" ":"",c=c.length>0?c.join(" "):"",d=d.length>0?d.join(" "):"",e=e.length>0?e.join(" "):"",f=f.length>0?f.join(" "):"",b+c+d+e+f},e=function(b,c){var d=[];return new Promise(function(e,f){a&&a.transaction(function(a){a.executeSql(b,c||[],function(a,b){if(b&&b.rows.length>0)for(var c=b.rows,f=0,g=c.length;g>f;f++){var h=c.item(f);if(h.hasOwnProperty("count")){d=h.count;break}d.push(JSON.parse(h.data))}e(d)},function(a,b){console.error(b)})})})};return{open:function(){return new Promise(function(d,e){var f=window.sqlitePlugin.openDatabase;a=f(b,"1.0","",52428800),a.transaction(function(a){a.executeSql("create table if not exists "+c+" (uniqueid text primary key, threadid text, data text, mode text, site text, created integer, updated integer)",[],function(a,b){d(b)})})})},putItem:function(b){return new Promise(function(d,e){a&&a.transaction(function(a){for(var e=[],f=0,g=b.length;g>f;f++){var h="INSERT OR REPLACE into "+c+" (uniqueid, threadid, data, mode, site, created, updated) values ",i=[],j=b[f];j.threadid=j.threadid||"",j.mode=j.mode||"",j.site=j.site||"hacfun",j.created=j.created||"",j.updated=j.updated||"",i.push(j.uniqueid,j.threadid,JSON.stringify(j),j.mode,j.site,j.created,j.updated),h+="(?,?,?,?,?,?,?)",e.push(new Promise(function(b,c){a.executeSql(h,i,function(a,c){b()})}))}Promise.all(e).then(function(){d()},function(a){console.error(a)})},function(a){console.error(a)})})},removeItem:function(a){var b=d(a);if(!b)return Promise.resolve();var f="delete from "+c+" "+b;return e(f)},getItem:function(a){var b="select data from "+c+" "+d(a);return e(b)},count:function(a){var b="select count(*) count from "+c+" "+d(a);return e(b)}}}(),H.IndexedDB=function(){var a="",b="my-hox",c="hox",d=function(b,d){return d=d||"",new Promise(function(e,f){var g=[],h=function(a){var b=a.target.result;b&&(g.push(b.value),b["continue"]())},i=a.transaction([c],"readonly");i.oncomplete=function(a){e(g)},i.onerror=function(a){console.error(a),e(g)};var j=i.objectStore([c]);b?j.index(b).openCursor(d).onsuccess=h:j.openCursor(d).onsuccess=h})},e=function(b,d,e){return new Promise(function(f,g){var h="add"==d||"delete"==d||"put"==d?"readwrite":"readonly",i=a.transaction([c],h),j=b.length,k=[];i.oncomplete=function(a){f(k)},i.onerror=function(a){g(a)};for(var l=i.objectStore([c]),m=0;j>m;m++){var n=e?l.index(e).get(b[m]):l[d](b[m]);n.onsuccess=function(a){this.result&&k.push(this.result)},n.onerror=function(a){console.error(a)}}})};return{open:function(){return new Promise(function(d,e){var f=window.indexedDB.open(b,1);f.onerror=function(a){e("openError")},f.onsuccess=function(b){a=b.target.result||b.result,d("openSuccess")},f.onupgradeneeded=function(b){a=b.target.result;var f=a.createObjectStore(c,{keyPath:"uniqueid",autoIncrement:!1});f.createIndex("tid","tid",{unique:!1}),f.createIndex("threadid","threadid",{unique:!1}),f.transaction.oncomplete=function(a){d("createCompleted")},f.transaction.onerror=function(a){e("createError")}}})},"delete":function(){return new Promise(function(c,d){a.close();var e=window.indexedDB.deleteDatabase(b);e.onsuccess=function(){c(e)},e.onerror=function(a){d(a)}})},count:function(a){a.where=a.where||{};var b=a.where,c=Object.keys(b);if(c.indexOf("mode")>-1){var e=IDBKeyRange.bound(b.mode,b.mode+"￿",!1,!1);return d(null,e).then(function(a){return a.length})}return Promise.resolve(0)},setItem:function(a){return e(a,"add")},removeItem:function(a){a.where=a.where||{};var b=a.where,c=[];for(var d in b)Array.isArray(b[d])?c=c.concat(b[d]):c.push(b[d]);return e(c,"delete")},putItem:function(a){return e(a,"put")},getItem:function(a){a.where=a.where||{};var b=a.where,c=Object.keys(b),f=function(d){for(var e in b)if("like"==e)d=d.filter(function(a){return a.content&&a.content.indexOf(b[e].data)>-1});else if(Array.isArray(b[e])){for(var f=[],g=0,h=b[e].length;h>g;g++)for(var i=b[e][g],j=0,k=d.length;k>j;j++)i==d[j][e]&&f.push(d[j]);d=f}else d=d.filter(function(a){return b[e].indexOf("like ")>-1?a[e].content&&a[e].content.indexOf(b[e]):a[e]==b[e]});if(c=Object.keys(a),c.indexOf("orderby")>-1){var l=a.orderby;d.sort(function(b,d){var e=c.indexOf("order")>-1?a.order:"desc";return"desc"==e?d[l]-b[l]:b[l]-d[l]})}if(c.indexOf("limit")>-1){for(var m=c.indexOf("offset")>-1?a.offset:0,n=[],g=m;g<m+a.limit&&d[g];g++)n.push(d[g]);d=n}return d};if(c.indexOf("mode")>-1){var g=b.mode;Array.isArray(g)||(g=[g]);var h=[],i=[];return g.forEach(function(a){var b=IDBKeyRange.bound(a,a+"￿",!1,!1);h.push(d(null,b))}),Promise.all(h).then(function(a){return a.forEach(function(a){i=i.concat(a)}),0==i.length?i:f(i)})}if(c.indexOf("uniqueid")>-1){var j=b.uniqueid;return Array.isArray(j)||(j=[j]),e(j,"get")}return Promise.resolve([])},index:function(a,b){return this.editItem(b,"index",a)},query:function(b,d){return d=d||"",new Promise(function(e,f){var g=[],h=function(a){var b=a.target.result;b&&(g.push(b.value),b["continue"]())},i=a.transaction([c],"readonly");i.oncomplete=function(a){e(g)},i.onerror=function(a){console.error(a),e(g)};var j=i.objectStore([c]);b?j.index(b).openCursor(d).onsuccess=h:j.openCursor(d).onsuccess=h})}}}(),H.ImportExport=function(){var a=function(a,b){var c=3;callback=function(d,e){a=a||function(){},a(d,e),0==--c&&b()},b=b||function(){};var d=H.Util.saveToStorage,e="备份开始<br>";callback(e);var f=function(a,b){e+=modes[b]+" 无法备份，写入文件失败<br>",callback(e)},g=function(){var a=[];["favor","comment"].forEach(function(b){var c=new Promise(function(a,c){var e=H.StorageFolderPath+"/"+b+"/"+b+".index",f=H.StorageFolder+"/"+b+"/"+b+"0.index";H.Xhr.get(e,null,{responseType:"arraybuffer",timeout:1e4}).then(function(b){d(b,f).then(function(){console.log("overriden"),a()},function(a){console.error(a),c(a)})})["catch"](function(b){console.log("doesnt exist"),a()})});a.push(c)}),Promise.all(a).then(function(a){console.log("正式开始"),h(),i(),j()},function(a){console.error(a),f(a,"")})},h=function(){H.Storage.getItem({where:{mode:["favor","comment"]}}).then(function(a){var b={favor:"收藏",comment:"评论"};Object.keys(b).forEach(function(c){var g=H.StorageFolder+"/"+c+"/"+c+".index",h=a.filter(function(a){return a.mode==c});h.forEach(function(a){a.data&&delete a.data});var i="_set_data_("+JSON.stringify(h)+");";d(i,g).then(function(){e+=h.length+"个"+b[c]+" 完成<br>",callback(e)},function(a){f(a,c)})})})},i=function(){var a=H.StorageFolder+"/favor/uuid.txt";d(H.Config.uuid,a).then(function(){},function(){})},j=function(){H.Xhr.get("LocalViewer.html",null,{responseType:"arraybuffer"}).then(function(a){d(a,H.StorageFolder+"/离线浏览.html").then(function(){},function(){})})["catch"](function(a){})};g()},b=function(a,b){var c=3;callback=function(d,e){a=a||function(){},a(d,e),0==--c&&b()},b=b||function(){};var d={favor:"新收藏",comment:"评论",cookie:"饼干"},e="还原开始<br>";callback(e);var f=function(a,b){e+=d[b]+" 无法还原，找不到数据文件或数据格式不正确<br>",callback(e)},g=function(a){try{a=JSON.parse(a)}catch(b){return void f(b,"cookie")}if(Array.isArray(a));else{var c=[];for(var d in a){var g=a[d];c.push({name:d,userhash:g,site:7===g.length?"hacfun":"beitai"})}a=c}if(0==a.length)return e+="0块饼干 完成<br>",void callback(e);try{var h=0;a.forEach(function(a){var b=a.name,c=H.CookieCollection.some(function(a){return b&&a.name==b});!c&&H.CookieCollection.push(a)&&h++}),e+=h+"块饼干 完成<br>",callback(e),H.Storage.putItem([{uniqueid:"cookie",mode:"cookie",data:H.CookieCollection}])}catch(b){f(b,"cookie")}},h=function(a,b){var c=a.indexOf("("),g=a.lastIndexOf(")");a=a.slice(c+1,g);try{a=JSON.parse(a)}catch(h){return void f(h,b)}a.forEach(function(a){if(a.threadid=(a.threadid||a.tid||a.id)+"",a.mode=a.mode||b,a.mode="feed"==a.mode?"favor":a.mode,a.site=a.site||"hacfun","sage"in a&&(a.sage=a.sage&&"0"!=a.sage?"1":"0"),"recentReply"in a&&(a.recentReply=""),"downloadState"in a&&(a.state=a.downloadState),a.created||(a.created=a.createdAt),a.updated||(a.updated=a.created||a.createdAt),a.uid&&(a.userid=a.uid),a.image){var c=a.image,d=c.lastIndexOf(".");a.img=c.slice(0,d),a.ext=c.slice(d)}}),"comment"==b?H.Storage.putItem(a).then(function(){e+=a.length+"个"+d[b]+" 完成<br>",callback(e)}):H.Storage.getItem({where:{mode:["favor"]}}).then(function(c){var f=[];a.forEach(function(a){var b=c.some(function(b){return a.threadid==b.threadid&&a.mode==b.mode&&a.site==b.site});!b&&f.push(a)}),H.Storage.putItem(f).then(function(){e+=f.length+"个"+d[b]+" 完成<br>",f.sort(function(a,b){return a.updated-b.updated}),callback(e,f)})})};["favor","comment"].forEach(function(a){var b=H.StorageFolderPath+"/"+a+"/"+a+".index";H.Util.readFile(b).then(function(b){b=b.toString(),"cookie"==a?g(b):h(b,a)},function(b){f(b,a)})})};return{importData:b,exportData:a}}(),H.BlackList=function(){var a=[{threadid:0,uid:0,created:0,blockTime:0}],b=function(){var b={uniqueid:"blackList"+H.Config.site,site:H.Config.site,mode:"blackList",data:a};H.Storage.putItem([b])};return{init:function(){return H.Storage.getItem({where:{uniqueid:"blackList"+H.Config.site}}).then(function(c){a=c.length>0&&c[0].data||[];var d=(new Date).valueOf();return a=a.filter(function(a){return d<a.blockTime}),b(),Promise.resolve()},function(){return Promise.resolve()})},add:function(c,d,e){if(c||d){var f=a.some(function(a){return c?a.threadid==c:a.uid==d});if(!f){var g=(new Date).valueOf();a.push({threadid:c||0,uid:d||0,site:H.Config.site,created:g,blockTime:g+60*(e||H.Config.blockTime)*60*1e3}),b()}return Promise.resolve()}},remove:function(c,d){return a=a.filter(function(a){return c?a.threadid!=c:a.uid!=d}),b(),Promise.resolve()},filter:function(b,c){var d=(new Date).valueOf(),e=b.filter(function(b){var e=b.id,f=b.uid,g=a.some(function(a){return"uid"==c?a.uid==f&&d<=a.blockTime:a.threadid==e&&d<=a.blockTime});return g?void 0:!0});return e}}}(),H.Cookie=function(){var a="userhash",b="https://adnmb1.com",c="adnmb1.com",d=function(c,d){return c=c||a,d=d||b,new Promise(function(a,b){cookieMaster.getCookieValue(d,c,function(b){console.log(c," got: ",JSON.stringify(b));var d=b.cookieValue||"";if(d.indexOf("=")>-1){for(var e=d.split(";"),f=0;f<e.length;f++)(e[f].indexOf("expires=")>-1||e[f].indexOf("domain=")>-1||e[f].indexOf("path=")>-1)&&(e.splice(f,1),f=0);d=e.length>0?e[0].trim():""}a(d)},function(b){console.error(c,": ",b),a("")})})},e=function(d,e,f,g){return e=e||a,f=f||b,g=g||c,new Promise(function(a,b){var c=d+";expires=Friday,24-Jan-2027 16:24:36 GMT;domain="+g+";path=/";cookieMaster.setCookieValue(f,e,c,function(){console.log(e+" cookie successfully set"),a(d)},function(a){console.error(error),b(error)})})},f=function(){cookieMaster.clear(),console.log("cookie cleared")};return{getItem:d,setItem:e,clearAll:f}}(),H.Quote=function(a,b){a=a||[];var c="",d=(H.Config,H.Current.api.cdn[0]),e=H.Util,f=e.parseTime,g=e.queryCachedThread;return{render:function(a){c=a.pouid||c;var e=c&&unescape(c)==a.userid?!0:!1,g=document.createElement("article"),h=document.createElement("div"),i=(document.createElement("div"),document.createElement("span")),j=document.createElement("span");if(a.replyCount=a.replyCount||Math.floor(16*Math.random()),i.className="ttime",i.innerHTML=f(a.now)+" ",j.className="uid"+(e?" po":""),j.innerHTML=parseInt(a.admin,10)&&a.userid&&a.userid.indexOf("<font")<0&&'<font color="red">'+a.userid+"</font>"||a.userid||"",h.className="comment-header",h.appendChild(j),h.appendChild(i),g.className="quote-area",g.appendChild(h),(a.img||"").trim()){var k=a.img?a.img.replace(/\/Th\//g,"/th/"):"",l=a.ext?a.ext.replace(".jpe",".jpeg"):"",m="/thumb/"+k+l,n="/image/"+k+l;m=d+m;var o=d+n;(a.img.indexOf("http:")>-1||a.img.indexOf("https:")>-1||a.img.indexOf("file:")>-1)&&(m=a.img,o=a.img);var p=document.createElement("div");p.className="comment-image";var q=document.createElement("button");q.className="btn-show-image",q.textContent="显示图片",q.setAttribute("type","button"),q.setAttribute("thumb-src",m),q.setAttribute("full-size-src",o),a.originSrc&&q.setAttribute("origin-src",a.originSrc);var r="hacfun"==H.Config.site?"t":H.Config.site.charAt(0);a.fileName&&q.setAttribute("local-src",H.StorageFolderPath+"/favor/threads/"+r+b+"/images/"+a.fileName),p.appendChild(q),g.appendChild(p)}var s=document.createElement("div"),t=a.content||"",u=/((&gt;&gt;\s?No\.)|(>>\s?No\.)|(>>)|(&gt;&gt;))\d+\s*(<br \/>)?(\r)?(\n)?/gi;return t=t.replace(u,function(a){var b=a.match(/\d+/);return b=b&&b.length>0&&b[0],b?"<blockquote data-thread-id='"+b+"' data-po-uid='"+escape(c)+"'><span class='quote-no'>&gt;&gt;No."+b+" </span></blockquote>":void 0}),t=t.replace(/\[h\](.*?)\[\/h\]/g,'<span class="h-hidden-text">$1</span>'),s.className="comment-content",s.innerHTML=t,g.appendChild(s),g},renderAll:function(){var d=this,e={};[].slice.call(a).forEach(function(a){var f=a.getAttribute("data-thread-id"),h=g(b,f);c=a.getAttribute("data-po-uid"),a.getAttribute("data-uid")||a.setAttribute("data-uid",h.userid||h.uid||""),h&&(e[f]=e[f]&&e[f].cloneNode(!0)||d.render(h),a.appendChild(e[f]))});for(var f in e)delete e[f];e=null}}},H.Comment=function(a,b,c){var d="";switch(c=c||{},this.comment=a||{},this.type=this.comment.mode||b,this.pouid=c.pouid,this.threadid=c.threadid,this.imglessMode=c.imglessMode,this.hideSageReport=c.hideSageReport||!1,b){case"op":case"favor":case"comment":case"history":default:d=this.renderOP();break;case"thread":case"local-thread":d=this.renderThread()}return d},H.Comment.prototype.onload=function(){this.onload=null,this.classList.remove("image-placeholder"),this.classList.remove("image-loading"),this.classList.remove("image-error"),this.classList.remove("image-click-to-load")},H.Comment.prototype.onerror=function(){this.onerror=null,this.classList.remove("image-placeholder"),this.classList.remove("image-loading"),this.classList.remove("image-click-to-load"),this.classList.add("image-error"),H.Util.reloadImage(this)},H.Comment.prototype.handleFooter=function(){var a=document.createElement("div"),b=Math.floor(30*Math.random()-30*Math.random()),c=this.comment.score||b;if("op"==this.type){var d="<menu>";void 0!=this.comment.replyCount&&(d+='<button type="button" class="icon icon-comment btn-reply-comment" data-reply-count="'+this.comment.replyCount+'"></button>'),d+='<button type="button" class="icon icon-upvote btn-upvote" data-score="'+(c>=0?c:"")+'"></button><button type="button" class="icon icon-downvote btn-downvote" data-score="'+(0>c?c:"")+'"></button><button type="button" class="icon icon-more2 btn-show-more-comment-option"></button></menu>',a.innerHTML=d}else"favor"==this.type?a.innerHTML='<menu><button type="button" class="icon icon-upvote btn-upvote" data-score="'+(c>=0?c:"")+'"></button><button type="button" class="icon icon-downvote btn-downvote" data-score="'+(0>c?c:"")+'"></button><button type="button" class="icon icon-more2 btn-show-more-comment-option"></button></menu>':"comment"==this.type?a.innerHTML='<menu><button type="button" class="icon icon-more2 btn-show-more-comment-option"></button></menu>':("thread"==this.type||"local-thread"==this.type)&&(a.innerHTML='<menu><button type="button" class="icon icon-reply btn-reply-comment"></button><button type="button" class="icon icon-upvote btn-upvote" data-score="'+(c>=0?c:"")+'"></button><button type="button" class="icon icon-downvote btn-downvote" data-score="'+(0>c?c:"")+'"></button><button type="button" class="icon icon-more2 btn-show-more-comment-option"></button></menu>');return a.className="comment-footer",a},H.Comment.prototype.handleHeader=function(){var a=H.Util.parseTime,b=this.comment.id||this.comment.threadid,c=this.comment.userid||this.comment.uid,d=this.pouid&&this.pouid==c?!0:!1,e=document.createElement("div"),f=document.createElement("span"),g=document.createElement("span"),h=document.createElement("span"),i=document.createElement("a");return h.className="uid"+(d?" po":""),h.innerHTML=parseInt(this.comment.admin,10)&&c&&c.indexOf("<font")<0&&'<font color="red">'+c+"</font>"||c||"",parseInt(this.comment.banned,10)&&(h.innerHTML+=" (过期)"),f.className="ttime",f.innerHTML=this.comment.created&&"favor"!=this.type?a(this.comment.created):this.comment.createdAt?a(this.comment.createdAt):this.comment.now?a(this.comment.now):"",i.className="rid",i.innerHTML=b?"No."+b:"",i.setAttribute("href","####"),e.className="comment-header",e.appendChild(h),e.appendChild(f),(this.comment.fid||this.comment.fname)&&(g.className="fid",g.textContent="无"==this.comment.fname?"":this.comment.fname||H.Util.getForumName(this.comment.fid),e.appendChild(g)),9999999!=b&&e.appendChild(i),e},H.Comment.prototype.handleRep=function(a){var b=this,c=/((&gt;&gt;\s?No\.)|(>>\s?No\.)|(>>)|(&gt;&gt;))\d+\s*(<br \/>)?(\r)?(\n)?/gi;if(("thread"==this.type||"local-thread"==this.type)&&(a=a.replace(c,function(a){var b=a.match(/\d+/);return b=b&&b.length>0&&b[0],b?"<blockquote data-thread-id='"+b+"'><span class='quote-no'>&gt;&gt;No."+b+" </span></blockquote>":void 0}),a.indexOf("</a>")<0)){var d;c=/(https?|ftp):\/\/[\-A-Za-z0-9+&@#\/%?=~_|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_|‌]/g,a=a.replace(c,function(a){d=!0;var b='<a href="'+a+'" target="_blank" class="external-link">'+a+"</a>";if(b="<div>"+b+"</div>",/music\.163\.com/.test(a)){var c=a.match(/song.*?(\d+)/),e=c&&c.length>1&&c[1];e&&!isNaN(e)&&(b=b+'<button type="button" data-song-id="'+e+'" class="icon icon-play btn-play-song"></button>')}else/\.(mp3|aac|ogg|wav)/.test(a)?b=b+'<audio src="'+a+'" preload="none" controls="true"></audio>':/\.(mp4|webm)/.test(a)&&(b=b+'<video src="'+a+'" preload="none" controls="true" controlsList="nodownload"></video>');return b}),d||(c=/ac(\d{2,8})/g,a=a.replace(c,function(b){return b=a.indexOf("/v/"+b)>-1?b:'<a href="http://www.acfun.cn/v/'+b+'" target="_blank" class="external-link">'+b+"</a>"}))}c=/\[h\](.*?)\[\/h\]/g,a=a.replace(c,'<span class="h-hidden-text">$1</span>'),"comment"==this.type&&(a=a.replace(/\n/g,"<br>"));var e=document.createElement("div");e.innerHTML=a,e.className="comment-content";var f=e.querySelector("blockquote");return f&&f.setAttribute("data-po-uid",escape(b.pouid)),e},H.Comment.prototype.handleCommentInfo=function(){var a=document.createElement("div"),b="";return b+=this.comment.title&&"无标题"!=this.comment.title?"<p>标题："+this.comment.title+"</p>":"",b+=this.comment.name&&"无名氏"!=this.comment.name?"<p>名称："+this.comment.name+"</p>":"","comment"==this.type&&(b+=this.comment.email?"<p>Email："+this.comment.email+"</p>":""),b+=parseInt(this.comment.sage,10)?"<p class='icon icon-thumb-down sage'>本串已经被SAGE</p>":"",b+=parseInt(this.comment.deleted,10)?"<p class='icon icon-thumb-down sage'>本串已经被删除</p>":"",a.className="comment-info",a.innerHTML=b,a},H.Comment.prototype.handleImage=function(){var a=H.Current.api.cdn[0],b="comment-image mask",c="hacfun"==H.Config.site?"t":H.Config.site.charAt(0),d=document.createElement("div"),e=document.createElement("img"),f=this.comment.img?this.comment.img.replace(/\/Th\//g,"/th/"):"",g=this.comment.ext?this.comment.ext.replace(".jpe",".jpeg"):"",h="/thumb/"+f+g,i="/image/"+f+g,j=a+h;return this.comment.img&&(this.comment.img.indexOf("http:")>-1||this.comment.img.indexOf("https:")>-1||this.comment.img.indexOf("file:")>-1)&&(j=this.comment.img),"favor"==this.type&&(this.comment.fileName=this.comment.fileName?this.comment.fileName:h.substr(h.lastIndexOf("/")+1)),this.comment.fileName&&("thread"==this.type||"local-thread"==this.type?j=H.StorageFolderPath+"/favor/threads/"+c+(this.threadid||this.comment.id)+"/images/"+this.comment.fileName:("favor"==this.type||"comment"==this.type)&&(j=H.StorageFolderPath+"/"+this.type+"/images/"+this.comment.fileName),e.setAttribute("local-src",j),e.setAttribute("src",j)),this.imglessMode||this.imglessMode===!1?(e.setAttribute("src",j),j.indexOf(".gif")>-1&&(e.removeAttribute("src"),e.setAttribute("data-gif",1)),"comment"!=this.type&&(e.classList.add("image-loading"),e.classList.add("image-placeholder"),e.onload=this.onload,e.onerror=this.onerror)):this.comment.fileName||(e.setAttribute("src","image/clickToLoad.png"),e.classList.add("image-click-to-load"),b+=" no-image"),h&&e.setAttribute("thumb-src",a+h),i&&e.setAttribute("full-size-src",a+i),d.className=b,d.appendChild(e),d},H.Comment.prototype.renderOP=function(){var a=document.createElement("article"),b="comment";a.setAttribute("data-uniqueid",this.comment.uniqueid||""),a.setAttribute("data-thread-id",this.comment.threadsId||this.comment.threadid||this.comment.id),a.setAttribute("data-uid",this.comment.userid||""),(9999999==this.comment.id||9999999==this.comment.threadid)&&a.setAttribute("data-adid",H.Util.generateUUID()),this.comment.state&&a.setAttribute("data-state",this.comment.state),(this.comment.forumid||this.comment.fid)&&a.setAttribute("data-fid",this.comment.forumid||this.comment.fid),this.comment.replyPage&&a.setAttribute("data-reply-page",this.comment.replyPage),"op"==this.type&&this.comment.replyCount&&a.setAttribute("data-reply-count",this.comment.replyCount),b+="favor"==this.type?" favor-list":"comment"==this.type?" comment-list":"history"==this.type?" history-list":"",a.className=b;var c=this.handleHeader(),d=c.querySelector(".rid"),e="<button type='button' class='icon icon-chevron btn-show-more-comment-option'></button>",f="";if(f="comment"==this.type?"sent"==this.comment.state&&this.comment.forumName?this.comment.forumName:"":"favor"==this.type?"":this.comment.replyCount>=0?this.comment.replyCount:"",d&&(d.innerHTML=f+e),this.comment.content=this.comment.content||"",this.comment.content=this.comment.content.length>300?this.comment.content.slice(0,250)+"...":this.comment.content,this.hideSageReport&&parseInt(this.comment.sage,10)){var g=document.createElement("div");g.className="comment-info",g.innerHTML="<p class='icon icon-thumb-down sage'>本串已经被SAGE</p>",a.appendChild(g)}else a.appendChild(c),a.appendChild(this.handleCommentInfo()),(this.comment.img||this.comment.fileName||"").trim()&&a.appendChild(this.handleImage()),a.appendChild(this.handleRep(this.comment.content));return a},H.Comment.prototype.renderThread=function(){var a=document.createElement("article");a.setAttribute("data-thread-id",this.comment.threadsId||this.comment.threadid||this.comment.id),a.className="comment",a.setAttribute("data-uid",this.comment.userid||""),(9999999==this.comment.id||9999999==this.comment.threadid)&&a.setAttribute("data-adid",H.Util.generateUUID());var b=this.handleHeader(),c=b.querySelector(".rid"),d="<button type='button' class='icon icon-chevron btn-show-more-comment-option'></button>";return c&&(c.innerHTML+=d),a.appendChild(b),a.appendChild(this.handleCommentInfo()),(this.comment.img||"").trim()&&a.appendChild(this.handleImage()),a.appendChild(this.handleRep(this.comment.content)),a},H.DownloadManager=function(){var a=function(a,b){var c=H.Util,d=H.Config,e=H.Storage,f=H.Xhr,g=H.Nimingban[d.site],h=g.api.cdn[0],i=c.saveToStorage,j={},k=[],l=[],m=1,n="",o=d.coolDown||5e3,p="hacfun"==d.site?"t":d.site.charAt(0),q=g.api.thread+"/id/"+a,r=H.StorageFolder+"/favor/threads/"+p+a+"/data/",s=H.StorageFolder+"/favor/threads/"+p+a+"/images/",t=function(b){c.toast.show("No."+a+" 下载失败，原因可能是：<br>该串不存在、网络不稳定或服务器繁忙",{duration:6e3}),v()},u=function(){if(H.Storage.getItem({where:{mode:"favor",threadid:a}}).then(function(a){a.length>0?(a=a[0],x(a).then(function(){w().then(function(a){console.log("fileCount: "+a),m=a,y()})},t)):k[0]=f.get(q,{page:m,appid:g.api.appid},{responseType:"json",timeout:6e4}).then(function(a){x(a).then(function(){B(a)},t)})["catch"](t)}),g.api.subscribe){f.get(g.api.subscribe,{tid:a,uuid:d.uuid,appid:g.api.appid},{responseType:"text"}).then(function(){})["catch"](function(a){})}},v=function(){y=function(){},z=function(){},B=function(){},k.forEach(function(a){a.cancel(),a=null}),l.forEach(function(a){a.cancel(),a=null}),clearTimeout(n);var b=document.querySelector("[data-download-id='"+a+"']");if(b){var c=b.querySelector("button");c.classList.remove("icon-pause"),c.classList.add("icon-play"),c.setAttribute("title","开始下载")}H.DownloadList[a]=1},w=function(){return new Promise(function(a,b){var c=function(){a(1)};window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(b){b.root.getDirectory(r,{create:!1},function(b){var d=b.createReader();d.readEntries(function(b){a(b.length)},c)},c)},c)})},x=function(b){if(!(b instanceof Object))throw Promise.reject();for(var c in b)b.hasOwnProperty(c)&&"replys"!=c&&(j[c]=b[c]);var g=(new Date).valueOf();if(j.uniqueid=j.uniqueid||"favor-"+g,j.threadid=a,j.mode="favor",j.site=d.site,j.state="downloading",j.created=g,j.updated=g,j.img){j.ext=j.ext.replace(".jpe",".jpeg");var k=h+"/image/"+j.img+j.ext,l=h+"/thumb/"+j.img+j.ext;j.fileName=k.substr(k.lastIndexOf("/")+1);{f.get(k,{},{responseType:"arraybuffer",timeout:18e4,cache:!0}).then(function(a){var b=s+j.fileName;i(a,b)}),f.get(l,{},{responseType:"arraybuffer",timeout:6e4,cache:!0}).then(function(a){var b=H.StorageFolder+"/favor/images/"+j.fileName;i(a,b)})}}return e.putItem([j])},y=function(){k[0]=f.get(q,{page:m,appid:g.api.appid},{responseType:"json",timeout:6e4}).then(function(a){B(a)})["catch"](t)},z=function(a,b){var c=[];if(a.img){var d=h+"/image/"+j.img+j.ext;a.fileName=d.substr(d.lastIndexOf("/")+1)}return a.replys.forEach(function(a){if(a.img){var b=new Promise(function(b,c){var d=h+"/image/"+a.img+a.ext,e=f.get(d,null,{responseType:"arraybuffer",timeout:18e4,cache:!0}).then(function(c){a.fileName=d.substr(d.lastIndexOf("/")+1),i(c,s+a.fileName),b()})["catch"](function(a){c(a)});l.push(e)});c.push(b)}}),Promise.all(c)},A=function(){H.DownloadManager.remove(a);var b=document.querySelector("[data-download-id='"+a+"']");b&&b.parentNode.removeChild(b),c.toast.show("No."+a+" 下载成功");for(var d in H.DownloadList)if("object"!=typeof H.DownloadList[d]){if(H.DownloadManager.add(d,"fullsize"),b=document.querySelector("[data-download-id='"+d+"']")){var e=b.querySelector("button");e.classList.remove("icon-play"),e.classList.add("icon-pause"),e.setAttribute("title","暂停下载")}break}},B=function(a){var b=function(){var b=r+m+".data",c="_set_data_("+JSON.stringify(a)+");",f=Math.ceil(a.replyCount/(d.threadPerPage||19));i(c,b).then(function(){console.log("Page "+m+" downloaded")},t),f>m?(m+=1,n=setTimeout(y,o),C(m,f)):(j.state="downloaded",A()),j.replyCount=a.replyCount,j.size=f,e.putItem([j])};z(a).then(b,function(){t("下载第"+m+"页图片超时")})},C=function(b,c){var d="1",e=0;b&&c&&(e=b/c,d=b+"/"+c);var f=document.querySelector("[data-download-id='"+a+"']");if(f){var g=f.querySelector("span:last-child");g.textContent="正在下载 "+d}};return{downloadid:a,start:u,stop:v}},b=function(){var a={};Object.keys(H.DownloadList).forEach(function(b){a[b]=1});var b={uniqueid:"downloadList"+H.Config.site,site:H.Config.site,mode:"downloadList",data:a};H.Storage.putItem([b])};return{add:function(c,d){var e=this;return new Promise(function(f,g){e.remove(c);var h=H.Config.maxDownloadNumber||5,i=0;for(var j in H.DownloadList)"object"==typeof H.DownloadList[j]&&(i+=1);return Object.keys(H.DownloadList).length>=20?void g("下载数不能超过20个"):i>=h?(H.DownloadList[c]=1,void g("同时下载数不能超过"+h+"个")):(H.DownloadList[c]=new a(c,d),H.DownloadList[c].start(),b(),void f())})},remove:function(a){var c=a.downloadid||a;try{H.DownloadList[c].stop()}catch(d){}H.DownloadList[c]=null,delete H.DownloadList[c],b()}}}(),H.GifParser=function(a){var b=function(a){var b=new Uint8Array(a),c=0;return{index:c,data:b,finished:function(){return b.length},readByte:function(){return b[this.index++]},peekByte:function(){return b[this.index]},skipBytes:function(a){this.index+=a},peekBit:function(a){return!!(this.peekByte()&1<<8-a)},readAscii:function(a){for(var b="",c=0;a>c;c++)b+=String.fromCharCode(this.readByte());return b},isNext:function(a){for(var c=0;c<a.length;c++)if(a[c]!==b[this.index+c])return!1;return!0},log:function(a){},error:function(a){console.error(this.index+": "+a)}}},c=[],d=0,e=new b(a),f=new Date,g=!1,h=function(){new Date-f>200&&(console.warn("timeout"),m=!1,g=!0)},i=function(a,b){var c=null;b=b||"image/jpg";try{c=new Blob([a],{type:b})}catch(d){var e=new(window.WebKitBlobBuilder||window.BlobBuilder);e.append(a),c=e.getBlob(b)}return c};if("GIF89a"!=e.readAscii(6)){var j=e.data.buffer;return{gif:i(j),duration:0}}if(e.skipBytes(4),e.peekBit(1)){e.log("GLOBAL COLOR TABLE");var k=7&e.readByte();e.log("GLOBAL COLOR TABLE IS "+3*Math.pow(2,k+1)+" BYTES"),e.skipBytes(2),e.skipBytes(3*Math.pow(2,k+1))}else e.log("NO GLOBAL COLOR TABLE");for(var l=a.slice(0,e.index),m=!0,n=!1;m;)if(h(),e.isNext([33,255])){e.log("APPLICATION EXTENSION"),
e.skipBytes(2);var o=e.readByte();if(e.log(e.readAscii(o)),e.isNext([3,1]))e.skipBytes(5);else{for(e.log("A weird application extension. Skip until we have 2 NULL bytes");0!==e.readByte()||0!==e.peekByte(););e.log("OK moving on"),e.skipBytes(1)}}else if(e.isNext([33,254])){for(e.log("COMMENT EXTENSION"),e.skipBytes(2);!e.isNext([0])&&!g;){h();var o=e.readByte();e.log(e.readAscii(o))}e.skipBytes(1)}else if(e.isNext([44])){if(e.log("IMAGE DESCRIPTOR!"),n||c.push({index:e.index,delay:0}),n=!1,e.skipBytes(9),e.peekBit(1)){e.log("LOCAL COLOR TABLE");var k=7&e.readByte();e.log("LOCAL COLOR TABLE IS "+3*Math.pow(2,k+1)+" BYTES"),e.skipBytes(3*Math.pow(2,k+1))}else e.log("NO LOCAL TABLE PHEW"),e.skipBytes(1);for(e.log("MIN CODE SIZE "+e.readByte()),e.log("DATA START");!e.isNext([0])&&!g;){h();var o=e.readByte();e.skipBytes(o)}e.log("DATA END"),e.skipBytes(1)}else if(e.isNext([33,249,4])){e.log("GRAPHICS CONTROL EXTENSION!");var p=e.index;e.skipBytes(3);var q=e.readByte()>>2;e.log("DISPOSAL "+q);var r=e.readByte()+256*e.readByte();d+=r,c.push({index:p,delay:r,disposal:q}),e.log("FRAME DELAY "+r),e.skipBytes(2),n=!0}else{for(var s=e.index;!e.finished()&&!e.isNext([33,249,4])&&!g;)h(),e.readByte();e.finished()?(e.index=s,e.log("WE END"),m=!1):e.log("UNKNOWN DATA FROM "+s)}var t=e.index,u=a.slice(-1);if(0==c.length||g)return{gif:i(new b(a).data.buffer,"image/gif"),duration:0};var v=c[0],w=c.length>1?c[1].index:t,x=null;try{x=new Blob([l,a.slice(v.index,w),u],{type:"image/gif"})}catch(y){var z=new(window.WebKitBlobBuilder||window.BlobBuilder);z.append(l),z.append(a.slice(v.index,w)),z.append(u),x=z.getBlob("image/gif")}return{gif:x,duration:d/100*1e3}},ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){if(void 0===a&&(a=0),void 0===b&&(b=this.byteLength),a=Math.floor(a),b=Math.floor(b),0>a&&(a+=this.byteLength),0>b&&(b+=this.byteLength),a=Math.min(Math.max(0,a),this.byteLength),b=Math.min(Math.max(0,b),this.byteLength),0>=b-a)return new ArrayBuffer(0);var c=new ArrayBuffer(b-a),d=new Uint8Array(c),e=new Uint8Array(this,a,b-a);return d.set(e),c}),H.Page=function(a,b,c){c=c||{};var d=H.Comment,e=H.BlackList,f=document.createDocumentFragment(),g=b.data,h=b.currentPage||0,i=b.totalPage||0,j=document.createElement("div");j.setAttribute("data-page-no",h);var k=document.createElement("div");k.className="list-wrapper";var l=H.Config.imglessMode;if(l&&2==l){var m=navigator.connection||navigator.webkitConnection||{},n=(m.type||"").toLowerCase();["4g","3g","2g","cellular"].indexOf(n)>-1&&(l=0)}if("thread"==a||"localThread"==a){var o=g.replys||[],p=g.userid;if(g.id){var q=new d(g,a,{pouid:p,imglessMode:l});k.appendChild(q)}for(var r=0,s=o.length;s>r;r++){var t=new d(o[r],a,{pouid:p,threadid:g.id,imglessMode:l});k.appendChild(t)}}else if("history"===a){var u=H.Util.getDate,v=[];H.lastHistoryDate=b.insertPosition?H.lastHistoryDate:"";for(var r=0,s=g.length;s>r;r++){var w=g[r],x=u(w.updated);H.lastHistoryDate!==x&&(H.lastHistoryDate=x,v.push(x)),v.push(w)}for(var r=0,s=v.length;s>r;r++)if("string"==typeof v[r]){var y=document.createElement("div");y.className="list-date",y.textContent=v[r],k.appendChild(y)}else{var t=new d(v[r],a,{imglessMode:l,hideSageReport:c.hideSageReport});k.appendChild(t)}}else{var z=e.filter(g);H.Config.showSage||(z=z.filter(function(a){return!parseInt(a.sage,10)}));for(var r=0,s=z.length;s>r;r++){var t=new d(z[r],a,{imglessMode:l,hideSageReport:c.hideSageReport});k.appendChild(t)}}j.appendChild(k);var A=document.createElement("div");return A.innerHTML=1==b.insertPosition?"":i>h?"<p class='msg'>上拉加载更多</p>":"<p class='msg'>已是最后一页</p>",j.appendChild(A),f.appendChild(j),f},H.Sketchpad=function(a){var b,c,d;for(var e in this.constructor.prototype)this[e]=this[e].bind(this);b="string"==typeof a.element?document.querySelector(a.element):a.element;var f=a.width||300,g=a.height||400,h=a.color||"#000000",i=a.penSize||4,j=a.strokes||[],k={color:null,size:null,lines:[]},l=a.undoHistory||[],m=!1,n=function(a){var b=c.getBoundingClientRect();return{x:a.pageX-b.left,y:a.pageY-b.top}},o=function(a,b,c,d){p(a,b,c,d,"source-over")},p=function(a,b,c,d,e){context.save(),context.lineJoin="round",context.lineCap="round",context.strokeStyle=c,context.lineWidth=d,context.globalCompositeOperation=e,context.beginPath(),context.moveTo(a.x,a.y),context.lineTo(b.x,b.y),context.closePath(),context.stroke(),context.restore()},q=function(a){d=n(a),k.color=h,k.size=i,k.lines=[],m=!0,c.addEventListener("mousemove",s)},r=function(a){m&&(j.push(y({},k)),m=!1,A()),c.removeEventListener("mousemove",s)},s=function(a){var b=n(a);o(d,b,h,i),k.lines.push({start:y({},d),end:y({},b)}),d=b},t=function(a){a.preventDefault(),m||(d=n(a.changedTouches[0]),k.color=h,k.size=i,k.lines=[],m=!0,c.addEventListener("touchmove",x,!1))},u=function(a){a.preventDefault(),m&&(j.push(y({},k)),m=!1,A()),c.removeEventListener("touchmove",x)},v=function(a){a.preventDefault(),m&&(j.push(y({},k)),m=!1,A()),c.removeEventListener("touchmove",x)},w=function(a){a.preventDefault(),m&&(j.push(y({},k)),m=!1,A()),c.removeEventListener("touchmove",x)},x=function(a){a.preventDefault();var b=n(a.changedTouches[0]);o(d,b,h,i),k.lines.push({start:y({},d),end:y({},b)}),d=b},y=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},z=function(){c=b,c.width=f,c.height=g,context=c.getContext("2d"),context.fillStyle="#ffffff",context.fillRect(0,0,f,g),C(j),c.addEventListener("mousedown",q),c.addEventListener("mouseout",r),c.addEventListener("mouseup",r),c.addEventListener("touchstart",t),c.addEventListener("touchend",u),c.addEventListener("touchcancel",v),c.addEventListener("touchleave",w)},A=function(){H.SketchpadHistory=j,H.Storage.putItem([{uniqueid:"sketchpad",data:j,site:H.Config.site,mode:"sketchpad"}])},B=function(a){for(var b=0;b<a.lines.length;b++){var c=a.lines[b];o(c.start,c.end,a.color,a.size)}},C=function(a){for(var b=0;b<a.length;b++)B(a[b])},D=function(){context.clearRect(0,0,c.width,c.height),context.fillStyle="#ffffff",context.fillRect(0,0,f,g)},E=function(){D();var a=j.pop();a&&(l.push(a),C(j),A())},F=function(){c&&(c.removeEventListener("mousedown",q),c.removeEventListener("mouseout",r),c.removeEventListener("mouseup",r),c.removeEventListener("touchstart",t),c.removeEventListener("touchend",u),c.removeEventListener("touchcancel",v),c.removeEventListener("touchleave",w),G(),b=null,c=null)},G=function(){for(;j.length>0;)j.pop();for(;l.length>0;)l.pop();D(),A()},I=function(a){i=a},J=function(a){h=a};return b.style.cssText="cursor: crosshair",z(),A(),{strokes:j,setPenSize:I,setPenColor:J,reset:z,redraw:C,undo:E,remove:G,destroy:F}},function(a){"use strict";"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a():window.Sortable=a()}(function(){"use strict";function a(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a,this.options=b=t({},b),a[T]=this;var c={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var d in c)!(d in b)&&(b[d]=c[d]);ga(b);for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));this.nativeDraggable=b.forceFallback?!1:$,f(a,"mousedown",this._onTapStart),f(a,"touchstart",this._onTapStart),f(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(f(a,"dragover",this),f(a,"dragenter",this)),ea.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function b(a,b){"clone"!==a.lastPullMode&&(b=!0),z&&z.state!==b&&(i(z,"display",b?"none":""),b||z.state&&(a.options.group.revertClone?(A.insertBefore(z,B),a._animate(w,z)):A.insertBefore(z,w)),z.state=b)}function c(a,b,c){if(a){c=c||V;do if(">*"===b&&a.parentNode===c||r(a,b))return a;while(a=d(a))}return null}function d(a){var b=a.host;return b&&b.nodeType?b:a.parentNode}function e(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function f(a,b,c){a.addEventListener(b,c,Z)}function g(a,b,c){a.removeEventListener(b,c,Z)}function h(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(R," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(R," ")}}function i(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return V.defaultView&&V.defaultView.getComputedStyle?c=V.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function j(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;f>e;e++)c(d[e],e);return d}return[]}function k(a,b,c,d,e,f,g){a=a||b[T];var h=V.createEvent("Event"),i=a.options,j="on"+c.charAt(0).toUpperCase()+c.substr(1);h.initEvent(c,!0,!0),h.to=b,h.from=e||b,h.item=d||b,h.clone=z,h.oldIndex=f,h.newIndex=g,b.dispatchEvent(h),i[j]&&i[j].call(a,h)}function l(a,b,c,d,e,f,g,h){var i,j,k=a[T],l=k.options.onMove;return i=V.createEvent("Event"),i.initEvent("move",!0,!0),i.to=b,i.from=a,i.dragged=c,i.draggedRect=d,i.related=e||b,i.relatedRect=f||b.getBoundingClientRect(),i.willInsertAfter=h,a.dispatchEvent(i),l&&(j=l.call(k,i,g)),j}function m(a){a.draggable=!1}function n(){aa=!1}function o(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return b.clientY-(d.top+d.height)>5||b.clientX-(d.left+d.width)>5}function p(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function q(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"===a.nodeName.toUpperCase()||">*"!==b&&!r(a,b)||c++;return c}function r(a,b){if(a){b=b.split(".");var c=b.shift().toUpperCase(),d=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");return!(""!==c&&a.nodeName.toUpperCase()!=c||b.length&&((" "+a.className+" ").match(d)||[]).length!=b.length)}return!1}function s(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function t(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function u(a){return X?X(a).clone(!0)[0]:Y&&Y.dom?Y.dom(a).cloneNode(!0):a.cloneNode(!0)}function v(a){for(var b=a.getElementsByTagName("input"),c=b.length;c--;){var d=b[c];d.checked&&da.push(d)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q={},R=/\s+/g,S=/left|right|inline/,T="Sortable"+(new Date).getTime(),U=window,V=U.document,W=U.parseInt,X=U.jQuery||U.Zepto,Y=U.Polymer,Z=!1,$=!!("draggable"in V.createElement("div")),_=function(a){return navigator.userAgent.match(/Trident.*rv[ :]?11\./)?!1:(a=V.createElement("x"),a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents)}(),aa=!1,ba=Math.abs,ca=Math.min,da=[],ea=[],fa=s(function(a,b,c){if(c&&b.scroll){var d,e,f,g,h,i,j=c[T],k=b.scrollSensitivity,l=b.scrollSpeed,m=a.clientX,n=a.clientY,o=window.innerWidth,p=window.innerHeight;if(E!==c&&(D=b.scroll,E=c,F=b.scrollFn,D===!0)){D=c;do if(D.offsetWidth<D.scrollWidth||D.offsetHeight<D.scrollHeight)break;while(D=D.parentNode)}D&&(d=D,e=D.getBoundingClientRect(),f=(ba(e.right-m)<=k)-(ba(e.left-m)<=k),g=(ba(e.bottom-n)<=k)-(ba(e.top-n)<=k)),f||g||(f=(k>=o-m)-(k>=m),g=(k>=p-n)-(k>=n),(f||g)&&(d=U)),(Q.vx!==f||Q.vy!==g||Q.el!==d)&&(Q.el=d,Q.vx=f,Q.vy=g,clearInterval(Q.pid),d&&(Q.pid=setInterval(function(){return i=g?g*l:0,h=f?f*l:0,"function"==typeof F?F.call(j,h,i,a):void(d===U?U.scrollTo(U.pageXOffset+h,U.pageYOffset+i):(d.scrollTop+=i,d.scrollLeft+=h))},24)))}},30),ga=function(a){function b(a,b){return(void 0===a||a===!0)&&(a=c.name),"function"==typeof a?a:function(c,d){var e=d.options.group.name;return b?a:a&&(a.join?a.indexOf(e)>-1:e==a)}}var c={},d=a.group;d&&"object"==typeof d||(d={name:d}),c.name=d.name,c.checkPull=b(d.pull,!0),c.checkPut=b(d.put),c.revertClone=d.revertClone,a.group=c};a.prototype={constructor:a,_onTapStart:function(a){var b,d=this,e=this.el,f=this.options,g=f.preventOnFilter,h=a.type,i=a.touches&&a.touches[0],j=(i||a).target,l=a.target.shadowRoot&&a.path[0]||j,m=f.filter;if(v(e),!w&&!(/mousedown|pointerdown/.test(h)&&0!==a.button||f.disabled)&&(j=c(j,f.draggable,e),j&&C!==j)){if(b=q(j,f.draggable),"function"==typeof m){if(m.call(this,a,j,this))return k(d,l,"filter",j,e,b),void(g&&a.preventDefault())}else if(m&&(m=m.split(",").some(function(a){return a=c(l,a.trim(),e),a?(k(d,a,"filter",j,e,b),!0):void 0})))return void(g&&a.preventDefault());(!f.handle||c(l,f.handle,e))&&this._prepareDragStart(a,i,j,b)}},_prepareDragStart:function(a,b,c,d){var e,g=this,i=g.el,l=g.options,n=i.ownerDocument;c&&!w&&c.parentNode===i&&(N=a,A=i,w=c,x=w.parentNode,B=w.nextSibling,C=c,L=l.group,J=d,this._lastX=(b||a).clientX,this._lastY=(b||a).clientY,w.style["will-change"]="transform",e=function(){g._disableDelayedDrag(),w.draggable=g.nativeDraggable,h(w,l.chosenClass,!0),g._triggerDragStart(a,b),k(g,A,"choose",w,A,J)},l.ignore.split(",").forEach(function(a){j(w,a.trim(),m)}),f(n,"mouseup",g._onDrop),f(n,"touchend",g._onDrop),f(n,"touchcancel",g._onDrop),f(n,"pointercancel",g._onDrop),f(n,"selectstart",g),l.delay?(f(n,"mouseup",g._disableDelayedDrag),f(n,"touchend",g._disableDelayedDrag),f(n,"touchcancel",g._disableDelayedDrag),f(n,"mousemove",g._disableDelayedDrag),f(n,"touchmove",g._disableDelayedDrag),f(n,"pointermove",g._disableDelayedDrag),g._dragStartTimer=setTimeout(e,l.delay)):e())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),g(a,"mouseup",this._disableDelayedDrag),g(a,"touchend",this._disableDelayedDrag),g(a,"touchcancel",this._disableDelayedDrag),g(a,"mousemove",this._disableDelayedDrag),g(a,"touchmove",this._disableDelayedDrag),g(a,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(a,b){b=b||("touch"==a.pointerType?a:null),b?(N={target:w,clientX:b.clientX,clientY:b.clientY},this._onDragStart(N,"touch")):this.nativeDraggable?(f(w,"dragend",this),f(A,"dragstart",this._onDragStart)):this._onDragStart(N,!0);try{V.selection?setTimeout(function(){V.selection.empty()}):window.getSelection().removeAllRanges()}catch(c){}},_dragStarted:function(){if(A&&w){var b=this.options;h(w,b.ghostClass,!0),h(w,b.dragClass,!1),a.active=this,k(this,A,"start",w,A,J)}else this._nulling()},_emulateDragOver:function(){if(O){if(this._lastX===O.clientX&&this._lastY===O.clientY)return;this._lastX=O.clientX,this._lastY=O.clientY,_||i(y,"display","none");var a=V.elementFromPoint(O.clientX,O.clientY),b=a,c=ea.length;if(b)do{if(b[T]){for(;c--;)ea[c]({clientX:O.clientX,clientY:O.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);_||i(y,"display","")}},_onTouchMove:function(b){if(N){var c=this.options,d=c.fallbackTolerance,e=c.fallbackOffset,f=b.touches?b.touches[0]:b,g=f.clientX-N.clientX+e.x,h=f.clientY-N.clientY+e.y,j=b.touches?"translate3d("+g+"px,"+h+"px,0)":"translate("+g+"px,"+h+"px)";if(!a.active){if(d&&ca(ba(f.clientX-this._lastX),ba(f.clientY-this._lastY))<d)return;this._dragStarted()}this._appendGhost(),P=!0,O=f,i(y,"webkitTransform",j),i(y,"mozTransform",j),i(y,"msTransform",j),i(y,"transform",j),b.preventDefault()}},_appendGhost:function(){if(!y){var a,b=w.getBoundingClientRect(),c=i(w),d=this.options;y=w.cloneNode(!0),h(y,d.ghostClass,!1),h(y,d.fallbackClass,!0),h(y,d.dragClass,!0),i(y,"top",b.top-W(c.marginTop,10)),i(y,"left",b.left-W(c.marginLeft,10)),i(y,"width",b.width),i(y,"height",b.height),i(y,"opacity","0.8"),i(y,"position","fixed"),i(y,"zIndex","100000"),i(y,"pointerEvents","none"),d.fallbackOnBody&&V.body.appendChild(y)||A.appendChild(y),a=y.getBoundingClientRect(),i(y,"width",2*b.width-a.width),i(y,"height",2*b.height-a.height)}},_onDragStart:function(a,b){var c=a.dataTransfer,d=this.options;this._offUpEvents(),L.checkPull(this,this,w,a)&&(z=u(w),z.draggable=!1,z.style["will-change"]="",i(z,"display","none"),h(z,this.options.chosenClass,!1),A.insertBefore(z,w),k(this,A,"clone",w)),h(w,d.dragClass,!0),b?("touch"===b?(f(V,"touchmove",this._onTouchMove),f(V,"touchend",this._onDrop),f(V,"touchcancel",this._onDrop),f(V,"pointermove",this._onTouchMove),f(V,"pointerup",this._onDrop)):(f(V,"mousemove",this._onTouchMove),f(V,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(c&&(c.effectAllowed="move",d.setData&&d.setData.call(this,c,w)),f(V,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(d){var e,f,g,h,j=this.el,k=this.options,m=k.group,p=a.active,q=L===m,r=!1,s=k.sort;if(void 0!==d.preventDefault&&(d.preventDefault(),!k.dragoverBubble&&d.stopPropagation()),!w.animated&&(P=!0,p&&!k.disabled&&(q?s||(h=!A.contains(w)):M===this||(p.lastPullMode=L.checkPull(this,p,w,d))&&m.checkPut(this,p,w,d))&&(void 0===d.rootEl||d.rootEl===this.el))){if(fa(d,k,this.el),aa)return;if(e=c(d.target,k.draggable,j),f=w.getBoundingClientRect(),M!==this&&(M=this,r=!0),h)return b(p,!0),x=A,void(z||B?A.insertBefore(w,z||B):s||A.appendChild(w));if(0===j.children.length||j.children[0]===y||j===d.target&&o(j,d)){if(0!==j.children.length&&j.children[0]!==y&&j===d.target&&(e=j.lastElementChild),e){if(e.animated)return;g=e.getBoundingClientRect()}b(p,q),l(A,j,w,f,e,g,d)!==!1&&(w.contains(j)||(j.appendChild(w),x=j),this._animate(f,w),e&&this._animate(g,e))}else if(e&&!e.animated&&e!==w&&void 0!==e.parentNode[T]){G!==e&&(G=e,H=i(e),I=i(e.parentNode)),g=e.getBoundingClientRect();var t=g.right-g.left,u=g.bottom-g.top,v=S.test(H.cssFloat+H.display)||"flex"==I.display&&0===I["flex-direction"].indexOf("row"),C=e.offsetWidth>w.offsetWidth,D=e.offsetHeight>w.offsetHeight,E=(v?(d.clientX-g.left)/t:(d.clientY-g.top)/u)>.5,F=e.nextElementSibling,J=!1;if(v){var K=w.offsetTop,N=e.offsetTop;J=K===N?e.previousElementSibling===w&&!C||E&&C:e.previousElementSibling===w||w.previousElementSibling===e?(d.clientY-g.top)/u>.5:N>K}else r||(J=F!==w&&!D||E&&D);var O=l(A,j,w,f,e,g,d,J);O!==!1&&((1===O||-1===O)&&(J=1===O),aa=!0,setTimeout(n,30),b(p,q),w.contains(j)||(J&&!F?j.appendChild(w):e.parentNode.insertBefore(w,J?F:e)),x=w.parentNode,this._animate(f,w),this._animate(g,e))}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();1===a.nodeType&&(a=a.getBoundingClientRect()),i(b,"transition","none"),i(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,i(b,"transition","all "+c+"ms"),i(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){i(b,"transition",""),i(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;g(V,"touchmove",this._onTouchMove),g(V,"pointermove",this._onTouchMove),g(a,"mouseup",this._onDrop),g(a,"touchend",this._onDrop),g(a,"pointerup",this._onDrop),g(a,"touchcancel",this._onDrop),g(a,"pointercancel",this._onDrop),g(a,"selectstart",this)},_onDrop:function(b){var c=this.el,d=this.options;clearInterval(this._loopId),clearInterval(Q.pid),clearTimeout(this._dragStartTimer),g(V,"mousemove",this._onTouchMove),this.nativeDraggable&&(g(V,"drop",this),g(c,"dragstart",this._onDragStart)),this._offUpEvents(),b&&(P&&(b.preventDefault(),!d.dropBubble&&b.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(A===x||"clone"!==a.active.lastPullMode)&&z&&z.parentNode&&z.parentNode.removeChild(z),w&&(this.nativeDraggable&&g(w,"dragend",this),m(w),w.style["will-change"]="",h(w,this.options.ghostClass,!1),h(w,this.options.chosenClass,!1),k(this,A,"unchoose",w,A,J),A!==x?(K=q(w,d.draggable),K>=0&&(k(null,x,"add",w,A,J,K),k(this,A,"remove",w,A,J,K),k(null,x,"sort",w,A,J,K),k(this,A,"sort",w,A,J,K))):w.nextSibling!==B&&(K=q(w,d.draggable),K>=0&&(k(this,A,"update",w,A,J,K),k(this,A,"sort",w,A,J,K))),a.active&&((null==K||-1===K)&&(K=J),k(this,A,"end",w,A,J,K),this.save()))),this._nulling()},_nulling:function(){A=w=x=y=B=z=C=D=E=N=O=P=K=G=H=M=L=a.active=null,da.forEach(function(a){a.checked=!0}),da.length=0},handleEvent:function(a){switch(a.type){case"drop":case"dragend":this._onDrop(a);break;case"dragover":case"dragenter":w&&(this._onDragOver(a),e(a));break;case"selectstart":a.preventDefault()}},toArray:function(){for(var a,b=[],d=this.el.children,e=0,f=d.length,g=this.options;f>e;e++)a=d[e],c(a,g.draggable,this.el)&&b.push(a.getAttribute(g.dataIdAttr)||p(a));return b},sort:function(a){var b={},d=this.el;this.toArray().forEach(function(a,e){var f=d.children[e];c(f,this.options.draggable,d)&&(b[a]=f)},this),a.forEach(function(a){b[a]&&(d.removeChild(b[a]),d.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return c(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:(c[a]=b,void("group"===a&&ga(c)))},destroy:function(){var a=this.el;a[T]=null,g(a,"mousedown",this._onTapStart),g(a,"touchstart",this._onTapStart),g(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(a,"dragover",this),g(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),ea.splice(ea.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},f(V,"touchmove",function(b){a.active&&b.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Z={capture:!1,passive:!1}}}))}catch(ha){}return a.utils={on:f,off:g,css:i,find:j,is:function(a,b){return!!c(a,b,a)},extend:t,throttle:s,closest:c,toggleClass:h,clone:u,index:q},a.create=function(b,c){return new a(b,c)},a.version="1.6.0",a}),!function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:a.md5=t}(this),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define("qrcode",["exports"],b):(a=a||self,b(a.QRCode={}))}(this,function(a){"use strict";function b(a,b){function c(){this.constructor=a}oa(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function c(a){for(var b=0,c=[],d=a.length,e=0;d>e;e++){var f=a.charCodeAt(e);128>f?c[b++]=f:2048>f?(c[b++]=f>>6|192,c[b++]=63&f|128):55296===(64512&f)&&d>e+1&&56320===(64512&a.charCodeAt(e+1))?(f=65536+((1023&f)<<10)+(1023&a.charCodeAt(++e)),c[b++]=f>>18|240,c[b++]=f>>12&63|128,c[b++]=f>>6&63|128,c[b++]=63&f|128):(c[b++]=f>>12|224,c[b++]=f>>6&63|128,c[b++]=63&f|128)}return c}function d(a){if(1>a)throw"illegal log: "+a;return ta[a]}function e(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return sa[a]}function f(a){return Ba[a-1]}function g(a){for(var b=new wa([1]),c=0;a>c;c++)b=b.multiply(new wa([1,e(c)]));return b}function h(a){for(var b=0;0!==a;)b++,a>>>=1;return b}function i(a){for(var b=a<<12;h(b)-Fa>=0;)b^=Ea<<h(b)-Fa;return a<<12|b}function j(a){for(var b=a<<10;h(b)-Ga>=0;)b^=Da<<h(b)-Ga;return(a<<10|b)^Ca}function k(a,b){for(var c=0,d=a.getModuleCount(),e=0;d>e;e++)for(var f=null,g=0,h=0;d>h;h++){var i=b?a.isDark(e,h):a.isDark(h,e);i===f?(g++,5===g?c+=xa:g>5&&c++):(f=i,g=1)}return c}function l(a){return k(a,!0)+k(a,!1)}function m(a){for(var b=0,c=a.getModuleCount(),d=0;c-1>d;d++)for(var e=0;c-1>e;e++){var f=a.isDark(d,e);f===a.isDark(d,e+1)&&f===a.isDark(d+1,e)&&f===a.isDark(d+1,e+1)&&(b+=ya)}return b}function n(a,b,c,d,e){c=Math.max(c,0),d=Math.min(d,a.getModuleCount());for(var f=c;d>f;f++){var g=e?a.isDark(b,f):a.isDark(f,b);if(g)return!1}return!0}function o(a){for(var b=0,c=a.getModuleCount(),d=0;c>d;d++)for(var e=0;c>e;e++)c>e+6&&a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(n(a,d,e-4,e,!0)||n(a,d,e+7,e+11,!0))&&(b+=za),c>d+6&&a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(n(a,e,d-4,d,!1)||n(a,e,d+7,d+11,!1))&&(b+=za);return b}function p(a){for(var b=0,c=a.getModuleCount(),d=0;c>d;d++)for(var e=0;c>e;e++)a.isDark(d,e)&&b++;var f=c*c,g=Math.floor(Math.abs(20*b-10*f)/f);return g*Aa}function q(a){return l(a)+m(a)+o(a)+p(a)}function r(a){if(a>=0){if(26>a)return 65+a;if(52>a)return 97+(a-26);if(62>a)return 48+(a-52);if(62===a)return 43;if(63===a)return 47}throw"illegal char: "+String.fromCharCode(a)}function s(a){var b=new Ka,c=new La(b);try{c.writeBytes(a)}finally{c.close()}return b.close(),b.toByteArray()}function t(a){switch(a){case 0:return function(a,b){return 0===(a+b&1)};case 1:return function(a,b){return 0===(1&b)};case 2:return function(a,b){return a%3===0};case 3:return function(a,b){return(a+b)%3===0};case 4:return function(a,b){return 0===((a/3>>0)+(b/2>>0)&1)};case 5:return function(a,b){return(a*b&1)+a*b%3===0};case 6:return function(a,b){return 0===((a*b&1)+a*b%3&1)};case 7:return function(a,b){return 0===(a*b%3+(a+b&1)&1)};default:throw"illegal mask: "+a}}function u(b,c){if(0>b||b>=1e6)throw"byte mode encoding hint out of range";c.put(a.Mode.ECI,4),128>b?c.put(b,8):16384>b?(c.put(2,2),c.put(b,14)):(c.put(6,3),c.put(b,21))}function v(b,c,d,e){for(var f=e.length,g=new Ia,h=Ha.getRSBlocks(b,c),i=0;f>i;i++){var j=e[i],k=j.getMode();d&&k===a.Mode.Byte&&u(j.encoding,g),g.put(k,4),g.put(j.getLength(),j.getLengthInBits(b)),j.write(g)}for(var l=0,m=h.length,i=0;m>i;i++)l+=h[i].getDataCount();return l*=8,[g,h,l]}function w(a,b){for(var c=0,d=0,e=0,f=[],h=[],i=b.length,j=a.getBuffer(),k=0;i>k;k++){var l=b[k],m=l.getDataCount(),n=l.getTotalCount()-m;d=Math.max(d,m),e=Math.max(e,n),f[k]=[];for(var o=0;m>o;o++)f[k][o]=255&j[o+c];c+=m;var p=g(n),q=p.getLength()-1,r=new wa(f[k],q),s=r.mod(p),t=s.getLength();h[k]=[];for(var o=0;q>o;o++){var u=o+t-q;h[k][o]=u>=0?s.getAt(u):0}}a=new Ia;for(var o=0;d>o;o++)for(var k=0;i>k;k++)o<f[k].length&&a.put(f[k][o],8);for(var o=0;e>o;o++)for(var k=0;i>k;k++)o<h[k].length&&a.put(h[k][o],8);return a}function x(a,b,c){if(a.getLengthInBits()>c)throw"data overflow: "+a.getLengthInBits()+" > "+c;for(a.getLengthInBits()+4<=c&&a.put(0,4);a.getLengthInBits()%8!==0;)a.putBit(!1);for(;;){if(a.getLengthInBits()>=c)break;if(a.put(Pa,8),a.getLengthInBits()>=c)break;a.put(Qa,8)}return w(a,b)}function y(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))}function z(a){return a.reduce(function(a,b){return a+b})}function A(a,b,c){var d,e,f,g,h,i,j,k=y(a,b),l=y(b,c),m=y(a,c);return l>=k&&l>=m?(d=[b,a,c],j=d[0],h=d[1],i=d[2]):m>=l&&m>=k?(e=[a,b,c],j=e[0],h=e[1],i=e[2]):(f=[a,c,b],j=f[0],h=f[1],i=f[2]),(i.x-h.x)*(j.y-h.y)-(i.y-h.y)*(j.x-h.x)<0&&(g=[i,j],j=g[0],i=g[1]),{bottomLeft:j,topLeft:h,topRight:i}}function B(a,b,c,d){var e=(z(D(a,c,d,5))/7+z(D(a,b,d,5))/7+z(D(c,a,d,5))/7+z(D(b,a,d,5))/7)/4;if(1>e)throw"invalid module size";var f=Math.round(y(a,b)/e),g=Math.round(y(a,c)/e),h=Math.floor((f+g)/2)+7;switch(h%4){case 0:h++;break;case 2:h--}return{dimension:h,moduleSize:e}}function C(a,b,c,d){var e,f,g,h,i=[{x:Math.floor(a.x),y:Math.floor(a.y)}],j=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);j?(e=Math.floor(a.y),f=Math.floor(a.x),g=Math.floor(b.y),h=Math.floor(b.x)):(e=Math.floor(a.x),f=Math.floor(a.y),g=Math.floor(b.x),h=Math.floor(b.y));for(var k=Math.abs(g-e),l=Math.abs(h-f),m=Math.floor(-k/2),n=g>e?1:-1,o=h>f?1:-1,p=!0,q=e,r=f;q!==g+n;q+=n){var s=j?r:q,t=j?q:r;if(c.get(s,t)!==p&&(p=!p,i.push({x:s,y:t}),i.length===d+1))break;if(m+=l,m>0){if(r===h)break;r+=o,m-=k}}for(var u=[],v=0;d>v;v++)u.push(i[v]&&i[v+1]?y(i[v],i[v+1]):0);return u}function D(a,b,c,d){var e,f=b.y-a.y,g=b.x-a.x,h=C(a,b,c,Math.ceil(d/2)),i=C(a,{x:a.x-g,y:a.y-f},c,Math.ceil(d/2)),j=h.shift()+i.shift()-1;return(e=i.concat(j)).concat.apply(e,h)}function E(a,b){var c=z(a)/z(b),d=0;return b.forEach(function(b,e){d+=Math.pow(a[e]-b*c,2)}),{averageSize:c,error:d}}function F(a,b,c){try{var d=D(a,{x:-1,y:a.y},c,b.length),e=D(a,{x:a.x,y:-1},c,b.length),f={x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},g=D(a,f,c,b.length),h={x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},i=D(a,h,c,b.length),j=E(d,b),k=E(e,b),l=E(g,b),m=E(i,b),n=Math.sqrt(j.error*j.error+k.error*k.error+l.error*l.error+m.error*m.error),o=(j.averageSize+k.averageSize+l.averageSize+m.averageSize)/4,p=(Math.pow(j.averageSize-o,2)+Math.pow(k.averageSize-o,2)+Math.pow(l.averageSize-o,2)+Math.pow(m.averageSize-o,2))/o;

return n+p}catch(q){return 1/0}}function G(a){for(var b,c=[],d=[],e=[],f=[],g=function(b){for(var g=0,h=!1,i=[0,0,0,0,0],j=function(c){var d=a.get(c,b);if(d===h)g++;else{i=[i[1],i[2],i[3],i[4],g],g=1,h=d;var j=z(i)/7,k=Math.abs(i[0]-j)<j&&Math.abs(i[1]-j)<j&&Math.abs(i[2]-3*j)<3*j&&Math.abs(i[3]-j)<j&&Math.abs(i[4]-j)<j&&!d,l=z(i.slice(-3))/3,m=Math.abs(i[2]-l)<l&&Math.abs(i[3]-l)<l&&Math.abs(i[4]-l)<l&&d;if(k){var n=c-i[3]-i[4],o=n-i[2],p={startX:o,endX:n,y:b},q=e.filter(function(a){return o>=a.bottom.startX&&o<=a.bottom.endX||n>=a.bottom.startX&&o<=a.bottom.endX||o<=a.bottom.startX&&n>=a.bottom.endX&&i[2]/(a.bottom.endX-a.bottom.startX)<Ua&&i[2]/(a.bottom.endX-a.bottom.startX)>Ta});q.length>0?q[0].bottom=p:e.push({top:p,bottom:p})}if(m){var r=c-i[4],s=r-i[3],p={startX:s,y:b,endX:r},q=f.filter(function(a){return s>=a.bottom.startX&&s<=a.bottom.endX||r>=a.bottom.startX&&s<=a.bottom.endX||s<=a.bottom.startX&&r>=a.bottom.endX&&i[2]/(a.bottom.endX-a.bottom.startX)<Ua&&i[2]/(a.bottom.endX-a.bottom.startX)>Ta});q.length>0?q[0].bottom=p:f.push({top:p,bottom:p})}}},k=-1;k<=a.width;k++)j(k);c.push.apply(c,e.filter(function(a){return a.bottom.y!==b&&a.bottom.y-a.top.y>=2})),e=e.filter(function(a){return a.bottom.y===b}),d.push.apply(d,f.filter(function(a){return a.bottom.y!==b})),f=f.filter(function(a){return a.bottom.y===b})},h=0;h<=a.height;h++)g(h);c.push.apply(c,e.filter(function(a){return a.bottom.y-a.top.y>=2})),d.push.apply(d,f);var i=c.filter(function(a){return a.bottom.y-a.top.y>=2}).map(function(b){var c=(b.top.startX+b.top.endX+b.bottom.startX+b.bottom.endX)/4,d=(b.top.y+b.bottom.y+1)/2;if(a.get(Math.round(c),Math.round(d))){var e=[b.top.endX-b.top.startX,b.bottom.endX-b.bottom.startX,b.bottom.y-b.top.y+1],f=z(e)/e.length,g=F({x:Math.round(c),y:Math.round(d)},[1,1,3,1,1],a);return{score:g,x:c,y:d,size:f}}}).filter(function(a){return!!a}).sort(function(a,b){return a.score-b.score}).map(function(a,b,c){if(b>Va)return null;var d=c.filter(function(a,c){return b!==c}).map(function(b){return{x:b.x,y:b.y,score:b.score+Math.pow(b.size-a.size,2)/a.size,size:b.size}}).sort(function(a,b){return a.score-b.score});if(d.length<2)return null;var e=a.score+d[0].score+d[1].score;return{points:[a].concat(d.slice(0,2)),score:e}}).filter(function(a){return!!a}).sort(function(a,b){return a.score-b.score});if(0===i.length)return null;var j,k,l=A(i[0].points[0],i[0].points[1],i[0].points[2]),m=l.topRight,n=l.topLeft,o=l.bottomLeft;try{b=B(n,m,o,a),j=b.dimension,k=b.moduleSize}catch(p){return null}var q={x:m.x-n.x+o.x,y:m.y-n.y+o.y},r=(y(n,o)+y(n,m))/2/k,s=1-3/r,t={x:n.x+s*(q.x-n.x),y:n.y+s*(q.y-n.y)},u=d.map(function(b){var c=(b.top.startX+b.top.endX+b.bottom.startX+b.bottom.endX)/4,d=(b.top.y+b.bottom.y+1)/2;if(a.get(Math.floor(c),Math.floor(d))){var e=F({x:Math.floor(c),y:Math.floor(d)},[1,1,1],a),f=e+y({x:c,y:d},t);return{x:c,y:d,score:f}}}).filter(function(a){return!!a}).sort(function(a,b){return a.score-b.score}),v=r>=15&&u.length,w=v?u[0]:t;return{dimension:j,topLeft:{x:n.x,y:n.y},topRight:{x:m.x,y:m.y},bottomLeft:{x:o.x,y:o.y},alignmentPattern:{x:w.x,y:w.y}}}function H(a,b){return a^b}function I(a,b,c,d){var e;b.degree()<c.degree()&&(e=[c,b],b=e[0],c=e[1]);for(var f=b,g=c,h=a.zero,i=a.one;g.degree()>=d/2;){var j=f,k=h;if(f=g,h=i,f.isZero())return null;g=j;for(var l=a.zero,m=f.getCoefficient(f.degree()),n=a.inverse(m);g.degree()>=f.degree()&&!g.isZero();){var o=g.degree()-f.degree(),p=a.multiply(g.getCoefficient(g.degree()),n);l=l.addOrSubtract(a.buildMonomial(o,p)),g=g.addOrSubtract(f.multiplyByMonomial(o,p))}if(i=l.multiplyPoly(h).addOrSubtract(k),g.degree()>=f.degree())return null}var q=i.getCoefficient(0);if(0===q)return null;var r=a.inverse(q);return[i.multiply(r),g.multiply(r)]}function J(a,b){var c=b.degree();if(1===c)return[b.getCoefficient(1)];for(var d=0,e=new Array(c),f=1;f<a.size&&c>d;f++)0===b.evaluateAt(f)&&(e[d]=a.inverse(f),d++);return d!==c?null:e}function K(a,b,c){for(var d=c.length,e=new Array(d),f=0;d>f;f++){for(var g=1,h=a.inverse(c[f]),i=0;d>i;i++)f!==i&&(g=a.multiply(g,H(1,a.multiply(c[i],h))));e[f]=a.multiply(b.evaluateAt(h),a.inverse(g)),0!==a.generatorBase&&(e[f]=a.multiply(e[f],h))}return e}function L(a,b){var c=new Uint8ClampedArray(a.length);c.set(a);for(var d=new Xa(285,256,0),e=new Wa(d,c),f=new Uint8ClampedArray(b),g=!1,h=0;b>h;h++){var i=e.evaluateAt(d.exp(h+d.generatorBase));f[f.length-1-h]=i,0!==i&&(g=!0)}if(!g)return c;var j=new Wa(d,f),k=I(d,d.buildMonomial(b,1),j,b);if(null===k)return null;var l=J(d,k[0]);if(null==l)return null;for(var m=K(d,k[1],l),n=0;n<l.length;n++){var o=c.length-1-d.log(l[n]);if(0>o)return null;c[o]=H(c[o],m[n])}return c}function M(){if(!va){for(var a={},b={},c=$a.length,d=0;c>d;d++)for(var e=$a[d],f=e[1],g=f.length,h=0;g>h;h++){var i=e[0]+h,j=f.charAt(h).charCodeAt(0);a[j]=i,b[i]=j}va={UTF8_TO_SJIS:a,SJIS_TO_UTF8:b}}return va}function N(a){for(var b=[],c=a.length,d=M().UTF8_TO_SJIS,e=0;c>e;e++){var f=a.charCodeAt(e),g=d[f];if(null==g)throw"illegal char: "+String.fromCharCode(f);b.push(g>>8),b.push(255&g)}return b}function O(a,b){for(var c="",d=[],e=[10,12,14][b],f=a.readBits(e);f>=3;){var g=a.readBits(10);if(g>=1e3)throw"invalid numeric value above 999";var h=Math.floor(g/100),i=Math.floor(g/10)%10,j=g%10;d.push(48+h,48+i,48+j),c+=h.toString()+i.toString()+j.toString(),f-=3}if(2===f){var g=a.readBits(7);if(g>=100)throw"invalid numeric value above 99";var h=Math.floor(g/10),i=g%10;d.push(48+h,48+i),c+=h.toString()+i.toString()}else if(1===f){var g=a.readBits(4);if(g>=10)throw"invalid numeric value above 9";d.push(48+g),c+=g.toString()}return{bytes:d,data:c}}function P(a,b){for(var c="",d=[],e=[9,11,13][b],f=a.readBits(e);f>=2;){var g=a.readBits(11),h=Math.floor(g/45),i=g%45;d.push(_a[h].charCodeAt(0),_a[i].charCodeAt(0)),c+=_a[h]+_a[i],f-=2}if(1===f){var h=a.readBits(6);d.push(_a[h].charCodeAt(0)),c+=_a[h]}return{bytes:d,data:c}}function Q(a){for(var b=0,c="",d=a.length;d>b;){var e=a[b++];if(128>e)c+=String.fromCharCode(e);else if(e>191&&224>e){var f=a[b++];c+=String.fromCharCode((31&e)<<6|63&f)}else if(e>239&&365>e){var f=a[b++],g=a[b++],h=a[b++],i=((7&e)<<18|(63&f)<<12|(63&g)<<6|63&h)-65536;c+=String.fromCharCode(55296+(i>>10)),c+=String.fromCharCode(56320+(1023&i))}else{var f=a[b++],g=a[b++];c+=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g)}}return c}function R(a){for(var b=0,c="",d=a.length,e=M().SJIS_TO_UTF8;d>b;){var f=a[b++];if(128>f)c+=String.fromCharCode(f);else if(f>=160&&223>=f)c+=String.fromCharCode(f+65216);else{var g=(f<<8)+a[b++];g=e[g],c+=null!=g?String.fromCharCode(g):"?"}}return c}function S(a,b,c){for(var d=[],e=[8,16,16][b],f=a.readBits(e),g=0;f>g;g++)d.push(a.readBits(8));return{bytes:d,data:20===c?R(d):Q(d)}}function T(a,b){for(var c="",d=[],e=M().SJIS_TO_UTF8,f=[8,10,12][b],g=a.readBits(f),h=0;g>h;h++){var i=a.readBits(13),j=Math.floor(i/192)<<8|i%192;j+=7936>j?33088:49472,d.push(j>>8,255&j);var k=e[j];c+=String.fromCharCode(null!=k?k:j)}return{bytes:d,data:c}}function U(b,c,d){for(var e,f,g,h,i=26,j=new Za(b),k=9>=c?0:26>=c?1:2,l={data:"",bytes:[],chunks:[],version:c,errorCorrectionLevel:d};j.available()>=4;){var m=j.readBits(4);if(m===a.Mode.Terminator)return l;if(m===a.Mode.ECI)0===j.readBits(1)?(i=j.readBits(7),l.chunks.push({mode:a.Mode.ECI,encoding:i})):0===j.readBits(1)?(i=j.readBits(14),l.chunks.push({mode:a.Mode.ECI,encoding:i})):0===j.readBits(1)?(i=j.readBits(21),l.chunks.push({mode:a.Mode.ECI,encoding:i})):l.chunks.push({mode:a.Mode.ECI,encoding:-1});else if(m===a.Mode.Numeric){var n=O(j,k);l.data+=n.data,l.chunks.push({mode:a.Mode.Numeric,data:n.data,bytes:n.bytes}),(e=l.bytes).push.apply(e,n.bytes)}else if(m===a.Mode.Alphanumeric){var o=P(j,k);l.data+=o.data,l.chunks.push({mode:a.Mode.Alphanumeric,data:o.data,bytes:o.bytes}),(f=l.bytes).push.apply(f,o.bytes)}else if(m===a.Mode.StructuredAppend){var p={symbols:[j.readBits(4),j.readBits(4)],parity:j.readBits(8)};l.chunks.push(pa({mode:a.Mode.StructuredAppend},p))}else if(m===a.Mode.Byte){var q=S(j,k,i);l.data+=q.data,l.chunks.push({mode:a.Mode.Byte,data:q.data,bytes:q.bytes}),(g=l.bytes).push.apply(g,q.bytes)}else if(m===a.Mode.Kanji){var r=T(j,k);l.data+=r.data,l.chunks.push({mode:a.Mode.Kanji,data:r.data,bytes:r.bytes}),(h=l.bytes).push.apply(h,r.bytes)}}return 0===j.available()||0===j.readBits(j.available())?l:void 0}function V(a,b){for(var c=a^b,d=0;c;)d++,c&=c-1;return d}function W(a,b){return b<<1|a}function X(a){var b=17+4*a.versionNumber,c=Ya.createEmpty(b,b);c.setRegion(0,0,9,9,!0),c.setRegion(b-8,0,8,9,!0),c.setRegion(0,b-8,9,8,!0);for(var d=0,e=a.alignmentPatternCenters;d<e.length;d++)for(var f=e[d],g=0,h=a.alignmentPatternCenters;g<h.length;g++){var i=h[g];6===f&&6===i||6===f&&i===b-7||f===b-7&&6===i||c.setRegion(f-2,i-2,5,5,!0)}return c.setRegion(6,9,1,b-17,!0),c.setRegion(9,6,b-17,1,!0),a.versionNumber>6&&(c.setRegion(b-11,0,3,6,!0),c.setRegion(0,b-11,6,3,!0)),c}function Y(a,b,c){for(var d=a.height,e=t(c.dataMask),f=X(b),g=0,h=0,i=[],j=!0,k=d-1;k>0;k-=2){6===k&&k--;for(var l=0;d>l;l++)for(var m=j?d-1-l:l,n=0;2>n;n++){var o=k-n;if(!f.get(o,m)){g++;var p=a.get(o,m);e(o,m)&&(p=!p),h=W(p,h),8===g&&(i.push(h),g=0,h=0)}}j=!j}return i}function Z(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return ab[c-1];for(var d=0,e=5;e>=0;e--)for(var f=b-9;f>=b-11;f--)d=W(a.get(f,e),d);for(var g=0,f=5;f>=0;f--)for(var e=b-9;e>=b-11;e--)g=W(a.get(f,e),g);for(var h,i=1/0,j=0,k=ab;j<k.length;j++){var l=k[j];if(l.infoBits===d||l.infoBits===g)return l;var m=V(d,l.infoBits);i>m&&(h=l,i=m),m=V(g,l.infoBits),i>m&&(h=l,i=m)}return 3>=i?h:void 0}function $(a){for(var b=0,c=0;8>=c;c++)6!==c&&(b=W(a.get(c,8),b));for(var d=7;d>=0;d--)6!==d&&(b=W(a.get(8,d),b));for(var e=a.height,f=0,d=e-1;d>=e-7;d--)f=W(a.get(8,d),f);for(var c=e-8;e>c;c++)f=W(a.get(c,8),f);for(var g=1/0,h=null,i=0,j=bb;i<j.length;i++){var k=j[i],l=k.bits,m=k.formatInfo;if(l===b||l===f)return m;var n=V(b,l);g>n&&(h=m,g=n),b!==f&&(n=V(f,l),g>n&&(h=m,g=n))}return 3>=g?h:null}function _(a,b,c){var d=[],e=b.errorCorrectionLevels[c],f=0;if(e.ecBlocks.forEach(function(a){for(var b=0;b<a.numBlocks;b++)d.push({numDataCodewords:a.dataCodewordsPerBlock,codewords:[]}),f+=a.dataCodewordsPerBlock+e.ecCodewordsPerBlock}),a.length<f)return null;a=a.slice(0,f);for(var g=e.ecBlocks[0].dataCodewordsPerBlock,h=0;g>h;h++)for(var i=0,j=d;i<j.length;i++){var k=j[i];k.codewords.push(a.shift())}if(e.ecBlocks.length>1)for(var l=e.ecBlocks[0].numBlocks,m=e.ecBlocks[1].numBlocks,h=0;m>h;h++)d[l+h].codewords.push(a.shift());for(;a.length>0;)for(var n=0,o=d;n<o.length;n++){var k=o[n];k.codewords.push(a.shift())}return d}function aa(a){var b=Z(a);if(!b)return null;var c=$(a);if(!c)return null;var d=Y(a,b,c),e=_(d,b,c.errorCorrectionLevel);if(!e)return null;for(var f=e.reduce(function(a,b){return a+b.numDataCodewords},0),g=new Uint8ClampedArray(f),h=0,i=0,j=e;i<j.length;i++){var k=j[i],l=L(k.codewords,k.codewords.length-k.numDataCodewords);if(!l)return null;for(var m=0;m<k.numDataCodewords;m++)g[h++]=l[m]}try{return U(g,b.versionNumber,c.errorCorrectionLevel)}catch(n){return null}}function ba(a){if(null==a)return null;var b=aa(a);if(b)return b;for(var c=0;c<a.width;c++)for(var d=c+1;d<a.height;d++)a.get(c,d)!==a.get(d,c)&&(a.set(c,d,!a.get(c,d)),a.set(d,c,!a.get(d,c)));return aa(a)}function ca(a,b,c,d){var e=a.x-b.x+c.x-d.x,f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};var g=b.x-c.x,h=d.x-c.x,i=b.y-c.y,j=d.y-c.y,k=g*j-h*i,l=(e*j-h*f)/k,m=(g*f-e*i)/k;return{a11:b.x-a.x+l*b.x,a12:b.y-a.y+l*b.y,a13:l,a21:d.x-a.x+m*d.x,a22:d.y-a.y+m*d.y,a23:m,a31:a.x,a32:a.y,a33:1}}function da(a,b,c,d){var e=ca(a,b,c,d);return{a11:e.a22*e.a33-e.a23*e.a32,a12:e.a13*e.a32-e.a12*e.a33,a13:e.a12*e.a23-e.a13*e.a22,a21:e.a23*e.a31-e.a21*e.a33,a22:e.a11*e.a33-e.a13*e.a31,a23:e.a13*e.a21-e.a11*e.a23,a31:e.a21*e.a32-e.a22*e.a31,a32:e.a12*e.a31-e.a11*e.a32,a33:e.a11*e.a22-e.a12*e.a21}}function ea(a,b){return{a11:a.a11*b.a11+a.a21*b.a12+a.a31*b.a13,a12:a.a12*b.a11+a.a22*b.a12+a.a32*b.a13,a13:a.a13*b.a11+a.a23*b.a12+a.a33*b.a13,a21:a.a11*b.a21+a.a21*b.a22+a.a31*b.a23,a22:a.a12*b.a21+a.a22*b.a22+a.a32*b.a23,a23:a.a13*b.a21+a.a23*b.a22+a.a33*b.a23,a31:a.a11*b.a31+a.a21*b.a32+a.a31*b.a33,a32:a.a12*b.a31+a.a22*b.a32+a.a32*b.a33,a33:a.a13*b.a31+a.a23*b.a32+a.a33*b.a33}}function fa(a,b){for(var c=da({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=ca(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=ea(d,c),f=Ya.createEmpty(b.dimension,b.dimension),g=function(a,b){var c=e.a13*a+e.a23*b+e.a33;return{x:Math.max(0,(e.a11*a+e.a21*b+e.a31)/c),y:Math.max(0,(e.a12*a+e.a22*b+e.a32)/c)}},h=0;h<b.dimension;h++)for(var i=0;i<b.dimension;i++){var j=i+.5,k=h+.5,l=g(j,k);f.set(i,h,a.get(Math.floor(l.x),Math.floor(l.y)))}return{matrix:f,mappingFunction:g}}function ga(a,b,c){return b>a?b:a>c?c:a}function ha(a,b,c,d,e,f){var g=b*c;if(a.length!==4*g)throw"malformed data passed to binarizer";var h,i=0;f&&(h=new Uint8ClampedArray(a.buffer,i,g),i+=g);for(var j=new eb(b,c,h),k=0;c>k;k++)for(var l=0;b>l;l++){var m=4*(k*b+l),n=a[m],o=a[m+1],p=a[m+2],q=e.red*n+e.green*o+e.blue*p;j.set(l,k,e.useIntegerApproximation?q+128>>8:q)}var r,s=Math.ceil(b/cb),t=Math.ceil(c/cb),u=s*t;f&&(r=new Uint8ClampedArray(a.buffer,i,u),i+=u);for(var v=new eb(s,t,r),w=0;t>w;w++)for(var x=0;s>x;x++){for(var y=0,z=1/0,A=0,k=0;cb>k;k++)for(var l=0;cb>l;l++){var B=j.get(x*cb+l,w*cb+k);y+=B,z=Math.min(z,B),A=Math.max(A,B)}var C=y/Math.pow(cb,2);if(db>=A-z&&(C=z/2,w>0&&x>0)){var D=(v.get(x,w-1)+2*v.get(x-1,w)+v.get(x-1,w-1))/4;D>z&&(C=D)}v.set(x,w,C)}var E;if(f){var F=new Uint8ClampedArray(a.buffer,i,g);i+=g,E=new Ya(F,b)}else E=Ya.createEmpty(b,c);var G=null;if(d)if(f){var H=new Uint8ClampedArray(a.buffer,i,g);G=new Ya(H,b)}else G=Ya.createEmpty(b,c);for(var w=0;t>w;w++)for(var x=0;s>x;x++){for(var I=ga(x,2,s-3),J=ga(w,2,t-3),y=0,K=-2;2>=K;K++)for(var L=-2;2>=L;L++)y+=v.get(I+K,J+L);for(var M=y/25,K=0;cb>K;K++)for(var L=0;cb>L;L++){var l=x*cb+K,k=w*cb+L,N=j.get(l,k);E.set(l,k,M>=N),d&&G.set(l,k,!(M>=N))}}return d?{binarized:E,inverted:G}:{binarized:E}}function ia(a){var b=G(a);if(!b)return null;var c=fa(a,b),d=ba(c.matrix);if(!d)return null;var e=b.dimension;return pa(pa({},d),{location:{topLeft:c.mappingFunction(0,0),topRight:c.mappingFunction(e,0),bottomLeft:c.mappingFunction(0,e),bottomRight:c.mappingFunction(e,e),topLeftFinder:b.topLeft,topRightFinder:b.topRight,bottomLeftFinder:b.bottomLeft,bottomRightAlignment:d.version>1?b.alignmentPattern:null}})}function ja(a){a.onload=null,a.onerror=null}function ka(a){for(var b=[],c=a.length,d=0;c>d;d++)b.push(a.charCodeAt(d));return b}function la(a){if(a>=48&&57>=a)return a-48;throw"illegal char: "+String.fromCharCode(a)}function ma(a){for(var b=0,c=a.length,d=0;c>d;d++)b=10*b+la(a[d]);return b}function na(a){if(a>=48&&57>=a)return a-48;if(a>=65&&90>=a)return a-65+10;switch(a){case 32:return 36;case 36:return 37;case 37:return 38;case 42:return 39;case 43:return 40;case 45:return 41;case 46:return 42;case 47:return 43;case 58:return 44;default:throw"illegal char: "+String.fromCharCode(a)}}!function(a){a[a.Terminator=0]="Terminator",a[a.Numeric=1]="Numeric",a[a.Alphanumeric=2]="Alphanumeric",a[a.StructuredAppend=3]="StructuredAppend",a[a.Byte=4]="Byte",a[a.Kanji=8]="Kanji",a[a.ECI=7]="ECI"}(a.Mode||(a.Mode={}));var oa=function(a,b){return(oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},pa=function(){return pa=Object.assign||function(a){for(var b,c=1,d=arguments.length;d>c;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},pa.apply(this,arguments)},qa=function(){function b(a,b){this.mode=a,this.data=b}return b.prototype.getMode=function(){return this.mode},b.prototype.getLengthInBits=function(b){var c=this.mode,d="illegal mode: "+c;if(b>=1&&10>b)switch(c){case a.Mode.Numeric:return 10;case a.Mode.Alphanumeric:return 9;case a.Mode.Byte:return 8;case a.Mode.Kanji:return 8;default:throw d}else if(27>b)switch(c){case a.Mode.Numeric:return 12;case a.Mode.Alphanumeric:return 11;case a.Mode.Byte:return 16;case a.Mode.Kanji:return 10;default:throw d}else{if(!(41>b))throw"illegal version: "+b;switch(c){case a.Mode.Numeric:return 14;case a.Mode.Alphanumeric:return 13;case a.Mode.Byte:return 16;case a.Mode.Kanji:return 12;default:throw d}}},b}(),ra=function(d){function e(b,e){var f=d.call(this,a.Mode.Byte,b)||this;if(f.encoding=-1,"function"==typeof e){var g=e(b),h=g.encoding,i=g.bytes;f.bytes=i,f.encoding=h}else f.bytes=c(b),f.encoding=26;return f}return b(e,d),e.prototype.write=function(a){for(var b=this.bytes,c=b.length,d=0;c>d;d++)a.put(b[d],8)},e.prototype.getLength=function(){return this.bytes.length},e}(qa);!function(a){a[a.L=1]="L",a[a.M=0]="M",a[a.Q=3]="Q",a[a.H=2]="H"}(a.ErrorCorrectionLevel||(a.ErrorCorrectionLevel={}));for(var sa=[],ta=[],ua=0;256>ua;ua++)ta[ua]=0,sa[ua]=8>ua?1<<ua:sa[ua-4]^sa[ua-5]^sa[ua-6]^sa[ua-8];for(var ua=0;255>ua;ua++)ta[sa[ua]]=ua;var va,wa=function(){function a(a,b){void 0===b&&(b=0),this.num=[];for(var c=0,d=a.length;d>c&&0===a[c];)c++;d-=c;for(var e=0;d>e;e++)this.num.push(a[c+e]);for(var e=0;b>e;e++)this.num.push(0)}return a.prototype.getAt=function(a){return this.num[a]},a.prototype.getLength=function(){return this.num.length},a.prototype.multiply=function(b){for(var c=[],f=b.getLength(),g=this.getLength(),h=g+f-1,i=0;h>i;i++)c.push(0);for(var i=0;g>i;i++)for(var j=0;f>j;j++)c[i+j]^=e(d(this.getAt(i))+d(b.getAt(j)));return new a(c)},a.prototype.mod=function(b){var c=b.getLength(),f=this.getLength();if(0>f-c)return this;for(var g=d(this.getAt(0))-d(b.getAt(0)),h=[],i=0;f>i;i++)h.push(this.getAt(i));for(var i=0;c>i;i++)h[i]^=e(d(b.getAt(i))+g);return new a(h).mod(b)},a}(),xa=3,ya=3,za=40,Aa=10,Ba=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Ca=21522,Da=1335,Ea=7973,Fa=h(Ea),Ga=h(Da),Ha=function(){function b(a,b){this.dataCount=b,this.totalCount=a}return b.prototype.getDataCount=function(){return this.dataCount},b.prototype.getTotalCount=function(){return this.totalCount},b.getRSBlocks=function(a,c){for(var d=[],e=b.getRSBlockTable(a,c),f=e.length/3,g=0;f>g;g++)for(var h=e[3*g+0],i=e[3*g+1],j=e[3*g+2],k=0;h>k;k++)d.push(new b(i,j));return d},b.getRSBlockTable=function(c,d){switch(d){case a.ErrorCorrectionLevel.L:return b.RS_BLOCK_TABLE[4*(c-1)+0];case a.ErrorCorrectionLevel.M:return b.RS_BLOCK_TABLE[4*(c-1)+1];case a.ErrorCorrectionLevel.Q:return b.RS_BLOCK_TABLE[4*(c-1)+2];case a.ErrorCorrectionLevel.H:return b.RS_BLOCK_TABLE[4*(c-1)+3];default:throw"illegal error correction level: "+d}},b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b}(),Ia=function(){function a(){this.length=0,this.buffer=[]}return a.prototype.getBuffer=function(){return this.buffer},a.prototype.getLengthInBits=function(){return this.length},a.prototype.getBit=function(a){return 1===(this.buffer[a/8>>0]>>>7-a%8&1)},a.prototype.put=function(a,b){for(var c=0;b>c;c++)this.putBit(1===(a>>>b-c-1&1))},a.prototype.putBit=function(a){this.length===8*this.buffer.length&&this.buffer.push(0),a&&(this.buffer[this.length/8>>0]|=128>>>this.length%8),this.length++},a}(),Ja=function(){function a(){}return a.prototype.writeBytes=function(a){for(var b=a.length,c=0;b>c;c++)this.writeByte(a[c])},a.prototype.flush=function(){},a.prototype.close=function(){this.flush()},a}(),Ka=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;return b.bytes=[],b}return b(c,a),c.prototype.writeByte=function(a){this.bytes.push(a)},c.prototype.toByteArray=function(){return this.bytes},c}(Ja),La=function(a){function c(b){var c=a.call(this)||this;return c.buffer=0,c.length=0,c.bufLength=0,c.stream=b,c}return b(c,a),c.prototype.writeByte=function(a){for(this.buffer=this.buffer<<8|255&a,this.bufLength+=8,this.length++;this.bufLength>=6;)this.writeEncoded(this.buffer>>>this.bufLength-6),this.bufLength-=6},c.prototype.flush=function(){if(this.bufLength>0&&(this.writeEncoded(this.buffer<<6-this.bufLength),this.buffer=0,this.bufLength=0),this.length%3!=0)for(var a=3-this.length%3,b=0;a>b;b++)this.stream.writeByte(61)},c.prototype.writeEncoded=function(a){this.stream.writeByte(r(63&a))},c}(Ja),Ma=function(){function a(){this.size=0,this.map={}}return a.prototype.add=function(a){this.contains(a)||(this.map[a]=this.size++)},a.prototype.getSize=function(){return this.size},a.prototype.indexOf=function(a){return this.map[a]},a.prototype.contains=function(a){return this.map.hasOwnProperty(a)},a}(),Na=function(){function a(a){this.output=a,this.bitLength=0}return a.prototype.write=function(a,b){if(a>>>b!==0)throw"length overflow";for(;this.bitLength+b>=8;)this.output.writeByte(255&(a<<this.bitLength|this.bitBuffer)),b-=8-this.bitLength,a>>>=8-this.bitLength,this.bitBuffer=0,this.bitLength=0;this.bitBuffer=a<<this.bitLength|this.bitBuffer,this.bitLength=this.bitLength+b},a.prototype.flush=function(){this.bitLength>0&&this.output.writeByte(this.bitBuffer),this.output.flush()},a.prototype.close=function(){this.flush(),this.output.close()},a}(),Oa=function(){function a(a,b){this.data=[],this.width=a,this.height=b;for(var c=a*b,d=0;c>d;d++)this.data[d]=0}return a.prototype.getLZWRaster=function(a){for(var b=1<<a,c=(1<<a)+1,d=new Ma,e=0;b>e;e++)d.add(String.fromCharCode(e));d.add(String.fromCharCode(b)),d.add(String.fromCharCode(c));var f=new Ka,g=new Na(f),h=a+1;try{g.write(b,h);for(var i=0,j=String.fromCharCode(this.data[i++]),k=this.data.length;k>i;){var l=String.fromCharCode(this.data[i++]);d.contains(j+l)?j+=l:(g.write(d.indexOf(j),h),d.getSize()<4095&&(d.getSize()===1<<h&&h++,d.add(j+l)),j=l)}g.write(d.indexOf(j),h),g.write(c,h)}finally{g.close()}return f.toByteArray()},a.prototype.writeWord=function(a,b){a.writeByte(255&b),a.writeByte(b>>>8&255)},a.prototype.writeBytes=function(a,b,c,d){for(var e=0;d>e;e++)a.writeByte(b[e+c])},a.prototype.setPixel=function(a,b,c){if(0>a||this.width<=a)throw"illegal x axis: "+a;if(0>b||this.height<=b)throw"illegal y axis: "+b;this.data[b*this.width+a]=c},a.prototype.getPixel=function(a,b){if(0>a||this.width<=a)throw"illegal x axis: "+a;if(0>b||this.height<=b)throw"illegal x axis: "+b;return this.data[b*this.width+a]},a.prototype.write=function(a){a.writeByte(71),a.writeByte(73),a.writeByte(70),a.writeByte(56),a.writeByte(55),a.writeByte(97),this.writeWord(a,this.width),this.writeWord(a,this.height),a.writeByte(128),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(255),a.writeByte(255),a.writeByte(255),a.writeByte(44),this.writeWord(a,0),this.writeWord(a,0),this.writeWord(a,this.width),this.writeWord(a,this.height),a.writeByte(0);var b=2,c=this.getLZWRaster(b),d=c.length;a.writeByte(b);for(var e=0;d-e>255;)a.writeByte(255),this.writeBytes(a,c,e,255),e+=255;var f=d-e;a.writeByte(f),this.writeBytes(a,c,e,f),a.writeByte(0),a.writeByte(59)},a.prototype.toDataURL=function(){var a=new Ka;this.write(a);var b=s(a.toByteArray());a.close();for(var c="data:image/gif;base64,",d=b.length,e=0;d>e;e++)c+=String.fromCharCode(b[e]);return c},a}(),Pa=236,Qa=17,Ra=Object.prototype.toString,Sa=function(){function b(){this.version=0,this.chunks=[],this.moduleCount=0,this.modules=[],this.hasEncodingHint=!1,this.autoVersion=0===this.version,this.errorCorrectionLevel=a.ErrorCorrectionLevel.L}return b.prototype.getModules=function(){return this.modules},b.prototype.getModuleCount=function(){return this.moduleCount},b.prototype.getVersion=function(){return this.version},b.prototype.setVersion=function(a){return this.version=Math.min(40,Math.max(0,a>>0)),this.autoVersion=0===this.version,this},b.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},b.prototype.setErrorCorrectionLevel=function(b){switch(b){case a.ErrorCorrectionLevel.L:case a.ErrorCorrectionLevel.M:case a.ErrorCorrectionLevel.Q:case a.ErrorCorrectionLevel.H:this.errorCorrectionLevel=b}return this},b.prototype.getEncodingHint=function(){return this.hasEncodingHint},b.prototype.setEncodingHint=function(a){return this.hasEncodingHint=a,this},b.prototype.write=function(a){if(a instanceof qa)this.chunks.push(a);else{var b=Ra.call(a);if("[object String]"!==b)throw"illegal data: "+a;this.chunks.push(new ra(a))}return this},b.prototype.isDark=function(a,b){return null!==this.modules[a][b]?this.modules[a][b]:!1},b.prototype.setupFinderPattern=function(a,b){for(var c=this.moduleCount,d=-1;7>=d;d++)for(var e=-1;7>=e;e++)-1>=a+d||a+d>=c||-1>=b+e||b+e>=c||(d>=0&&6>=d&&(0===e||6===e)||e>=0&&6>=e&&(0===d||6===d)||d>=2&&4>=d&&e>=2&&4>=e?this.modules[a+d][b+e]=!0:this.modules[a+d][b+e]=!1)},b.prototype.setupAlignmentPattern=function(){for(var a=f(this.version),b=a.length,c=0;b>c;c++)for(var d=0;b>d;d++){var e=a[c],g=a[d];if(null===this.modules[e][g])for(var h=-2;2>=h;h++)for(var i=-2;2>=i;i++)-2===h||2===h||-2===i||2===i||0===h&&0===i?this.modules[e+h][g+i]=!0:this.modules[e+h][g+i]=!1}},b.prototype.setupTimingPattern=function(){for(var a=this.moduleCount-8,b=8;a>b;b++){var c=b%2===0;null===this.modules[b][6]&&(this.modules[b][6]=c),null===this.modules[6][b]&&(this.modules[6][b]=c)}},b.prototype.setupFormatInfo=function(a){for(var b=this.errorCorrectionLevel<<3|a,c=j(b),d=this.moduleCount,e=0;15>e;e++){var f=1===(c>>e&1);6>e?this.modules[e][8]=f:8>e?this.modules[e+1][8]=f:this.modules[d-15+e][8]=f,8>e?this.modules[8][d-e-1]=f:9>e?this.modules[8][15-e-1+1]=f:this.modules[8][15-e-1]=f}this.modules[d-8][8]=!0},b.prototype.setupVersionInfo=function(){if(this.version>=7)for(var a=this.moduleCount,b=i(this.version),c=0;18>c;c++){var d=1===(b>>c&1);this.modules[c/3>>0][c%3+a-8-3]=d,this.modules[c%3+a-8-3][c/3>>0]=d}},b.prototype.setupCodewords=function(a,b){for(var c=0,d=this.moduleCount,e=a.getLengthInBits(),f=d-1;f>=1;f-=2){6===f&&(f=5);for(var g=0;d>g;g++)for(var h=0;2>h;h++){var i=f-h,j=0===(f+1&2),k=j?d-1-g:g;if(null===this.modules[k][i]){var l=!1;e>c&&(l=a.getBit(c++));var m=t(b),n=m(i,k);n&&(l=!l),this.modules[k][i]=l}}}},b.prototype.buildMatrix=function(a,b){this.modules=[];for(var c=this.moduleCount,d=0;c>d;d++){this.modules[d]=[];for(var e=0;c>e;e++)this.modules[d][e]=null}this.setupFinderPattern(0,0),this.setupFinderPattern(c-7,0),this.setupFinderPattern(0,c-7),this.setupAlignmentPattern(),this.setupTimingPattern(),this.setupFormatInfo(b),this.setupVersionInfo(),this.setupCodewords(a,b)},b.prototype.make=function(){var a,b,c,d,e,f=this.chunks,g=this.errorCorrectionLevel;if(this.autoVersion)for(this.version=1;this.version<=40&&(a=v(this.version,g,this.hasEncodingHint,f),c=a[0],d=a[1],e=a[2],!(c.getLengthInBits()<=e));this.version++);else b=v(this.version,g,this.hasEncodingHint,f),c=b[0],d=b[1],e=b[2];this.moduleCount=4*this.version+17;for(var h=[],i=x(c,d,e),j=-1,k=Number.MAX_VALUE,l=0;8>l;l++){this.buildMatrix(i,l),h.push(this.modules);var m=q(this);k>m&&(k=m,j=l)}return this.modules=h[j],this},b.prototype.toDataURL=function(a,b){void 0===a&&(a=2),void 0===b&&(b=4*a),a=Math.max(1,a>>0),b=Math.max(0,b>>0);for(var c=this.moduleCount,d=a*c+2*b,e=new Oa(d,d),f=0;d>f;f++)for(var g=0;d>g;g++)g>=b&&d-b>g&&f>=b&&d-b>f&&this.isDark((f-b)/a>>0,(g-b)/a>>0)?e.setPixel(g,f,0):e.setPixel(g,f,1);return e.toDataURL()},b}(),Ta=.5,Ua=1.5,Va=4,Wa=function(){function a(a,b){if(0===b.length)throw"no coefficients";this.field=a;var c=b.length;if(c>1&&0===b[0]){for(var d=1;c>d&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(c-d);for(var e=0;e<this.coefficients.length;e++)this.coefficients[e]=b[d+e]}}else this.coefficients=b}return a.prototype.degree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return 0===this.coefficients[0]},a.prototype.getCoefficient=function(a){return this.coefficients[this.coefficients.length-1-a]},a.prototype.addOrSubtract=function(b){var c;if(this.isZero())return b;if(b.isZero())return this;var d=this.coefficients,e=b.coefficients;d.length>e.length&&(c=[e,d],d=c[0],e=c[1]);for(var f=new Uint8ClampedArray(e.length),g=e.length-d.length,h=0;g>h;h++)f[h]=e[h];for(var h=g;h<e.length;h++)f[h]=H(d[h-g],e[h]);return new a(this.field,f)},a.prototype.multiply=function(b){if(0===b)return this.field.zero;if(1===b)return this;for(var c=this.coefficients.length,d=new Uint8ClampedArray(c),e=0;c>e;e++)d[e]=this.field.multiply(this.coefficients[e],b);return new a(this.field,d)},a.prototype.multiplyPoly=function(b){if(this.isZero()||b.isZero())return this.field.zero;for(var c=this.coefficients,d=c.length,e=b.coefficients,f=e.length,g=new Uint8ClampedArray(d+f-1),h=0;d>h;h++)for(var i=c[h],j=0;f>j;j++)g[h+j]=H(g[h+j],this.field.multiply(i,e[j]));

return new a(this.field,g)},a.prototype.multiplyByMonomial=function(b,c){if(0>b)throw"invalid degree less than 0";if(0===c)return this.field.zero;for(var d=this.coefficients.length,e=new Uint8ClampedArray(d+b),f=0;d>f;f++)e[f]=this.field.multiply(this.coefficients[f],c);return new a(this.field,e)},a.prototype.evaluateAt=function(a){var b=0;if(0===a)return this.getCoefficient(0);var c=this.coefficients.length;if(1===a)return this.coefficients.forEach(function(a){b=H(b,a)}),b;b=this.coefficients[0];for(var d=1;c>d;d++)b=H(this.field.multiply(a,b),this.coefficients[d]);return b},a}(),Xa=function(){function a(a,b,c){this.primitive=a,this.size=b,this.generatorBase=c,this.expTable=[],this.logTable=[];for(var d=1,e=0;e<this.size;e++)this.logTable[e]=0,this.expTable[e]=d,d=2*d,d>=this.size&&(d=(d^this.primitive)&this.size-1);for(var e=0;e<this.size-1;e++)this.logTable[this.expTable[e]]=e;this.zero=new Wa(this,Uint8ClampedArray.from([0])),this.one=new Wa(this,Uint8ClampedArray.from([1]))}return a.prototype.multiply=function(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]},a.prototype.inverse=function(a){if(0===a)throw"can't invert 0";return this.expTable[this.size-this.logTable[a]-1]},a.prototype.buildMonomial=function(a,b){if(0>a)throw"invalid monomial degree less than 0";if(0===b)return this.zero;var c=new Uint8ClampedArray(a+1);return c[0]=b,new Wa(this,c)},a.prototype.log=function(a){if(0===a)throw"can't take log(0)";return this.logTable[a]},a.prototype.exp=function(a){return this.expTable[a]},a}(),Ya=function(){function a(a,b){this.data=a,this.width=b,this.height=a.length/b}return a.createEmpty=function(b,c){return new a(new Uint8ClampedArray(b*c),b)},a.prototype.get=function(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]},a.prototype.set=function(a,b,c){this.data[b*this.width+a]=c?1:0},a.prototype.setRegion=function(a,b,c,d,e){for(var f=b;b+d>f;f++)for(var g=a;a+c>g;g++)this.set(g,f,!!e)},a}(),Za=function(){function a(a){this.byteOffset=0,this.bitOffset=0,this.bytes=a}return a.prototype.readBits=function(a){if(1>a||a>32||a>this.available())throw"can't read "+a+" bits";var b=0;if(this.bitOffset>0){var c=8-this.bitOffset,d=c>a?a:c,e=c-d,f=255>>8-d<<e;b=(this.bytes[this.byteOffset]&f)>>e,a-=d,this.bitOffset+=d,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(a>0){for(;a>=8;)b=b<<8|255&this.bytes[this.byteOffset],this.byteOffset++,a-=8;if(a>0){var e=8-a,f=255>>e<<e;b=b<<a|(this.bytes[this.byteOffset]&f)>>e,this.bitOffset+=a}}return b},a.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},a}(),$a=[[33088,"　、。，．・：；？！゛゜´｀¨＾￣＿ヽヾゝゞ〃仝々〆〇ー―‐／＼～∥｜…‥‘’“”（）〔〕［］｛｝〈〉《》「」『』【】＋－±×"],[33152,"÷＝≠＜＞"],[33167,"￥＄￠￡％＃＆＊＠§☆★"],[33190,"※〒→←↑↓〓"],[33226,"￢"],[33359,"０１２３４５６７８９"],[33376,"ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ"],[33409,"ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ"],[33439,"ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをん"],[33600,"ァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミ"],[33664,"ムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶ"],[33695,"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ"],[33727,"αβγδεζηθικλμνξοπρστυφχψω"],[33856,"АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ"],[33904,"абвгдеёжзийклмн"],[33920,"опрстуфхцчшщъыьэюя"],[34688,"〝〟"],[35136,"院陰隠韻吋右宇烏羽迂雨卯鵜窺丑碓臼渦嘘唄欝蔚鰻姥厩浦瓜閏噂云運雲荏餌叡営嬰影映曳栄永泳洩瑛盈穎頴英衛詠鋭液疫益駅悦謁越閲榎厭円"],[35200,"園堰奄宴延怨掩援沿演炎焔煙燕猿縁艶苑薗遠鉛鴛塩於汚甥凹央奥往応押旺横欧殴王翁襖鴬鴎黄岡沖荻億屋憶臆桶牡乙俺卸恩温穏音下化仮何伽価佳加可嘉夏嫁家寡科暇果架歌河火珂禍禾稼箇花苛茄荷華菓蝦課嘩貨迦過霞蚊俄峨我牙画臥芽蛾賀雅餓駕介会解回塊壊廻快怪悔恢懐戒拐改"],[35392,"魁晦械海灰界皆絵芥蟹開階貝凱劾外咳害崖慨概涯碍蓋街該鎧骸浬馨蛙垣柿蛎鈎劃嚇各廓拡撹格核殻獲確穫覚角赫較郭閣隔革学岳楽額顎掛笠樫"],[35456,"橿梶鰍潟割喝恰括活渇滑葛褐轄且鰹叶椛樺鞄株兜竃蒲釜鎌噛鴨栢茅萱粥刈苅瓦乾侃冠寒刊勘勧巻喚堪姦完官寛干幹患感慣憾換敢柑桓棺款歓汗漢澗潅環甘監看竿管簡緩缶翰肝艦莞観諌貫還鑑間閑関陥韓館舘丸含岸巌玩癌眼岩翫贋雁頑顔願企伎危喜器基奇嬉寄岐希幾忌揮机旗既期棋棄"],[35648,"機帰毅気汽畿祈季稀紀徽規記貴起軌輝飢騎鬼亀偽儀妓宜戯技擬欺犠疑祇義蟻誼議掬菊鞠吉吃喫桔橘詰砧杵黍却客脚虐逆丘久仇休及吸宮弓急救"],[35712,"朽求汲泣灸球究窮笈級糾給旧牛去居巨拒拠挙渠虚許距鋸漁禦魚亨享京供侠僑兇競共凶協匡卿叫喬境峡強彊怯恐恭挟教橋況狂狭矯胸脅興蕎郷鏡響饗驚仰凝尭暁業局曲極玉桐粁僅勤均巾錦斤欣欽琴禁禽筋緊芹菌衿襟謹近金吟銀九倶句区狗玖矩苦躯駆駈駒具愚虞喰空偶寓遇隅串櫛釧屑屈"],[35904,"掘窟沓靴轡窪熊隈粂栗繰桑鍬勲君薫訓群軍郡卦袈祁係傾刑兄啓圭珪型契形径恵慶慧憩掲携敬景桂渓畦稽系経継繋罫茎荊蛍計詣警軽頚鶏芸迎鯨"],[35968,"劇戟撃激隙桁傑欠決潔穴結血訣月件倹倦健兼券剣喧圏堅嫌建憲懸拳捲検権牽犬献研硯絹県肩見謙賢軒遣鍵険顕験鹸元原厳幻弦減源玄現絃舷言諺限乎個古呼固姑孤己庫弧戸故枯湖狐糊袴股胡菰虎誇跨鈷雇顧鼓五互伍午呉吾娯後御悟梧檎瑚碁語誤護醐乞鯉交佼侯候倖光公功効勾厚口向"],[36160,"后喉坑垢好孔孝宏工巧巷幸広庚康弘恒慌抗拘控攻昂晃更杭校梗構江洪浩港溝甲皇硬稿糠紅紘絞綱耕考肯肱腔膏航荒行衡講貢購郊酵鉱砿鋼閤降"],[36224,"項香高鴻剛劫号合壕拷濠豪轟麹克刻告国穀酷鵠黒獄漉腰甑忽惚骨狛込此頃今困坤墾婚恨懇昏昆根梱混痕紺艮魂些佐叉唆嵯左差査沙瑳砂詐鎖裟坐座挫債催再最哉塞妻宰彩才採栽歳済災采犀砕砦祭斎細菜裁載際剤在材罪財冴坂阪堺榊肴咲崎埼碕鷺作削咋搾昨朔柵窄策索錯桜鮭笹匙冊刷"],[36416,"察拶撮擦札殺薩雑皐鯖捌錆鮫皿晒三傘参山惨撒散桟燦珊産算纂蚕讃賛酸餐斬暫残仕仔伺使刺司史嗣四士始姉姿子屍市師志思指支孜斯施旨枝止"],[36480,"死氏獅祉私糸紙紫肢脂至視詞詩試誌諮資賜雌飼歯事似侍児字寺慈持時次滋治爾璽痔磁示而耳自蒔辞汐鹿式識鴫竺軸宍雫七叱執失嫉室悉湿漆疾質実蔀篠偲柴芝屡蕊縞舎写射捨赦斜煮社紗者謝車遮蛇邪借勺尺杓灼爵酌釈錫若寂弱惹主取守手朱殊狩珠種腫趣酒首儒受呪寿授樹綬需囚収周"],[36672,"宗就州修愁拾洲秀秋終繍習臭舟蒐衆襲讐蹴輯週酋酬集醜什住充十従戎柔汁渋獣縦重銃叔夙宿淑祝縮粛塾熟出術述俊峻春瞬竣舜駿准循旬楯殉淳"],[36736,"準潤盾純巡遵醇順処初所暑曙渚庶緒署書薯藷諸助叙女序徐恕鋤除傷償勝匠升召哨商唱嘗奨妾娼宵将小少尚庄床廠彰承抄招掌捷昇昌昭晶松梢樟樵沼消渉湘焼焦照症省硝礁祥称章笑粧紹肖菖蒋蕉衝裳訟証詔詳象賞醤鉦鍾鐘障鞘上丈丞乗冗剰城場壌嬢常情擾条杖浄状畳穣蒸譲醸錠嘱埴飾"],[36928,"拭植殖燭織職色触食蝕辱尻伸信侵唇娠寝審心慎振新晋森榛浸深申疹真神秦紳臣芯薪親診身辛進針震人仁刃塵壬尋甚尽腎訊迅陣靭笥諏須酢図厨"],[36992,"逗吹垂帥推水炊睡粋翠衰遂酔錐錘随瑞髄崇嵩数枢趨雛据杉椙菅頗雀裾澄摺寸世瀬畝是凄制勢姓征性成政整星晴棲栖正清牲生盛精聖声製西誠誓請逝醒青静斉税脆隻席惜戚斥昔析石積籍績脊責赤跡蹟碩切拙接摂折設窃節説雪絶舌蝉仙先千占宣専尖川戦扇撰栓栴泉浅洗染潜煎煽旋穿箭線"],[37184,"繊羨腺舛船薦詮賎践選遷銭銑閃鮮前善漸然全禅繕膳糎噌塑岨措曾曽楚狙疏疎礎祖租粗素組蘇訴阻遡鼠僧創双叢倉喪壮奏爽宋層匝惣想捜掃挿掻"],[37248,"操早曹巣槍槽漕燥争痩相窓糟総綜聡草荘葬蒼藻装走送遭鎗霜騒像増憎臓蔵贈造促側則即息捉束測足速俗属賊族続卒袖其揃存孫尊損村遜他多太汰詑唾堕妥惰打柁舵楕陀駄騨体堆対耐岱帯待怠態戴替泰滞胎腿苔袋貸退逮隊黛鯛代台大第醍題鷹滝瀧卓啄宅托択拓沢濯琢託鐸濁諾茸凧蛸只"],[37440,"叩但達辰奪脱巽竪辿棚谷狸鱈樽誰丹単嘆坦担探旦歎淡湛炭短端箪綻耽胆蛋誕鍛団壇弾断暖檀段男談値知地弛恥智池痴稚置致蜘遅馳築畜竹筑蓄"],[37504,"逐秩窒茶嫡着中仲宙忠抽昼柱注虫衷註酎鋳駐樗瀦猪苧著貯丁兆凋喋寵帖帳庁弔張彫徴懲挑暢朝潮牒町眺聴脹腸蝶調諜超跳銚長頂鳥勅捗直朕沈珍賃鎮陳津墜椎槌追鎚痛通塚栂掴槻佃漬柘辻蔦綴鍔椿潰坪壷嬬紬爪吊釣鶴亭低停偵剃貞呈堤定帝底庭廷弟悌抵挺提梯汀碇禎程締艇訂諦蹄逓"],[37696,"邸鄭釘鼎泥摘擢敵滴的笛適鏑溺哲徹撤轍迭鉄典填天展店添纏甜貼転顛点伝殿澱田電兎吐堵塗妬屠徒斗杜渡登菟賭途都鍍砥砺努度土奴怒倒党冬"],[37760,"凍刀唐塔塘套宕島嶋悼投搭東桃梼棟盗淘湯涛灯燈当痘祷等答筒糖統到董蕩藤討謄豆踏逃透鐙陶頭騰闘働動同堂導憧撞洞瞳童胴萄道銅峠鴇匿得徳涜特督禿篤毒独読栃橡凸突椴届鳶苫寅酉瀞噸屯惇敦沌豚遁頓呑曇鈍奈那内乍凪薙謎灘捺鍋楢馴縄畷南楠軟難汝二尼弐迩匂賑肉虹廿日乳入"],[37952,"如尿韮任妊忍認濡禰祢寧葱猫熱年念捻撚燃粘乃廼之埜嚢悩濃納能脳膿農覗蚤巴把播覇杷波派琶破婆罵芭馬俳廃拝排敗杯盃牌背肺輩配倍培媒梅"],[38016,"楳煤狽買売賠陪這蝿秤矧萩伯剥博拍柏泊白箔粕舶薄迫曝漠爆縛莫駁麦函箱硲箸肇筈櫨幡肌畑畠八鉢溌発醗髪伐罰抜筏閥鳩噺塙蛤隼伴判半反叛帆搬斑板氾汎版犯班畔繁般藩販範釆煩頒飯挽晩番盤磐蕃蛮匪卑否妃庇彼悲扉批披斐比泌疲皮碑秘緋罷肥被誹費避非飛樋簸備尾微枇毘琵眉美"],[38208,"鼻柊稗匹疋髭彦膝菱肘弼必畢筆逼桧姫媛紐百謬俵彪標氷漂瓢票表評豹廟描病秒苗錨鋲蒜蛭鰭品彬斌浜瀕貧賓頻敏瓶不付埠夫婦富冨布府怖扶敷"],[38272,"斧普浮父符腐膚芙譜負賦赴阜附侮撫武舞葡蕪部封楓風葺蕗伏副復幅服福腹複覆淵弗払沸仏物鮒分吻噴墳憤扮焚奮粉糞紛雰文聞丙併兵塀幣平弊柄並蔽閉陛米頁僻壁癖碧別瞥蔑箆偏変片篇編辺返遍便勉娩弁鞭保舗鋪圃捕歩甫補輔穂募墓慕戊暮母簿菩倣俸包呆報奉宝峰峯崩庖抱捧放方朋"],[38464,"法泡烹砲縫胞芳萌蓬蜂褒訪豊邦鋒飽鳳鵬乏亡傍剖坊妨帽忘忙房暴望某棒冒紡肪膨謀貌貿鉾防吠頬北僕卜墨撲朴牧睦穆釦勃没殆堀幌奔本翻凡盆"],[38528,"摩磨魔麻埋妹昧枚毎哩槙幕膜枕鮪柾鱒桝亦俣又抹末沫迄侭繭麿万慢満漫蔓味未魅巳箕岬密蜜湊蓑稔脈妙粍民眠務夢無牟矛霧鵡椋婿娘冥名命明盟迷銘鳴姪牝滅免棉綿緬面麺摸模茂妄孟毛猛盲網耗蒙儲木黙目杢勿餅尤戻籾貰問悶紋門匁也冶夜爺耶野弥矢厄役約薬訳躍靖柳薮鑓愉愈油癒"],[38720,"諭輸唯佑優勇友宥幽悠憂揖有柚湧涌猶猷由祐裕誘遊邑郵雄融夕予余与誉輿預傭幼妖容庸揚揺擁曜楊様洋溶熔用窯羊耀葉蓉要謡踊遥陽養慾抑欲"],[38784,"沃浴翌翼淀羅螺裸来莱頼雷洛絡落酪乱卵嵐欄濫藍蘭覧利吏履李梨理璃痢裏裡里離陸律率立葎掠略劉流溜琉留硫粒隆竜龍侶慮旅虜了亮僚両凌寮料梁涼猟療瞭稜糧良諒遼量陵領力緑倫厘林淋燐琳臨輪隣鱗麟瑠塁涙累類令伶例冷励嶺怜玲礼苓鈴隷零霊麗齢暦歴列劣烈裂廉恋憐漣煉簾練聯"],[38976,"蓮連錬呂魯櫓炉賂路露労婁廊弄朗楼榔浪漏牢狼篭老聾蝋郎六麓禄肋録論倭和話歪賄脇惑枠鷲亙亘鰐詫藁蕨椀湾碗腕"],[39071,"弌丐丕个丱丶丼丿乂乖乘亂亅豫亊舒弍于亞亟亠亢亰亳亶从仍仄仆仂仗仞仭仟价伉佚估佛佝佗佇佶侈侏侘佻佩佰侑佯來侖儘俔俟俎俘俛俑俚俐俤俥倚倨倔倪倥倅伜俶倡倩倬俾俯們倆偃假會偕偐偈做偖偬偸傀傚傅傴傲"],[39232,"僉僊傳僂僖僞僥僭僣僮價僵儉儁儂儖儕儔儚儡儺儷儼儻儿兀兒兌兔兢竸兩兪兮冀冂囘册冉冏冑冓冕冖冤冦冢冩冪冫决冱冲冰况冽凅凉凛几處凩凭"],[39296,"凰凵凾刄刋刔刎刧刪刮刳刹剏剄剋剌剞剔剪剴剩剳剿剽劍劔劒剱劈劑辨辧劬劭劼劵勁勍勗勞勣勦飭勠勳勵勸勹匆匈甸匍匐匏匕匚匣匯匱匳匸區卆卅丗卉卍凖卞卩卮夘卻卷厂厖厠厦厥厮厰厶參簒雙叟曼燮叮叨叭叺吁吽呀听吭吼吮吶吩吝呎咏呵咎呟呱呷呰咒呻咀呶咄咐咆哇咢咸咥咬哄哈咨"],[39488,"咫哂咤咾咼哘哥哦唏唔哽哮哭哺哢唹啀啣啌售啜啅啖啗唸唳啝喙喀咯喊喟啻啾喘喞單啼喃喩喇喨嗚嗅嗟嗄嗜嗤嗔嘔嗷嘖嗾嗽嘛嗹噎噐營嘴嘶嘲嘸"],[39552,"噫噤嘯噬噪嚆嚀嚊嚠嚔嚏嚥嚮嚶嚴囂嚼囁囃囀囈囎囑囓囗囮囹圀囿圄圉圈國圍圓團圖嗇圜圦圷圸坎圻址坏坩埀垈坡坿垉垓垠垳垤垪垰埃埆埔埒埓堊埖埣堋堙堝塲堡塢塋塰毀塒堽塹墅墹墟墫墺壞墻墸墮壅壓壑壗壙壘壥壜壤壟壯壺壹壻壼壽夂夊夐夛梦夥夬夭夲夸夾竒奕奐奎奚奘奢奠奧奬奩"],[39744,"奸妁妝佞侫妣妲姆姨姜妍姙姚娥娟娑娜娉娚婀婬婉娵娶婢婪媚媼媾嫋嫂媽嫣嫗嫦嫩嫖嫺嫻嬌嬋嬖嬲嫐嬪嬶嬾孃孅孀孑孕孚孛孥孩孰孳孵學斈孺宀"],[39808,"它宦宸寃寇寉寔寐寤實寢寞寥寫寰寶寳尅將專對尓尠尢尨尸尹屁屆屎屓屐屏孱屬屮乢屶屹岌岑岔妛岫岻岶岼岷峅岾峇峙峩峽峺峭嶌峪崋崕崗嵜崟崛崑崔崢崚崙崘嵌嵒嵎嵋嵬嵳嵶嶇嶄嶂嶢嶝嶬嶮嶽嶐嶷嶼巉巍巓巒巖巛巫已巵帋帚帙帑帛帶帷幄幃幀幎幗幔幟幢幤幇幵并幺麼广庠廁廂廈廐廏"],[4e4,"廖廣廝廚廛廢廡廨廩廬廱廳廰廴廸廾弃弉彝彜弋弑弖弩弭弸彁彈彌彎弯彑彖彗彙彡彭彳彷徃徂彿徊很徑徇從徙徘徠徨徭徼忖忻忤忸忱忝悳忿怡恠"],[40064,"怙怐怩怎怱怛怕怫怦怏怺恚恁恪恷恟恊恆恍恣恃恤恂恬恫恙悁悍惧悃悚悄悛悖悗悒悧悋惡悸惠惓悴忰悽惆悵惘慍愕愆惶惷愀惴惺愃愡惻惱愍愎慇愾愨愧慊愿愼愬愴愽慂慄慳慷慘慙慚慫慴慯慥慱慟慝慓慵憙憖憇憬憔憚憊憑憫憮懌懊應懷懈懃懆憺懋罹懍懦懣懶懺懴懿懽懼懾戀戈戉戍戌戔戛"],[40256,"戞戡截戮戰戲戳扁扎扞扣扛扠扨扼抂抉找抒抓抖拔抃抔拗拑抻拏拿拆擔拈拜拌拊拂拇抛拉挌拮拱挧挂挈拯拵捐挾捍搜捏掖掎掀掫捶掣掏掉掟掵捫"],[40320,"捩掾揩揀揆揣揉插揶揄搖搴搆搓搦搶攝搗搨搏摧摯摶摎攪撕撓撥撩撈撼據擒擅擇撻擘擂擱擧舉擠擡抬擣擯攬擶擴擲擺攀擽攘攜攅攤攣攫攴攵攷收攸畋效敖敕敍敘敞敝敲數斂斃變斛斟斫斷旃旆旁旄旌旒旛旙无旡旱杲昊昃旻杳昵昶昴昜晏晄晉晁晞晝晤晧晨晟晢晰暃暈暎暉暄暘暝曁暹曉暾暼"],[40512,"曄暸曖曚曠昿曦曩曰曵曷朏朖朞朦朧霸朮朿朶杁朸朷杆杞杠杙杣杤枉杰枩杼杪枌枋枦枡枅枷柯枴柬枳柩枸柤柞柝柢柮枹柎柆柧檜栞框栩桀桍栲桎"],[40576,"梳栫桙档桷桿梟梏梭梔條梛梃檮梹桴梵梠梺椏梍桾椁棊椈棘椢椦棡椌棍棔棧棕椶椒椄棗棣椥棹棠棯椨椪椚椣椡棆楹楷楜楸楫楔楾楮椹楴椽楙椰楡楞楝榁楪榲榮槐榿槁槓榾槎寨槊槝榻槃榧樮榑榠榜榕榴槞槨樂樛槿權槹槲槧樅榱樞槭樔槫樊樒櫁樣樓橄樌橲樶橸橇橢橙橦橈樸樢檐檍檠檄檢檣"],[40768,"檗蘗檻櫃櫂檸檳檬櫞櫑櫟檪櫚櫪櫻欅蘖櫺欒欖鬱欟欸欷盜欹飮歇歃歉歐歙歔歛歟歡歸歹歿殀殄殃殍殘殕殞殤殪殫殯殲殱殳殷殼毆毋毓毟毬毫毳毯"],[40832,"麾氈氓气氛氤氣汞汕汢汪沂沍沚沁沛汾汨汳沒沐泄泱泓沽泗泅泝沮沱沾沺泛泯泙泪洟衍洶洫洽洸洙洵洳洒洌浣涓浤浚浹浙涎涕濤涅淹渕渊涵淇淦涸淆淬淞淌淨淒淅淺淙淤淕淪淮渭湮渮渙湲湟渾渣湫渫湶湍渟湃渺湎渤滿渝游溂溪溘滉溷滓溽溯滄溲滔滕溏溥滂溟潁漑灌滬滸滾漿滲漱滯漲滌"],[57408,"漾漓滷澆潺潸澁澀潯潛濳潭澂潼潘澎澑濂潦澳澣澡澤澹濆澪濟濕濬濔濘濱濮濛瀉瀋濺瀑瀁瀏濾瀛瀚潴瀝瀘瀟瀰瀾瀲灑灣炙炒炯烱炬炸炳炮烟烋烝"],[57472,"烙焉烽焜焙煥煕熈煦煢煌煖煬熏燻熄熕熨熬燗熹熾燒燉燔燎燠燬燧燵燼燹燿爍爐爛爨爭爬爰爲爻爼爿牀牆牋牘牴牾犂犁犇犒犖犢犧犹犲狃狆狄狎狒狢狠狡狹狷倏猗猊猜猖猝猴猯猩猥猾獎獏默獗獪獨獰獸獵獻獺珈玳珎玻珀珥珮珞璢琅瑯琥珸琲琺瑕琿瑟瑙瑁瑜瑩瑰瑣瑪瑶瑾璋璞璧瓊瓏瓔珱"],[57664,"瓠瓣瓧瓩瓮瓲瓰瓱瓸瓷甄甃甅甌甎甍甕甓甞甦甬甼畄畍畊畉畛畆畚畩畤畧畫畭畸當疆疇畴疊疉疂疔疚疝疥疣痂疳痃疵疽疸疼疱痍痊痒痙痣痞痾痿"],[57728,"痼瘁痰痺痲痳瘋瘍瘉瘟瘧瘠瘡瘢瘤瘴瘰瘻癇癈癆癜癘癡癢癨癩癪癧癬癰癲癶癸發皀皃皈皋皎皖皓皙皚皰皴皸皹皺盂盍盖盒盞盡盥盧盪蘯盻眈眇眄眩眤眞眥眦眛眷眸睇睚睨睫睛睥睿睾睹瞎瞋瞑瞠瞞瞰瞶瞹瞿瞼瞽瞻矇矍矗矚矜矣矮矼砌砒礦砠礪硅碎硴碆硼碚碌碣碵碪碯磑磆磋磔碾碼磅磊磬"],[57920,"磧磚磽磴礇礒礑礙礬礫祀祠祗祟祚祕祓祺祿禊禝禧齋禪禮禳禹禺秉秕秧秬秡秣稈稍稘稙稠稟禀稱稻稾稷穃穗穉穡穢穩龝穰穹穽窈窗窕窘窖窩竈窰"],[57984,"窶竅竄窿邃竇竊竍竏竕竓站竚竝竡竢竦竭竰笂笏笊笆笳笘笙笞笵笨笶筐筺笄筍笋筌筅筵筥筴筧筰筱筬筮箝箘箟箍箜箚箋箒箏筝箙篋篁篌篏箴篆篝篩簑簔篦篥籠簀簇簓篳篷簗簍篶簣簧簪簟簷簫簽籌籃籔籏籀籐籘籟籤籖籥籬籵粃粐粤粭粢粫粡粨粳粲粱粮粹粽糀糅糂糘糒糜糢鬻糯糲糴糶糺紆"],[58176,"紂紜紕紊絅絋紮紲紿紵絆絳絖絎絲絨絮絏絣經綉絛綏絽綛綺綮綣綵緇綽綫總綢綯緜綸綟綰緘緝緤緞緻緲緡縅縊縣縡縒縱縟縉縋縢繆繦縻縵縹繃縷"],[58240,"縲縺繧繝繖繞繙繚繹繪繩繼繻纃緕繽辮繿纈纉續纒纐纓纔纖纎纛纜缸缺罅罌罍罎罐网罕罔罘罟罠罨罩罧罸羂羆羃羈羇羌羔羞羝羚羣羯羲羹羮羶羸譱翅翆翊翕翔翡翦翩翳翹飜耆耄耋耒耘耙耜耡耨耿耻聊聆聒聘聚聟聢聨聳聲聰聶聹聽聿肄肆肅肛肓肚肭冐肬胛胥胙胝胄胚胖脉胯胱脛脩脣脯腋"],[58432,"隋腆脾腓腑胼腱腮腥腦腴膃膈膊膀膂膠膕膤膣腟膓膩膰膵膾膸膽臀臂膺臉臍臑臙臘臈臚臟臠臧臺臻臾舁舂舅與舊舍舐舖舩舫舸舳艀艙艘艝艚艟艤"],[58496,"艢艨艪艫舮艱艷艸艾芍芒芫芟芻芬苡苣苟苒苴苳苺莓范苻苹苞茆苜茉苙茵茴茖茲茱荀茹荐荅茯茫茗茘莅莚莪莟莢莖茣莎莇莊荼莵荳荵莠莉莨菴萓菫菎菽萃菘萋菁菷萇菠菲萍萢萠莽萸蔆菻葭萪萼蕚蒄葷葫蒭葮蒂葩葆萬葯葹萵蓊葢蒹蒿蒟蓙蓍蒻蓚蓐蓁蓆蓖蒡蔡蓿蓴蔗蔘蔬蔟蔕蔔蓼蕀蕣蕘蕈"],[58688,"蕁蘂蕋蕕薀薤薈薑薊薨蕭薔薛藪薇薜蕷蕾薐藉薺藏薹藐藕藝藥藜藹蘊蘓蘋藾藺蘆蘢蘚蘰蘿虍乕虔號虧虱蚓蚣蚩蚪蚋蚌蚶蚯蛄蛆蚰蛉蠣蚫蛔蛞蛩蛬"],[58752,"蛟蛛蛯蜒蜆蜈蜀蜃蛻蜑蜉蜍蛹蜊蜴蜿蜷蜻蜥蜩蜚蝠蝟蝸蝌蝎蝴蝗蝨蝮蝙蝓蝣蝪蠅螢螟螂螯蟋螽蟀蟐雖螫蟄螳蟇蟆螻蟯蟲蟠蠏蠍蟾蟶蟷蠎蟒蠑蠖蠕蠢蠡蠱蠶蠹蠧蠻衄衂衒衙衞衢衫袁衾袞衵衽袵衲袂袗袒袮袙袢袍袤袰袿袱裃裄裔裘裙裝裹褂裼裴裨裲褄褌褊褓襃褞褥褪褫襁襄褻褶褸襌褝襠襞"],[58944,"襦襤襭襪襯襴襷襾覃覈覊覓覘覡覩覦覬覯覲覺覽覿觀觚觜觝觧觴觸訃訖訐訌訛訝訥訶詁詛詒詆詈詼詭詬詢誅誂誄誨誡誑誥誦誚誣諄諍諂諚諫諳諧"],[59008,"諤諱謔諠諢諷諞諛謌謇謚諡謖謐謗謠謳鞫謦謫謾謨譁譌譏譎證譖譛譚譫譟譬譯譴譽讀讌讎讒讓讖讙讚谺豁谿豈豌豎豐豕豢豬豸豺貂貉貅貊貍貎貔豼貘戝貭貪貽貲貳貮貶賈賁賤賣賚賽賺賻贄贅贊贇贏贍贐齎贓賍贔贖赧赭赱赳趁趙跂趾趺跏跚跖跌跛跋跪跫跟跣跼踈踉跿踝踞踐踟蹂踵踰踴蹊"],[59200,"蹇蹉蹌蹐蹈蹙蹤蹠踪蹣蹕蹶蹲蹼躁躇躅躄躋躊躓躑躔躙躪躡躬躰軆躱躾軅軈軋軛軣軼軻軫軾輊輅輕輒輙輓輜輟輛輌輦輳輻輹轅轂輾轌轉轆轎轗轜"],[59264,"轢轣轤辜辟辣辭辯辷迚迥迢迪迯邇迴逅迹迺逑逕逡逍逞逖逋逧逶逵逹迸遏遐遑遒逎遉逾遖遘遞遨遯遶隨遲邂遽邁邀邊邉邏邨邯邱邵郢郤扈郛鄂鄒鄙鄲鄰酊酖酘酣酥酩酳酲醋醉醂醢醫醯醪醵醴醺釀釁釉釋釐釖釟釡釛釼釵釶鈞釿鈔鈬鈕鈑鉞鉗鉅鉉鉤鉈銕鈿鉋鉐銜銖銓銛鉚鋏銹銷鋩錏鋺鍄錮"],[59456,"錙錢錚錣錺錵錻鍜鍠鍼鍮鍖鎰鎬鎭鎔鎹鏖鏗鏨鏥鏘鏃鏝鏐鏈鏤鐚鐔鐓鐃鐇鐐鐶鐫鐵鐡鐺鑁鑒鑄鑛鑠鑢鑞鑪鈩鑰鑵鑷鑽鑚鑼鑾钁鑿閂閇閊閔閖閘閙"],[59520,"閠閨閧閭閼閻閹閾闊濶闃闍闌闕闔闖關闡闥闢阡阨阮阯陂陌陏陋陷陜陞陝陟陦陲陬隍隘隕隗險隧隱隲隰隴隶隸隹雎雋雉雍襍雜霍雕雹霄霆霈霓霎霑霏霖霙霤霪霰霹霽霾靄靆靈靂靉靜靠靤靦靨勒靫靱靹鞅靼鞁靺鞆鞋鞏鞐鞜鞨鞦鞣鞳鞴韃韆韈韋韜韭齏韲竟韶韵頏頌頸頤頡頷頽顆顏顋顫顯顰"],[59712,"顱顴顳颪颯颱颶飄飃飆飩飫餃餉餒餔餘餡餝餞餤餠餬餮餽餾饂饉饅饐饋饑饒饌饕馗馘馥馭馮馼駟駛駝駘駑駭駮駱駲駻駸騁騏騅駢騙騫騷驅驂驀驃"],[59776,"騾驕驍驛驗驟驢驥驤驩驫驪骭骰骼髀髏髑髓體髞髟髢髣髦髯髫髮髴髱髷髻鬆鬘鬚鬟鬢鬣鬥鬧鬨鬩鬪鬮鬯鬲魄魃魏魍魎魑魘魴鮓鮃鮑鮖鮗鮟鮠鮨鮴鯀鯊鮹鯆鯏鯑鯒鯣鯢鯤鯔鯡鰺鯲鯱鯰鰕鰔鰉鰓鰌鰆鰈鰒鰊鰄鰮鰛鰥鰤鰡鰰鱇鰲鱆鰾鱚鱠鱧鱶鱸鳧鳬鳰鴉鴈鳫鴃鴆鴪鴦鶯鴣鴟鵄鴕鴒鵁鴿鴾鵆鵈"],[59968,"鵝鵞鵤鵑鵐鵙鵲鶉鶇鶫鵯鵺鶚鶤鶩鶲鷄鷁鶻鶸鶺鷆鷏鷂鷙鷓鷸鷦鷭鷯鷽鸚鸛鸞鹵鹹鹽麁麈麋麌麒麕麑麝麥麩麸麪麭靡黌黎黏黐黔黜點黝黠黥黨黯"],[60032,"黴黶黷黹黻黼黽鼇鼈皷鼕鼡鼬鼾齊齒齔齣齟齠齡齦齧齬齪齷齲齶龕龜龠堯槇遙瑤凜熙"]],_a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"],ab=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]}]}],bb=[{bits:21522,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:0,
dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:2,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:3,dataMask:7}}],cb=8,db=24,eb=function(){function a(a,b,c){this.width=a;var d=a*b;if(c&&c.length!==d)throw"wrong buffer size";this.data=c||new Uint8ClampedArray(d)}return a.prototype.get=function(a,b){return this.data[b*this.width+a]},a.prototype.set=function(a,b,c){this.data[b*this.width+a]=c},a}(),fb={canOverwriteImage:!0,greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},inversionAttempts:"attemptBoth"},gb=function(){function a(){this.options=fb}return a.prototype.setOptions=function(a){return void 0===a&&(a={}),a=a||{},this.options=pa(pa({},fb),a),this},a.prototype.decode=function(a,b,c){var d=this.options,e=d.canOverwriteImage,f=d.greyScaleWeights,g=d.inversionAttempts,h="onlyInvert"===g||"invertFirst"===g,i="attemptBoth"===g||h,j=ha(a,b,c,i,f,e),k=j.binarized,l=j.inverted,m=ia(h?l:k);return m||"attemptBoth"!==d.inversionAttempts&&"invertFirst"!==d.inversionAttempts||(m=ia(h?k:l)),m},a.prototype.scan=function(a){var b=this;return new Promise(function(c,d){var e=new Image;e.crossOrigin="anonymous",e.onload=function(){ja(e);var a=e.width,f=e.height,g=document.createElement("canvas"),h=g.getContext("2d");g.width=a,g.height=f,h.drawImage(e,0,0);var i=h.getImageData(0,0,a,f).data,j=b.decode(i,a,f);return j?c(j):d("failed to decode image")},e.onerror=function(){ja(e),d("failed to load image: "+a)},e.src=a})},a}(),hb=function(c){function d(b){var d=c.call(this,a.Mode.Kanji,b)||this;return d.bytes=N(b),d}return b(d,c),d.prototype.write=function(a){for(var b=0,c=this.bytes,d=c.length;d>b+1;){var e=(255&c[b])<<8|255&c[b+1];e>=33088&&40956>=e?e-=33088:e>=57408&&60351>=e&&(e-=49472),e=192*(e>>8&255)+(255&e),a.put(e,13),b+=2}},d.prototype.getLength=function(){return Math.floor(this.bytes.length/2)},d}(qa),ib=function(c){function d(b){var d=c.call(this,a.Mode.Numeric,b)||this;return d.bytes=ka(b),d}return b(d,c),d.prototype.write=function(a){for(var b=0,c=this.bytes,d=c.length;d>b+2;)a.put(ma([c[b],c[b+1],c[b+2]]),10),b+=3;d>b&&(d-b===1?a.put(ma([c[b]]),4):d-b===2&&a.put(ma([c[b],c[b+1]]),7))},d.prototype.getLength=function(){return this.bytes.length},d}(qa),jb=function(c){function d(b){var d=c.call(this,a.Mode.Alphanumeric,b)||this;return d.bytes=ka(b),d}return b(d,c),d.prototype.write=function(a){for(var b=0,c=this.bytes,d=c.length;d>b+1;)a.put(45*na(c[b])+na(c[b+1]),11),b+=2;d>b&&a.put(na(c[b]),6)},d.prototype.getLength=function(){return this.bytes.length},d}(qa);a.Decoder=gb,a.Encoder=Sa,a.QRAlphanumeric=jb,a.QRByte=ra,a.QRKanji=hb,a.QRNumeric=ib}),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.jsQR=b():a.jsQR=b()}("undefined"!=typeof self?self:this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=3)}([function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){this.width=b,this.height=a.length/b,this.data=a}return a.createEmpty=function(b,c){return new a(new Uint8ClampedArray(b*c),b)},a.prototype.get=function(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]},a.prototype.set=function(a,b,c){this.data[b*this.width+a]=c?1:0},a.prototype.setRegion=function(a,b,c,d,e){for(var f=b;b+d>f;f++)for(var g=a;a+c>g;g++)this.set(g,f,!!e)},a}();b.BitMatrix=d},function(a,b,c){"use strict";function d(a,b){return a^b}Object.defineProperty(b,"__esModule",{value:!0});var e=c(2);b.addOrSubtractGF=d;var f=function(){function a(a,b,c){this.primitive=a,this.size=b,this.generatorBase=c,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var d=1,f=0;f<this.size;f++)this.expTable[f]=d,d=2*d,d>=this.size&&(d=(d^this.primitive)&this.size-1);for(var f=0;f<this.size-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new e["default"](this,Uint8ClampedArray.from([0])),this.one=new e["default"](this,Uint8ClampedArray.from([1]))}return a.prototype.multiply=function(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]},a.prototype.inverse=function(a){if(0===a)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[a]-1]},a.prototype.buildMonomial=function(a,b){if(0>a)throw new Error("Invalid monomial degree less than 0");if(0===b)return this.zero;var c=new Uint8ClampedArray(a+1);return c[0]=b,new e["default"](this,c)},a.prototype.log=function(a){if(0===a)throw new Error("Can't take log(0)");return this.logTable[a]},a.prototype.exp=function(a){return this.expTable[a]},a}();b["default"]=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=function(){function a(a,b){if(0===b.length)throw new Error("No coefficients.");this.field=a;var c=b.length;if(c>1&&0===b[0]){for(var d=1;c>d&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(c-d);for(var e=0;e<this.coefficients.length;e++)this.coefficients[e]=b[d+e]}}else this.coefficients=b}return a.prototype.degree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return 0===this.coefficients[0]},a.prototype.getCoefficient=function(a){return this.coefficients[this.coefficients.length-1-a]},a.prototype.addOrSubtract=function(b){if(this.isZero())return b;if(b.isZero())return this;var c=this.coefficients,e=b.coefficients;c.length>e.length&&(i=[e,c],c=i[0],e=i[1]);for(var f=new Uint8ClampedArray(e.length),g=e.length-c.length,h=0;g>h;h++)f[h]=e[h];for(var h=g;h<e.length;h++)f[h]=d.addOrSubtractGF(c[h-g],e[h]);return new a(this.field,f);var i},a.prototype.multiply=function(b){if(0===b)return this.field.zero;if(1===b)return this;for(var c=this.coefficients.length,d=new Uint8ClampedArray(c),e=0;c>e;e++)d[e]=this.field.multiply(this.coefficients[e],b);return new a(this.field,d)},a.prototype.multiplyPoly=function(b){if(this.isZero()||b.isZero())return this.field.zero;for(var c=this.coefficients,e=c.length,f=b.coefficients,g=f.length,h=new Uint8ClampedArray(e+g-1),i=0;e>i;i++)for(var j=c[i],k=0;g>k;k++)h[i+k]=d.addOrSubtractGF(h[i+k],this.field.multiply(j,f[k]));return new a(this.field,h)},a.prototype.multiplyByMonomial=function(b,c){if(0>b)throw new Error("Invalid degree less than 0");if(0===c)return this.field.zero;for(var d=this.coefficients.length,e=new Uint8ClampedArray(d+b),f=0;d>f;f++)e[f]=this.field.multiply(this.coefficients[f],c);return new a(this.field,e)},a.prototype.evaluateAt=function(a){var b=0;if(0===a)return this.getCoefficient(0);var c=this.coefficients.length;if(1===a)return this.coefficients.forEach(function(a){b=d.addOrSubtractGF(b,a)}),b;b=this.coefficients[0];for(var e=1;c>e;e++)b=d.addOrSubtractGF(this.field.multiply(a,b),this.coefficients[e]);return b},a}();b["default"]=e},function(a,b,c){"use strict";function d(a,b,c){var d=e.binarize(a,b,c),i=h.locate(d);if(!i)return null;var j=g.extract(d,i),k=f.decode(j.matrix);return k?{binaryData:k.bytes,data:k.text,chunks:k.chunks,location:{topRightCorner:j.mappingFunction(i.dimension,0),topLeftCorner:j.mappingFunction(0,0),bottomRightCorner:j.mappingFunction(i.dimension,i.dimension),bottomLeftCorner:j.mappingFunction(0,i.dimension),topRightFinderPattern:i.topRight,topLeftFinderPattern:i.topLeft,bottomLeftFinderPattern:i.bottomLeft,bottomRightAlignmentPattern:i.alignmentPattern}}:null}Object.defineProperty(b,"__esModule",{value:!0});var e=c(4),f=c(5),g=c(11),h=c(12);b["default"]=d},function(a,b,c){"use strict";function d(a,b,c){return b>a?b:a>c?c:a}function e(a,b,c){if(a.length!==b*c*4)throw new Error("Malformed data passed to binarizer.");for(var e=new i(b,c),j=0;b>j;j++)for(var k=0;c>k;k++){var l=a[4*(k*b+j)+0],m=a[4*(k*b+j)+1],n=a[4*(k*b+j)+2];e.set(j,k,.2126*l+.7152*m+.0722*n)}for(var o=Math.ceil(b/g),p=Math.ceil(c/g),q=new i(o,p),r=0;p>r;r++)for(var s=0;o>s;s++){for(var t=0,u=1/0,v=0,k=0;g>k;k++)for(var j=0;g>j;j++){var w=e.get(s*g+j,r*g+k);t+=w,u=Math.min(u,w),v=Math.max(v,w)}var x=t/Math.pow(g,2);if(h>=v-u&&(x=u/2,r>0&&s>0)){var y=(q.get(s,r-1)+2*q.get(s-1,r)+q.get(s-1,r-1))/4;y>u&&(x=y)}q.set(s,r,x)}for(var z=f.BitMatrix.createEmpty(b,c),r=0;p>r;r++)for(var s=0;o>s;s++){for(var A=d(s,2,o-3),B=d(r,2,p-3),t=0,C=-2;2>=C;C++)for(var D=-2;2>=D;D++)t+=q.get(A+C,B+D);for(var E=t/25,j=0;g>j;j++)for(var k=0;g>k;k++){var F=e.get(s*g+j,r*g+k);z.set(s*g+j,r*g+k,E>=F)}}return z}Object.defineProperty(b,"__esModule",{value:!0});var f=c(0),g=8,h=24,i=function(){function a(a,b){this.width=a,this.data=new Uint8ClampedArray(a*b)}return a.prototype.get=function(a,b){return this.data[b*this.width+a]},a.prototype.set=function(a,b,c){this.data[b*this.width+a]=c},a}();b.binarize=e},function(a,b,c){"use strict";function d(a,b){for(var c=a^b,d=0;c;)d++,c&=c-1;return d}function e(a,b){return b<<1|a}function f(a){var b=17+4*a.versionNumber,c=m.BitMatrix.createEmpty(b,b);c.setRegion(0,0,9,9,!0),c.setRegion(b-8,0,8,9,!0),c.setRegion(0,b-8,9,8,!0);for(var d=0,e=a.alignmentPatternCenters;d<e.length;d++)for(var f=e[d],g=0,h=a.alignmentPatternCenters;g<h.length;g++){var i=h[g];6===f&&6===i||6===f&&i===b-7||f===b-7&&6===i||c.setRegion(f-2,i-2,5,5,!0)}return c.setRegion(6,9,1,b-17,!0),c.setRegion(9,6,b-17,1,!0),a.versionNumber>6&&(c.setRegion(b-11,0,3,6,!0),c.setRegion(0,b-11,6,3,!0)),c}function g(a,b,c){for(var d=r[c.dataMask],g=a.height,h=f(b),i=[],j=0,k=0,l=!0,m=g-1;m>0;m-=2){6===m&&m--;for(var n=0;g>n;n++)for(var o=l?g-1-n:n,p=0;2>p;p++){var q=m-p;if(!h.get(q,o)){k++;var s=a.get(q,o);d({y:o,x:q})&&(s=!s),j=e(s,j),8===k&&(i.push(j),k=0,j=0)}}l=!l}return i}function h(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return p.VERSIONS[c-1];for(var f=0,g=5;g>=0;g--)for(var h=b-9;h>=b-11;h--)f=e(a.get(h,g),f);for(var i=0,h=5;h>=0;h--)for(var g=b-9;g>=b-11;g--)i=e(a.get(h,g),i);for(var j,k=1/0,l=0,m=p.VERSIONS;l<m.length;l++){var n=m[l];if(n.infoBits===f||n.infoBits===i)return n;var o=d(f,n.infoBits);k>o&&(j=n,k=o),o=d(i,n.infoBits),k>o&&(j=n,k=o)}return 3>=k?j:void 0}function i(a){for(var b=0,c=0;8>=c;c++)6!==c&&(b=e(a.get(c,8),b));for(var f=7;f>=0;f--)6!==f&&(b=e(a.get(8,f),b));for(var g=a.height,h=0,f=g-1;f>=g-7;f--)h=e(a.get(8,f),h);for(var c=g-8;g>c;c++)h=e(a.get(c,8),h);for(var i=1/0,j=null,k=0,l=q;k<l.length;k++){var m=l[k],n=m.bits,o=m.formatInfo;if(n===b||n===h)return o;var p=d(b,n);i>p&&(j=o,i=p),b!==h&&(p=d(h,n),i>p&&(j=o,i=p))}return 3>=i?j:null}function j(a,b,c){var d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(function(a){for(var b=0;b<a.numBlocks;b++)e.push({numDataCodewords:a.dataCodewordsPerBlock,codewords:[]}),f+=a.dataCodewordsPerBlock+d.ecCodewordsPerBlock}),a=a.slice(0,f);for(var g=d.ecBlocks[0].dataCodewordsPerBlock,h=0;g>h;h++)for(var i=0,j=e;i<j.length;i++){var k=j[i];k.codewords.push(a.shift())}if(d.ecBlocks.length>1)for(var l=d.ecBlocks[0].numBlocks,m=d.ecBlocks[1].numBlocks,h=0;m>h;h++)e[l+h].codewords.push(a.shift());for(;a.length>0;)for(var n=0,o=e;n<o.length;n++){var k=o[n];k.codewords.push(a.shift())}return e}function k(a){var b=h(a);if(!b)return null;var c=i(a);if(!c)return null;for(var d=g(a,b,c),e=j(d,b,c.errorCorrectionLevel),f=e.reduce(function(a,b){return a+b.numDataCodewords},0),k=new Uint8ClampedArray(f),l=0,m=0,p=e;m<p.length;m++){var q=p[m],r=o.decode(q.codewords,q.codewords.length-q.numDataCodewords);if(!r)return null;for(var s=0;s<q.numDataCodewords;s++)k[l++]=r[s]}try{return n.decode(k,b.versionNumber)}catch(t){return null}}function l(a){if(null==a)return null;var b=k(a);if(b)return b;for(var c=0;c<a.width;c++)for(var d=c+1;d<a.height;d++)a.get(c,d)!==a.get(d,c)&&(a.set(c,d,!a.get(c,d)),a.set(d,c,!a.get(d,c)));return k(a)}Object.defineProperty(b,"__esModule",{value:!0});var m=c(0),n=c(6),o=c(9),p=c(10),q=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],r=[function(a){return(a.y+a.x)%2===0},function(a){return a.y%2===0},function(a){return a.x%3===0},function(a){return(a.y+a.x)%3===0},function(a){return(Math.floor(a.y/2)+Math.floor(a.x/3))%2===0},function(a){return a.x*a.y%2+a.x*a.y%3===0},function(a){return(a.y*a.x%2+a.y*a.x%3)%2===0},function(a){return((a.y+a.x)%2+a.y*a.x%3)%2===0}];b.decode=l},function(a,b,c){"use strict";function d(a,b){for(var c=[],d="",e=[10,12,14][b],f=a.readBits(e);f>=3;){var g=a.readBits(10);if(g>=1e3)throw new Error("Invalid numeric value above 999");var h=Math.floor(g/100),i=Math.floor(g/10)%10,j=g%10;c.push(48+h,48+i,48+j),d+=h.toString()+i.toString()+j.toString(),f-=3}if(2===f){var g=a.readBits(7);if(g>=100)throw new Error("Invalid numeric value above 99");var h=Math.floor(g/10),i=g%10;c.push(48+h,48+i),d+=h.toString()+i.toString()}else if(1===f){var g=a.readBits(4);if(g>=10)throw new Error("Invalid numeric value above 9");c.push(48+g),d+=g.toString()}return{bytes:c,text:d}}function e(a,b){for(var c=[],d="",e=[9,11,13][b],f=a.readBits(e);f>=2;){var g=a.readBits(11),h=Math.floor(g/45),i=g%45;c.push(m[h].charCodeAt(0),m[i].charCodeAt(0)),d+=m[h]+m[i],f-=2}if(1===f){var h=a.readBits(6);c.push(m[h].charCodeAt(0)),d+=m[h]}return{bytes:c,text:d}}function f(a,b){for(var c=[],d="",e=[8,16,16][b],f=a.readBits(e),g=0;f>g;g++){var h=a.readBits(8);c.push(h)}try{d+=decodeURIComponent(c.map(function(a){return"%"+("0"+a.toString(16)).substr(-2)}).join(""))}catch(i){}return{bytes:c,text:d}}function g(a,b){for(var c=[],d="",e=[8,10,12][b],f=a.readBits(e),g=0;f>g;g++){var h=a.readBits(13),i=Math.floor(h/192)<<8|h%192;i+=7936>i?33088:49472,c.push(i>>8,255&i),d+=String.fromCharCode(k.shiftJISTable[i])}return{bytes:c,text:d}}function h(a,b){for(var c=new j.BitStream(a),h=9>=b?0:26>=b?1:2,k={text:"",bytes:[],chunks:[]};c.available()>=4;){var m=c.readBits(4);if(m===l.Terminator)return k;if(m===l.Numeric){var n=d(c,h);k.text+=n.text,(r=k.bytes).push.apply(r,n.bytes),k.chunks.push({type:i.Numeric,text:n.text})}else if(m===l.Alphanumeric){var o=e(c,h);k.text+=o.text,(s=k.bytes).push.apply(s,o.bytes),k.chunks.push({type:i.Alphanumeric,text:o.text})}else if(m===l.Byte){var p=f(c,h);k.text+=p.text,(t=k.bytes).push.apply(t,p.bytes),k.chunks.push({type:i.Byte,bytes:p.bytes,text:p.text})}else if(m===l.Kanji){var q=g(c,h);k.text+=q.text,(u=k.bytes).push.apply(u,q.bytes),k.chunks.push({type:i.Kanji,bytes:q.bytes,text:q.text})}}var r,s,t,u}Object.defineProperty(b,"__esModule",{value:!0});var i,j=c(7),k=c(8);!function(a){a.Numeric="numeric",a.Alphanumeric="alphanumeric",a.Byte="byte",a.Kanji="kanji"}(i=b.Mode||(b.Mode={}));var l;!function(a){a[a.Terminator=0]="Terminator",a[a.Numeric=1]="Numeric",a[a.Alphanumeric=2]="Alphanumeric",a[a.Byte=4]="Byte",a[a.Kanji=8]="Kanji"}(l||(l={}));var m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];b.decode=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a){this.byteOffset=0,this.bitOffset=0,this.bytes=a}return a.prototype.readBits=function(a){if(1>a||a>32||a>this.available())throw new Error("Cannot read "+a.toString()+" bits");var b=0;if(this.bitOffset>0){var c=8-this.bitOffset,d=c>a?a:c,e=c-d,f=255>>8-d<<e;b=(this.bytes[this.byteOffset]&f)>>e,a-=d,this.bitOffset+=d,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(a>0){for(;a>=8;)b=b<<8|255&this.bytes[this.byteOffset],this.byteOffset++,a-=8;if(a>0){var e=8-a,f=255>>e<<e;b=b<<a|(this.bytes[this.byteOffset]&f)>>e,this.bitOffset+=a}}return b},a.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},a}();b.BitStream=d},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,
35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,
39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,
59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(a,b,c){"use strict";function d(a,b,c,d){b.degree()<c.degree()&&(r=[c,b],b=r[0],c=r[1]);for(var e=b,f=c,g=a.zero,h=a.one;f.degree()>=d/2;){var i=e,j=g;if(e=f,g=h,e.isZero())return null;f=i;for(var k=a.zero,l=e.getCoefficient(e.degree()),m=a.inverse(l);f.degree()>=e.degree()&&!f.isZero();){var n=f.degree()-e.degree(),o=a.multiply(f.getCoefficient(f.degree()),m);k=k.addOrSubtract(a.buildMonomial(n,o)),f=f.addOrSubtract(e.multiplyByMonomial(n,o))}if(h=k.multiplyPoly(g).addOrSubtract(j),f.degree()>=e.degree())return null}var p=h.getCoefficient(0);if(0===p)return null;var q=a.inverse(p);return[h.multiply(q),f.multiply(q)];var r}function e(a,b){var c=b.degree();if(1===c)return[b.getCoefficient(1)];for(var d=new Array(c),e=0,f=1;f<a.size&&c>e;f++)0===b.evaluateAt(f)&&(d[e]=a.inverse(f),e++);return e!==c?null:d}function f(a,b,c){for(var d=c.length,e=new Array(d),f=0;d>f;f++){for(var g=a.inverse(c[f]),i=1,j=0;d>j;j++)f!==j&&(i=a.multiply(i,h.addOrSubtractGF(1,a.multiply(c[j],g))));e[f]=a.multiply(b.evaluateAt(g),a.inverse(i)),0!==a.generatorBase&&(e[f]=a.multiply(e[f],g))}return e}function g(a,b){var c=new Uint8ClampedArray(a.length);c.set(a);for(var g=new h["default"](285,256,0),j=new i["default"](g,c),k=new Uint8ClampedArray(b),l=!1,m=0;b>m;m++){var n=j.evaluateAt(g.exp(m+g.generatorBase));k[k.length-1-m]=n,0!==n&&(l=!0)}if(!l)return c;var o=new i["default"](g,k),p=d(g,g.buildMonomial(b,1),o,b);if(null===p)return null;var q=e(g,p[0]);if(null==q)return null;for(var r=f(g,p[1],q),s=0;s<q.length;s++){var t=c.length-1-g.log(q[s]);if(0>t)return null;c[t]=h.addOrSubtractGF(c[t],r[s])}return c}Object.defineProperty(b,"__esModule",{value:!0});var h=c(1),i=c(2);b.decode=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(a,b,c){"use strict";function d(a,b,c,d){var e=a.x-b.x+c.x-d.x,f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};var g=b.x-c.x,h=d.x-c.x,i=b.y-c.y,j=d.y-c.y,k=g*j-h*i,l=(e*j-h*f)/k,m=(g*f-e*i)/k;return{a11:b.x-a.x+l*b.x,a12:b.y-a.y+l*b.y,a13:l,a21:d.x-a.x+m*d.x,a22:d.y-a.y+m*d.y,a23:m,a31:a.x,a32:a.y,a33:1}}function e(a,b,c,e){var f=d(a,b,c,e);return{a11:f.a22*f.a33-f.a23*f.a32,a12:f.a13*f.a32-f.a12*f.a33,a13:f.a12*f.a23-f.a13*f.a22,a21:f.a23*f.a31-f.a21*f.a33,a22:f.a11*f.a33-f.a13*f.a31,a23:f.a13*f.a21-f.a11*f.a23,a31:f.a21*f.a32-f.a22*f.a31,a32:f.a12*f.a31-f.a11*f.a32,a33:f.a11*f.a22-f.a12*f.a21}}function f(a,b){return{a11:a.a11*b.a11+a.a21*b.a12+a.a31*b.a13,a12:a.a12*b.a11+a.a22*b.a12+a.a32*b.a13,a13:a.a13*b.a11+a.a23*b.a12+a.a33*b.a13,a21:a.a11*b.a21+a.a21*b.a22+a.a31*b.a23,a22:a.a12*b.a21+a.a22*b.a22+a.a32*b.a23,a23:a.a13*b.a21+a.a23*b.a22+a.a33*b.a23,a31:a.a11*b.a31+a.a21*b.a32+a.a31*b.a33,a32:a.a12*b.a31+a.a22*b.a32+a.a32*b.a33,a33:a.a13*b.a31+a.a23*b.a32+a.a33*b.a33}}function g(a,b){for(var c=e({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),g=d(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),i=f(g,c),j=h.BitMatrix.createEmpty(b.dimension,b.dimension),k=function(a,b){var c=i.a13*a+i.a23*b+i.a33;return{x:(i.a11*a+i.a21*b+i.a31)/c,y:(i.a12*a+i.a22*b+i.a32)/c}},l=0;l<b.dimension;l++)for(var m=0;m<b.dimension;m++){var n=m+.5,o=l+.5,p=k(n,o);j.set(m,l,a.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:j,mappingFunction:k}}Object.defineProperty(b,"__esModule",{value:!0});var h=c(0);b.extract=g},function(a,b,c){"use strict";function d(a){return a.reduce(function(a,b){return a+b})}function e(a,b,c){var d,e,f,g=o(a,b),h=o(b,c),i=o(a,c);return h>=g&&h>=i?(j=[b,a,c],d=j[0],e=j[1],f=j[2]):i>=h&&i>=g?(k=[a,b,c],d=k[0],e=k[1],f=k[2]):(l=[a,c,b],d=l[0],e=l[1],f=l[2]),(f.x-e.x)*(d.y-e.y)-(f.y-e.y)*(d.x-e.x)<0&&(m=[f,d],d=m[0],f=m[1]),{bottomLeft:d,topLeft:e,topRight:f};var j,k,l,m}function f(a,b,c,e){var f=(d(h(a,c,e,5))/7+d(h(a,b,e,5))/7+d(h(c,a,e,5))/7+d(h(b,a,e,5))/7)/4,g=Math.round(o(a,b)/f),i=Math.round(o(a,c)/f),j=Math.floor((g+i)/2)+7;switch(j%4){case 0:j++;break;case 2:j--}return{dimension:j,moduleSize:f}}function g(a,b,c,d){var e,f,g,h,i=[{x:Math.floor(a.x),y:Math.floor(a.y)}],j=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);j?(e=Math.floor(a.y),f=Math.floor(a.x),
g=Math.floor(b.y),h=Math.floor(b.x)):(e=Math.floor(a.x),f=Math.floor(a.y),g=Math.floor(b.x),h=Math.floor(b.y));for(var k=Math.abs(g-e),l=Math.abs(h-f),m=Math.floor(-k/2),n=g>e?1:-1,p=h>f?1:-1,q=!0,r=e,s=f;r!==g+n;r+=n){var t=j?s:r,u=j?r:s;if(c.get(t,u)!==q&&(q=!q,i.push({x:t,y:u}),i.length===d+1))break;if(m+=l,m>0){if(s===h)break;s+=p,m-=k}}for(var v=[],w=0;d>w;w++)v.push(i[w]&&i[w+1]?o(i[w],i[w+1]):0);return v}function h(a,b,c,d){var e=b.y-a.y,f=b.x-a.x,h=g(a,b,c,Math.ceil(d/2)),i=g(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2)),j=h.shift()+i.shift()-1;return(k=i.concat(j)).concat.apply(k,h);var k}function i(a,b){var c=d(a)/d(b),e=0;return b.forEach(function(b,d){e+=Math.pow(a[d]-b*c,2)}),{averageSize:c,error:e}}function j(a,b,c){try{var d=h(a,{x:-1,y:a.y},c,b.length),e=h(a,{x:a.x,y:-1},c,b.length),f={x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},g=h(a,f,c,b.length),j={x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},k=h(a,j,c,b.length),l=i(d,b),m=i(e,b),n=i(g,b),o=i(k,b),p=Math.sqrt(l.error*l.error+m.error*m.error+n.error*n.error+o.error*o.error),q=(l.averageSize+m.averageSize+n.averageSize+o.averageSize)/4,r=(Math.pow(l.averageSize-q,2)+Math.pow(m.averageSize-q,2)+Math.pow(n.averageSize-q,2)+Math.pow(o.averageSize-q,2))/q;return p+r}catch(s){return 1/0}}function k(a){for(var b=[],c=[],g=[],h=[],i=function(e){for(var f=0,i=!1,j=[0,0,0,0,0],k=function(b){var g=a.get(b,e);if(g===i)f++;else{j=[j[1],j[2],j[3],j[4],f],f=1,i=g;var k=d(j)/7,l=Math.abs(j[0]-k)<k&&Math.abs(j[1]-k)<k&&Math.abs(j[2]-3*k)<3*k&&Math.abs(j[3]-k)<k&&Math.abs(j[4]-k)<k&&!g,o=d(j.slice(-3))/3,p=Math.abs(j[2]-o)<o&&Math.abs(j[3]-o)<o&&Math.abs(j[4]-o)<o&&g;if(l){var q=b-j[3]-j[4],r=q-j[2],s={startX:r,endX:q,y:e},t=c.filter(function(a){return r>=a.bottom.startX&&r<=a.bottom.endX||q>=a.bottom.startX&&r<=a.bottom.endX||r<=a.bottom.startX&&q>=a.bottom.endX&&j[2]/(a.bottom.endX-a.bottom.startX)<n&&j[2]/(a.bottom.endX-a.bottom.startX)>m});t.length>0?t[0].bottom=s:c.push({top:s,bottom:s})}if(p){var u=b-j[4],v=u-j[3],s={startX:v,y:e,endX:u},t=h.filter(function(a){return v>=a.bottom.startX&&v<=a.bottom.endX||u>=a.bottom.startX&&v<=a.bottom.endX||v<=a.bottom.startX&&u>=a.bottom.endX&&j[2]/(a.bottom.endX-a.bottom.startX)<n&&j[2]/(a.bottom.endX-a.bottom.startX)>m});t.length>0?t[0].bottom=s:h.push({top:s,bottom:s})}}},l=-1;l<=a.width;l++)k(l);b.push.apply(b,c.filter(function(a){return a.bottom.y!==e&&a.bottom.y-a.top.y>=2})),c=c.filter(function(a){return a.bottom.y===e}),g.push.apply(g,h.filter(function(a){return a.bottom.y!==e})),h=h.filter(function(a){return a.bottom.y===e})},k=0;k<=a.height;k++)i(k);b.push.apply(b,c.filter(function(a){return a.bottom.y-a.top.y>=2})),g.push.apply(g,h);var p=b.filter(function(a){return a.bottom.y-a.top.y>=2}).map(function(b){var c=(b.top.startX+b.top.endX+b.bottom.startX+b.bottom.endX)/4,e=(b.top.y+b.bottom.y+1)/2;if(a.get(Math.round(c),Math.round(e))){var f=[b.top.endX-b.top.startX,b.bottom.endX-b.bottom.startX,b.bottom.y-b.top.y+1],g=d(f)/f.length,h=j({x:Math.round(c),y:Math.round(e)},[1,1,3,1,1],a);return{score:h,x:c,y:e,size:g}}}).filter(function(a){return!!a}).sort(function(a,b){return a.score-b.score}).map(function(a,b,c){if(b>l)return null;var d=c.filter(function(a,c){return b!==c}).map(function(b){return{x:b.x,y:b.y,score:b.score+Math.pow(b.size-a.size,2)/a.size,size:b.size}}).sort(function(a,b){return a.score-b.score});if(d.length<2)return null;var e=a.score+d[0].score+d[1].score;return{points:[a].concat(d.slice(0,2)),score:e}}).filter(function(a){return!!a}).sort(function(a,b){return a.score-b.score});if(0===p.length)return null;var q=e(p[0].points[0],p[0].points[1],p[0].points[2]),r=q.topRight,s=q.topLeft,t=q.bottomLeft,u=f(s,r,t,a),v=u.dimension,w=u.moduleSize,x={x:r.x-s.x+t.x,y:r.y-s.y+t.y},y=(o(s,t)+o(s,r))/2/w,z=1-3/y,A={x:s.x+z*(x.x-s.x),y:s.y+z*(x.y-s.y)},B=g.map(function(b){var c=(b.top.startX+b.top.endX+b.bottom.startX+b.bottom.endX)/4,e=(b.top.y+b.bottom.y+1)/2;if(a.get(Math.floor(c),Math.floor(e))){var f=[b.top.endX-b.top.startX,b.bottom.endX-b.bottom.startX,b.bottom.y-b.top.y+1],g=(d(f)/f.length,j({x:Math.floor(c),y:Math.floor(e)},[1,1,1],a)),h=g+o({x:c,y:e},A);return{x:c,y:e,score:h}}}).filter(function(a){return!!a}).sort(function(a,b){return a.score-b.score}),C=y>=15&&B.length?B[0]:A;return{alignmentPattern:{x:C.x,y:C.y},bottomLeft:{x:t.x,y:t.y},dimension:v,topLeft:{x:s.x,y:s.y},topRight:{x:r.x,y:r.y}}}Object.defineProperty(b,"__esModule",{value:!0});var l=4,m=.5,n=1.5,o=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))};b.locate=k}])["default"]}),function(a){"use strict";function b(a,b){function c(a){return b.bgcolor&&(a.style.backgroundColor=b.bgcolor),b.width&&(a.style.width=b.width+"px"),b.height&&(a.style.height=b.height+"px"),b.style&&Object.keys(b.style).forEach(function(c){a.style[c]=b.style[c]}),a}return b=b||{},g(b),Promise.resolve(a).then(function(a){return i(a,b.filter,!0)}).then(j).then(k).then(c).then(function(c){return l(c,b.width||q.width(a),b.height||q.height(a))})}function c(a,b){return h(a,b||{}).then(function(b){return b.getContext("2d").getImageData(0,0,q.width(a),q.height(a)).data})}function d(a,b){return h(a,b||{}).then(function(a){return a.toDataURL()})}function e(a,b){return b=b||{},h(a,b).then(function(a){return a.toDataURL("image/jpeg",b.quality||1)})}function f(a,b){return h(a,b||{}).then(q.canvasToBlob)}function g(a){"undefined"==typeof a.imagePlaceholder?v.impl.options.imagePlaceholder=u.imagePlaceholder:v.impl.options.imagePlaceholder=a.imagePlaceholder,"undefined"==typeof a.cacheBust?v.impl.options.cacheBust=u.cacheBust:v.impl.options.cacheBust=a.cacheBust}function h(a,c){function d(a){var b=document.createElement("canvas");if(b.width=c.width||q.width(a),b.height=c.height||q.height(a),c.bgcolor){var d=b.getContext("2d");d.fillStyle=c.bgcolor,d.fillRect(0,0,b.width,b.height)}return b}return b(a,c).then(q.makeImage).then(q.delay(100)).then(function(b){var c=d(a);return c.getContext("2d").drawImage(b,0,0),c})}function i(a,b,c){function d(a){return a instanceof HTMLCanvasElement?q.makeImage(a.toDataURL()):a.cloneNode(!1)}function e(a,b,c){function d(a,b,c){var d=Promise.resolve();return b.forEach(function(b){d=d.then(function(){return i(b,c)}).then(function(b){b&&a.appendChild(b)})}),d}var e=a.childNodes;return 0===e.length?Promise.resolve(b):d(b,q.asArray(e),c).then(function(){return b})}function f(a,b){function c(){function c(a,b){function c(a,b){q.asArray(a).forEach(function(c){b.setProperty(c,a.getPropertyValue(c),a.getPropertyPriority(c))})}a.cssText?b.cssText=a.cssText:c(a,b)}c(window.getComputedStyle(a),b.style)}function d(){function c(c){function d(a,b,c){function d(a){var b=a.getPropertyValue("content");return a.cssText+" content: "+b+";"}function e(a){function b(b){return b+": "+a.getPropertyValue(b)+(a.getPropertyPriority(b)?" !important":"")}return q.asArray(a).map(b).join("; ")+";"}var f="."+a+":"+b,g=c.cssText?d(c):e(c);return document.createTextNode(f+"{"+g+"}")}var e=window.getComputedStyle(a,c),f=e.getPropertyValue("content");if(""!==f&&"none"!==f){var g=q.uid();b.className=b.className+" "+g;var h=document.createElement("style");h.appendChild(d(g,c,e)),b.appendChild(h)}}[":before",":after"].forEach(function(a){c(a)})}function e(){a instanceof HTMLTextAreaElement&&(b.innerHTML=a.value),a instanceof HTMLInputElement&&b.setAttribute("value",a.value)}function f(){b instanceof SVGElement&&(b.setAttribute("xmlns","http://www.w3.org/2000/svg"),b instanceof SVGRectElement&&["width","height"].forEach(function(a){var c=b.getAttribute(a);c&&b.style.setProperty(a,c)}))}return b instanceof Element?Promise.resolve().then(c).then(d).then(e).then(f).then(function(){return b}):b}return c||!b||b(a)?Promise.resolve(a).then(d).then(function(c){return e(a,c,b)}).then(function(b){return f(a,b)}):Promise.resolve()}function j(a){return s.resolveAll().then(function(b){var c=document.createElement("style");return a.appendChild(c),c.appendChild(document.createTextNode(b)),a})}function k(a){return t.inlineAll(a).then(function(){return a})}function l(a,b,c){return Promise.resolve(a).then(function(a){return a.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(a)}).then(q.escapeXhtml).then(function(a){return'<foreignObject x="0" y="0" width="100%" height="100%">'+a+"</foreignObject>"}).then(function(a){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+b+'" height="'+c+'">'+a+"</svg>"}).then(function(a){return"data:image/svg+xml;charset=utf-8,"+a})}function m(){function a(){var a="application/font-woff",b="image/jpeg";return{woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:b,jpeg:b,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function b(a){var b=/\.([^\.\/]*?)$/g.exec(a);return b?b[1]:""}function c(c){var d=b(c).toLowerCase();return a()[d]||""}function d(a){return-1!==a.search(/^(data:)/)}function e(a){return new Promise(function(b){for(var c=window.atob(a.toDataURL().split(",")[1]),d=c.length,e=new Uint8Array(d),f=0;d>f;f++)e[f]=c.charCodeAt(f);b(new Blob([e],{type:"image/png"}))})}function f(a){return a.toBlob?new Promise(function(b){a.toBlob(b)}):e(a)}function g(a,b){var c=document.implementation.createHTMLDocument(),d=c.createElement("base");c.head.appendChild(d);var e=c.createElement("a");return c.body.appendChild(e),d.href=b,e.href=a,e.href}function h(){var a=0;return function(){function b(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}return"u"+b()+a++}}function i(a){return new Promise(function(b,c){var d=new Image;d.onload=function(){b(d)},d.onerror=c,d.src=a})}function j(a){var b=3e4;return v.impl.options.cacheBust&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime()),new Promise(function(c){function d(){if(4===g.readyState){var b=/^([\w-]+:)\/\//.test(a)?RegExp.$1:window.location.protocol;if("file:"!==b&&200!==g.status)return void(h?c(h):f("cannot fetch resource: "+a+", status: "+g.status));var d=new FileReader;d.onloadend=function(){var a=d.result.split(/,/)[1];c(a)},d.readAsDataURL(g.response)}}function e(){h?c(h):f("timeout of "+b+"ms occured while fetching resource: "+a)}function f(a){console.error(a),c("")}var g=new XMLHttpRequest;g.onreadystatechange=d,g.ontimeout=e,g.responseType="blob",g.timeout=b,g.open("GET",a,!0),g.send();var h;if(v.impl.options.imagePlaceholder){var i=v.impl.options.imagePlaceholder.split(/,/);i&&i[1]&&(h=i[1])}})}function k(a,b){return"data:"+b+";base64,"+a}function l(a){return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function m(a){return function(b){return new Promise(function(c){setTimeout(function(){c(b)},a)})}}function n(a){for(var b=[],c=a.length,d=0;c>d;d++)b.push(a[d]);return b}function o(a){return encodeURIComponent(a.replace(/&nbsp;/g," "))}function p(a){var b=r(a,"border-left-width"),c=r(a,"border-right-width");return a.scrollWidth+b+c}function q(a){var b=r(a,"border-top-width"),c=r(a,"border-bottom-width");return a.scrollHeight+b+c}function r(a,b){var c=window.getComputedStyle(a).getPropertyValue(b);return parseFloat(c.replace("px",""))}return{escape:l,parseExtension:b,mimeType:c,dataAsUrl:k,isDataUrl:d,canvasToBlob:f,resolveUrl:g,getAndEncode:j,uid:h(),delay:m,asArray:n,escapeXhtml:o,makeImage:i,width:p,height:q}}function n(){function a(a){return-1!==a.search(e)}function b(a){for(var b,c=[];null!==(b=e.exec(a));)c.push(b[1]);return c.filter(function(a){return!q.isDataUrl(a)})}function c(a,b,c,d){function e(a){return new RegExp("(url\\(['\"]?)("+q.escape(a)+")(['\"]?\\))","g")}return Promise.resolve(b).then(function(a){return c?q.resolveUrl(a,c):a}).then(d||q.getAndEncode).then(function(a){return q.dataAsUrl(a,q.mimeType(b))}).then(function(c){return a.replace(e(b),"$1"+c+"$3")})}function d(d,e,f){function g(){return!a(d)}return g()?Promise.resolve(d):Promise.resolve(d).then(b).then(function(a){var b=Promise.resolve(d);return a.forEach(function(a){b=b.then(function(b){return c(b,a,e,f)})}),b})}var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:d,shouldProcess:a,impl:{readUrls:b,inline:c}}}function o(){function a(){return b(document).then(function(a){return Promise.all(a.map(function(a){return a.resolve()}))}).then(function(a){return a.join("\n")})}function b(){function a(a){return a.filter(function(a){return a.type===CSSRule.FONT_FACE_RULE}).filter(function(a){return r.shouldProcess(a.style.getPropertyValue("src"))})}function b(a){var b=[];return a.forEach(function(a){try{q.asArray(a.cssRules||[]).forEach(b.push.bind(b))}catch(c){console.log("Error while reading CSS rules from "+a.href,c.toString())}}),b}function c(a){return{resolve:function(){var b=(a.parentStyleSheet||{}).href;return r.inlineAll(a.cssText,b)},src:function(){return a.style.getPropertyValue("src")}}}return Promise.resolve(q.asArray(document.styleSheets)).then(b).then(a).then(function(a){return a.map(c)})}return{resolveAll:a,impl:{readAll:b}}}function p(){function a(a){function b(b){return q.isDataUrl(a.src)?Promise.resolve():Promise.resolve(a.src).then(b||q.getAndEncode).then(function(b){return q.dataAsUrl(b,q.mimeType(a.src))}).then(function(b){return new Promise(function(c,d){a.onload=c,a.onerror=d,a.src=b})})}return{inline:b}}function b(c){function d(a){var b=a.style.getPropertyValue("background");return b?r.inlineAll(b).then(function(b){a.style.setProperty("background",b,a.style.getPropertyPriority("background"))}).then(function(){return a}):Promise.resolve(a)}return c instanceof Element?d(c).then(function(){return c instanceof HTMLImageElement?(c.crossOrigin="anonymous",a(c).inline()):Promise.all(q.asArray(c.childNodes).map(function(a){return b(a)}))}):Promise.resolve(c)}return{inlineAll:b,impl:{newImage:a}}}var q=m(),r=n(),s=o(),t=p(),u={imagePlaceholder:void 0,cacheBust:!1},v={toSvg:b,toPng:d,toJpeg:e,toBlob:f,toPixelData:c,impl:{fontFaces:s,images:t,util:q,inliner:r,options:{}}};"undefined"!=typeof module?module.exports=v:a.domtoimage=v}(this),function(a){"use strict";function b(b){var c=b.indexOf("adnmb")>-1,d=b.indexOf("tnmb")>-1;if(c||d){if(a.LaunchHistory=a.LaunchHistory||[],a.LaunchHistory.push((new Date).valueOf()),a.LaunchHistory.length>3&&a.LaunchHistory[a.LaunchHistory.length-1]-a.LaunchHistory[a.LaunchHistory.length-3]<1e3)return void console.log("call times exceed");var e={href:b,classList:{contains:function(){return!1}},textContent:b},f=function(){console.log("configReady"),Ub.removeEventListener(ac,"configReady",f);var a=b.indexOf("adnmb")>-1?"hacfun":b.indexOf("tnmb")>-1?"beitai":"";if(a&&a!==Vb.site&&(Vb.site=a,window.LocalStorage.setItem("config",JSON.stringify(Vb)),Vb.homepage=Vb.isAppstoreReview&&"hacfun"==a?11:Vb.homepage,qc.exit(["thread-section","reply-section","sketch-section","preview-thread-section"]),q()),fc)ub(e);else{var c=function(){Ub.removeEventListener(ac,"cdnReady",c),ub(e)};Ub.addEventListener(ac,"cdnReady",c)}};gc?f():Ub.addEventListener(ac,"configReady",f)}}function c(){return window.LocalStorage={setItem:function(b,c){return new Promise(function(a,d){window.NativeStorage?NativeStorage.setItem(b+"nimingban",c,function(b){a()},function(d){console.error(b,d),localStorage.setItem(b,c),a()}):(localStorage.setItem(b,c),a())}).then(function(){return a.IsDatabaseReady?void("config"===b?$b.putItem([{uniqueid:"configV2",data:JSON.parse(c),site:a.Config.site,mode:"configV2"}]).then(function(){console.log(b+" putItem")}):b.indexOf("forumList")>-1?$b.putItem([{uniqueid:b,data:JSON.parse(c),site:a.Config.site,mode:"forumList"}]).then(function(){console.log(b+" putItem")}):b.indexOf("frequentlyVisited")>-1?$b.putItem([{uniqueid:b,data:JSON.parse(c),site:a.Config.site,mode:"frequentlyVisited"}]).then(function(){console.log(b+" putItem")}):b.indexOf("timeline")>-1?$b.putItem([{uniqueid:b,data:JSON.parse(c),site:a.Config.site,mode:"timeline"}]).then(function(){console.log(b+" putItem")}):b.indexOf("cookieV2")>-1?$b.putItem([{uniqueid:b,data:JSON.parse(c),site:a.Config.site,mode:"cookieV2"}]).then(function(){console.log(b+" putItem")}):b.indexOf("migrateState")>-1?$b.putItem([{uniqueid:b,data:JSON.parse(c),site:a.Config.site,mode:"migrateState"}]).then(function(){console.log(b+" putItem")}):b.indexOf("adminUser")>-1?$b.putItem([{uniqueid:b,data:JSON.parse(c),site:a.Config.site,mode:"adminUser"}]).then(function(){console.log(b+" putItem")}):b.indexOf("firstRun")>-1&&$b.putItem([{uniqueid:b,data:JSON.parse(c),site:a.Config.site,mode:"firstRun"}]).then(function(){console.log(b+" putItem")})):"db not ready"})},getItem:function(b,c,d){return new Promise(function(a,c){window.NativeStorage?NativeStorage.getItem(b+"nimingban",function(b){a(b)},function(c){console.error(b,c),window.LocalStorage.setItem(b,localStorage.getItem(b)),a(localStorage.getItem(b))}):a(localStorage.getItem(b))}).then(function(c){return c?c:a.IsDatabaseReady?$b.getItem({where:{uniqueid:"config"===b?"configV2":b}}).then(function(a){return a.length>0&&a[0].data||null}):null})},removeItem:function(a,b,c){return new Promise(function(b,c){window.NativeStorage?NativeStorage.remove(a+"nimingban",function(a){b()},function(c){console.error(a,c),localStorage.removeItem(a),b()}):(localStorage.removeItem(a),b())})}},Promise.resolve()}function d(){window.LocalStorage.getItem("firstRun").then(function(b){if(a.firstRunGuide=JSON.parse(b)||{index:!1,thread:!1,reply:!1,isFirstRun:!0},1==a.firstRunGuide&&(a.firstRunGuide={index:!0,thread:!0,reply:!0},window.LocalStorage.setItem("firstRun",JSON.stringify(a.firstRunGuide))),!a.firstRunGuide.index){a.firstRunGuide.index=!0,window.LocalStorage.setItem("firstRun",JSON.stringify(a.firstRunGuide));var c=ac.querySelector(".btn-edit-forum");c.classList.add("blink"),c.onclick=function(){this.classList.remove("blink")},e("guide/first-run-index.html")}})}function e(b){a.Xhr.get(b,null,{responseType:"text",timeout:6e3}).then(function(a){var b=document.createElement("div");b.innerHTML=a;var c=nc("guide-section");c.innerHTML=b.innerHTML;var d=c.querySelector(".btn-close-guide");d&&(d.onclick=function(){qc.exit("guide-section")},qc.push("guide-section"),nb(c,"current"))})["catch"](function(a){console.error(a)})}function f(){if(!Vb.uuid||"undefined"==Vb.uuid){var b=device.uuid;if(b&&"undefined"!=b&&"null"!=b&&"9774d56d682e549c"!=b?Vb.uuid=b:Vb.uuid=Ub.generateUUID(),Vb.defaultUUID=Vb.uuid,window.LocalStorage.setItem("config",JSON.stringify(Vb)),"ios"==Ub.device.platform)var c=new cordova.plugins.SecureStorage(function(){c.get(function(a){console.log("Success, got "+a),Vb.uuid=a&&"undefined"!=a?a:Vb.uuid,Vb.defaultUUID=Vb.uuid,window.LocalStorage.setItem("config",JSON.stringify(Vb))},function(a){c.set(function(a){console.log("Set "+a)},function(a){console.error(a)},"uuid",Vb.uuid)},"uuid")},function(a){console.error(a)},"adao");else{var d=a.StorageFolderPath+"/favor/uuid.txt";Ub.readFile(d).then(function(a){a=a.trim(),Vb.uuid=a&&"undefined"!=a?a:Vb.uuid,Vb.defaultUUID=Vb.uuid,window.LocalStorage.setItem("config",JSON.stringify(Vb))},function(a){})}}}function g(){var b=function(b,c){var d=b.loading||[],e=b.forum||[],f=b.beitaiForum||[],g="hacfun"==Vb.site?e:f,h=b.appstore||{},i=b.update||{},i=i[Ub.device.platform],j=function(a,b){var c={},d=[];return a.forEach(function(a){var e=a.id;if(!c[e]){for(var f=!1,g=0,h=b.length;h>g;g++)if(b[g].id==e){a.name=b[g].name||"",a.showName=b[g].showName||"",a.rule=b[g].rule||"",f=!0;break}c[e]=!0,f&&d.push(a)}}),d};if(b.whitelist&&window.LocalStorage.getItem("whitelistDate").then(function(a){a=a||2017031701,b.whitelist.date>parseInt(a,10)&&(b.whitelist.threads.forEach(function(a){Xb.remove(a)}),window.LocalStorage.setItem("whitelistDate",b.whitelist.date))}),h[a.Versionid]&&Vb.isAppstoreReview&&(Vb.isAppstoreReview=!1,Vb.homepage=-1,Vb.showSage=!0,window.LocalStorage.setItem("config",JSON.stringify(Vb)),a.ForumList=Tb.forumlist,a.FrequentlyVisited=Tb.frequentlyVisited,a.LoadingText=a.Common.loadingText,a.Timeline=JSON.parse(JSON.stringify(a.ForumList)),["hacfun","beitai"].forEach(function(b){var c=a.Nimingban[b].forumlist;window.LocalStorage.setItem("forumList"+b,JSON.stringify(c)),window.LocalStorage.setItem("timeline"+b,JSON.stringify(c));var d=a.Nimingban[b].frequentlyVisited;window.LocalStorage.setItem("frequentlyVisited"+b,JSON.stringify(d))}),B()),!Vb.isAppstoreReview){if(d&&(a.LoadingText=a.LoadingText.concat(d),$b.putItem([{uniqueid:"loadingText",data:a.LoadingText,site:Vb.site,mode:"loadingText"}])),i&&i.versionid>a.Versionid){var k=parseInt(device.version.slice(0,3).replace(/\./,""),10),l=i.minSupportedVersion||"0.0";l=parseInt(l.slice(0,3).replace(/\./,""),10);var m=k>=l;a.Versionid>=i.minPackageVersionID&&i.packageUrl||"android"==Ub.device.platform&&m&&(Ub.Dialog.show("发现新版本 "+i.version,i.description,[{label:"更新",id:"btn-ok"}],!1),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase();"button"==b&&(Ub.Dialog.hide(),window.open(i.url,"_system"))})}if(g){var n=[],o=a.ForumList;g.forEach(function(b){var c=b.id,d=o.some(function(a){return c==a.id});d||(b.order=0,o.push(b),n.push(b.name),a.Timeline.push({id:b.id,name:b.name}),window.LocalStorage.setItem("timeline"+Vb.site,JSON.stringify(a.Timeline)))}),a.Timeline=j(a.Timeline,g),window.LocalStorage.setItem("timeline"+Vb.site,JSON.stringify(a.Timeline)),a.ForumList=j(o,g),window.LocalStorage.setItem("forumList"+Vb.site,JSON.stringify(a.ForumList)),o=null,n.length>5?Ub.toast.show("新增若干版块"):n.length>0?Ub.toast.show("新增版块："+n.join(", ")):"",n.length>0&&B()}}},c=Tb.api.luwei;Wb.get(c,{appid:Tb.api.appid},{responseType:"json",timeout:3e4}).then(function(a){b(a,this)})["catch"](function(a){console.error(a);var c=Tb.api.luwei2;c&&Wb.get(c,{appid:Tb.api.appid},{responseType:"json",timeout:3e4}).then(function(a){b(a)})})}function h(){!Vb.isAppstoreReview&&Wb.get(Tb.api.notification,null,{responseType:"json"}).then(function(a){a.enable&&window.LocalStorage.getItem("notification").then(function(b){b=b||0,a.date<=parseInt(b,10)||(Ub.Dialog.show("通知",a.content,[{label:"好的",id:"btn-ok"}],!1),nc("dialog").onclick=function(b){var c=b.target,d=c.tagName.toLowerCase();if("a"==d){var e=c.href;e.indexOf("h.nimingban.com")>-1||e.indexOf("adnmb.com")>-1||e.indexOf("adnmb1.com")>-1||e.indexOf("adnmb2.com")>-1||e.indexOf("tnmb.org")>-1?(b.preventDefault(),Ub.Dialog.hide(),ub(c,"_system")):e.indexOf("mailto:")<0&&(b.preventDefault(),ub(c,"_system"))}else"button"==d&&(Ub.Dialog.hide(),window.LocalStorage.setItem("notification",a.date))})})})}function i(){var b=(new Date).valueOf();Vb.lastBackupTime=Vb.lastBackupTime||0,b>Vb.lastBackupTime+864e5&&(a.firstRunGuide.isFirstRun?a.ImportExport.importData(function(a,c){Vb.lastBackupTime=b,window.LocalStorage.setItem("config",JSON.stringify(Vb)),console.log("huanyuan")}):a.ImportExport.exportData(null,function(){console.log("beifen"),Vb.lastBackupTime=b,window.LocalStorage.setItem("config",JSON.stringify(Vb))}),a.firstRunGuide.isFirstRun=!1,window.LocalStorage.setItem("firstRun",JSON.stringify(a.firstRunGuide)))}function j(){if("android"==Ub.device.platform){if(Ub.device.version>=44)return;var a=window.innerHeight;[].slice.call(ac.querySelectorAll(".scrollable")).forEach(function(b){b.style.height=a-56+"px"}),ac.querySelector("#gallery-section .scrollable").style.height="100%",ac.querySelector("#thread-section .content").style.height=a-55+"px"}}function k(){if(j(),bc.classList.add(Ub.device.platform),bc.classList.add(Ub.device.platform+Ub.device.version),a.windowWidth=window.innerWidth,a.windowHeight=window.innerHeight,a.windowWidth>=960){if(a.view="responsive",bc.classList.add("responsive"),nc("thread-section").style.display="block","android"==Ub.device.platform&&Ub.device.version<44)return;a.view="tablet",bc.classList.add("tablet"),a.windowWidth>=1366&&(a.view="desktop",bc.classList.add("desktop"),a.galleryMode="desktop")}else{a.view="",a.galleryMode="mobile",bc.classList.remove("responsive"),bc.classList.remove("tablet"),bc.classList.remove("desktop");var b=nc("thread-section").getAttribute("data-position");b&&"right"!=b||(nc("thread-section").style.display="none")}qc.exit(["thread-tabbar-section","edit-section"]),rb()}function l(){"ios"===Ub.device.platform&&setInterval(function(){window.cordova&&cordova.plugins&&cordova.plugins.Keyboard&&!cordova.plugins.Keyboard.isVisible&&(a.OPListSectionHeight="ios"==Ub.device.platform&&document.querySelector("#oplist-section .content").clientHeight)},1e3)}function m(){function a(){Pb(ec?0:5e3).then(w).then(function(){Pb(1500).then(x)})}return Tb.api.getBackupUrl?E().then(a,a).then(D):(a(),D())}function n(b){nc("oplist-section").setAttribute("data-forum-id",Vb.homepage);var c=["search-section","reorder-section","reorder-timeline-section","tabbar-reorder-section","setting-section","importExport-section","cookie-section","download-section","sketch-section","edit-section","game-section","dialog","admin-section"];b=b||location.search.toLowerCase();var d=function(a){console.error(a),Ub.Dialog.show("初始化失败","选择忽略可能会影响看图和发言"+(a&&"string"==typeof a?"<br>"+a:""),[{label:"忽略",id:"btn-cancel",className:"left"},{label:"重试",id:"btn-ok"}]),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),e=b.id;if("button"==c)if(Ub.Dialog.hide(),"btn-ok"==e){var f=nc("oplist-section").querySelector(".content");Nb(0,f,Qb(f,"正在初始化，请稍等"),f.firstChild),m().then(function(){ca(Vb.homepage)},d)["catch"](d)}else ca(Vb.homepage)}};switch(!0){case b.indexOf("compose")>-1:Jb("blank"),Ga(null,null,Vb.homepage);break;case b.indexOf("camera")>-1:Jb("blank"),Ga(null,null,Vb.homepage,{camera:!0});break;case b.indexOf("search")>-1:!a.view&&c.push("reply-section","thread-section"),qc.exit(c,"search-section"),Jb("blank"),xa();break;case b.indexOf("view")>-1:!a.view&&c.push("reply-section","thread-section"),qc.exit(c),nc("oplist-section").setAttribute("data-source","local-downloaded"),Jb("favor");break;default:var e=nc("oplist-section").querySelector(".content");Nb(0,e,Qb(e,"正在初始化，请稍等"),e.firstChild),Xb.init().then(m).then(function(){ca(Vb.homepage)},d)["catch"](d)}var f=bc.classList.contains("tablet"),g=nc("left-drawer").getAttribute("data-position");(!f||f&&"current"==g)&&qc.exit("left-drawer")}function o(){window.LocalStorage.getItem("config").then(function(b){if(b?(a.Config=JSON.parse(b),Vb=a.Config):window.LocalStorage.setItem("config",JSON.stringify(a.Config)),Vb.enableTabBar&&"ios"==Ub.device.platform&&bc.classList.add("ios-tabbar-enabled"),Vb.site=Vb.site||"hacfun",Vb.homepage=Vb.homepage||-1,Vb.showSage=!Vb.isAppstoreReview,Vb.imglessMode=Vb.imglessMode===!0?0:Vb.imglessMode===!1?1:Vb.imglessMode,Vb.sensitivity=6,Vb.enableFullScreen=Vb.enableFullScreen||!1,Vb.nightMode?bc.classList.add("night-mode"):bc.classList.remove("night-mode"),1!=Vb.theme&&2!=Vb.theme&&(Vb.theme=0),gc=!0,Ub.dispatch(document,"configReady"),window.matchMedia){var c=matchMedia("(prefers-color-scheme: dark)");"not all"!==c.media&&(c.addListener(p),p(c))}s(),z(),q()})}function p(a){1!=Vb.theme&&2!=Vb.theme&&"not all"!==a.media&&(a.matches&&!Vb.nightMode?(bc.classList.add("night-mode"),Vb.nightMode=!0,window.LocalStorage.setItem("config",JSON.stringify(Vb)),s()):!a.matches&&Vb.nightMode&&(bc.classList.remove("night-mode"),Vb.nightMode=!1,window.LocalStorage.setItem("config",JSON.stringify(Vb)),s()))}function q(){var b=Vb.site||"hacfun";a.Current=a.Nimingban[b],a.ForumList=Vb.isAppstoreReview&&"hacfun"==b?a.AppReview.forumlist:a.Current.forumlist,a.FrequentlyVisited=Vb.isAppstoreReview&&"hacfun"==b?a.AppReview.frequentlyVisited:a.Current.frequentlyVisited,a.LoadingText=Vb.isAppstoreReview?a.AppReview.loadingText:a.Common.loadingText,window.LocalStorage.getItem("cookieV2").then(function(b){a.CookieCollection=JSON.parse(b)||[]}),window.LocalStorage.getItem("timeline"+b).then(function(b){JSON.parse(b)?a.Timeline=JSON.parse(b):(a.Timeline=JSON.parse(JSON.stringify(a.ForumList)),a.Timeline.forEach(function(a){(96==a.id||89==a.id||"hacfun"==Vb.site&&18==a.id)&&(a.order=0)}))}),a.Reportid="hacfun"==b?18:5,Tb=a.Current,ac.querySelector(".btn-select-site").textContent=Tb.api.title,[].slice.call(ac.querySelectorAll(".title .site-name")).forEach(function(a){a.textContent=Tb.api.titleShort+" · "+Tb.api.staticDomainShort}),wb(["oplist","thread"]),r(),window.LocalStorage.getItem("migrateState").then(function(b){a.MigrateState=JSON.parse(b)||{state:!1,count:0};var c=JSON.parse(localStorage.getItem("migrateState"))||{state:!1,count:0};"true"===String(c.state)&&(a.MigrateState.state=!0),t()})}function r(){var b=a.Current.api.host;for(var c in a.Current.api.core)a.Current.api[c]=Array.isArray(a.Current.api.core[c])?a.Current.api.core[c]:b+"/"+a.Current.api.core[c];for(var c in a.Current.api.admin){var d="hacfun"==Vb.site?"http://localhost":b;a.Current.api[c]=Array.isArray(a.Current.api.admin[c])?a.Current.api.admin[c]:d+"/"+a.Current.api.admin[c]}a.Current.api.getBackupUrl&&(a.Current.api.getBackupUrl=a.Current.api.staticHost+"/"+a.Current.api.core.getBackupUrl,a.Current.api.quote="https://adnmb.com/"+a.Current.api.core.quote),Tb=a.Current}function s(){if(window.StatusBar)if(Vb.nightMode){StatusBar.styleLightContent(),StatusBar.backgroundColorByHexString("#000000");try{}catch(a){}}else{"ios"==Ub.device.platform&&StatusBar.styleDefault(),StatusBar.backgroundColorByHexString("#009688");try{}catch(a){}}}function t(){if(console.log(a.MigrateState),"true"===String(a.MigrateState.state)||parseInt(a.MigrateState.count,10)>=2||!window.sqlitePlugin)return a.Storage="sqlitePlugin"in window?a.Sqlite:a.WebSql,$b=a.Storage,void $b.open().then(function(){u()},function(a){console.error(a)});var b=function(){return console.log("CommentAndFavor start"),a.WebSql.getItem({where:{mode:["favor","comment"]}}).then(function(b){return a.Sqlite.putItem(b).then(function(){console.log("CommentAndFavor: ",b.length)})},function(a){console.error(a),navigator.notification.alert("migration c error")})},c=function(){console.log("ReadPosition start"),a.WebSql.getItem({where:{like:{data:"ReadPosition"}}}).then(function(b){b=b||[],b.forEach(function(b){b.data=b.data||[],b.mode="ReadPosition",a.Sqlite.putItem([b]).then(function(){console.log("ReadPosition: "+b.site,b)})})}),console.log("sketchpad start"),a.WebSql.getItem({where:{uniqueid:"sketchpad"}}).then(function(b){b=b.length>0&&b[0].data||[],a.Sqlite.putItem([{uniqueid:"sketchpad",data:b,site:a.Config.site,mode:"sketchpad"}]).then(function(){console.log("sketchpad: ",b)})}),console.log("downloadList start"),a.WebSql.getItem({where:{mode:"downloadList"}}).then(function(b){b=b||[],b.forEach(function(b){b.data=b.data||[],b.mode="downloadList",a.Sqlite.putItem([b]).then(function(){console.log("downloadList: "+b.site,b)})})})};a.MigrateState.count=parseInt(a.MigrateState.count,10)+1,window.LocalStorage.setItem("migrateState",JSON.stringify(a.MigrateState)),console.log("start"),a.Sqlite.open().then(function(){a.WebSql.open().then(function(){b().then(function(){a.Storage=a.Sqlite,$b=a.Storage,a.MigrateState.state=!0,window.LocalStorage.setItem("migrateState",JSON.stringify(a.MigrateState)),u()},function(a){console.error(a),u()}),c()},function(a){console.error(a),navigator.notification.alert("open database error")})},function(b){a.WebSql.open().then(function(){u()},function(a){navigator.notification.alert("openDatabase error"),console.error(a)})})}function u(){a.IsDatabaseReady=!0,n(),B(),window.LocalStorage.getItem("forumList"+Vb.site).then(function(b){b?(a.ForumList=JSON.parse(b)||a.ForumList,B()):$b.getItem({where:{uniqueid:"forumList"+Vb.site}}).then(function(b){a.ForumList=b.length>0&&b[0].data||a.ForumList,window.LocalStorage.setItem("forumList"+Vb.site,JSON.stringify(a.ForumList)),B()})}),window.LocalStorage.getItem("frequentlyVisited"+Vb.site).then(function(b){b?(a.FrequentlyVisited=JSON.parse(b)||a.FrequentlyVisited,B()):$b.getItem({where:{uniqueid:"frequentlyVisited"+Vb.site}}).then(function(b){a.FrequentlyVisited=b.length>0&&b[0].data||a.FrequentlyVisited,window.LocalStorage.setItem("frequentlyVisited"+Vb.site,JSON.stringify(a.FrequentlyVisited)),B()})}),$b.getItem({where:{uniqueid:"downloadList"+Vb.site}}).then(function(b){a.DownloadList=b.length>0&&b[0].data||a.DownloadList;

}),$b.getItem({where:{uniqueid:"tabbar"+Vb.site}}).then(function(b){a.tabbarList=b.length>0&&b[0].data||a.Common.tabbarList,C()}),$b.getItem({where:{uniqueid:"cookieV2"}}).then(function(b){if(!(a.CookieCollection.length>0)){var c=b.length>0&&b[0].data||[];0===c.length?$b.getItem({where:{uniqueid:"cookie"}}).then(function(b){b=b.length>0&&b[0].data||[];var c=[];b.forEach(function(a){"beitai"===a.site&&a.userhash&&(a.isAdmin=!1,a.isActive=!1,c.push(a))}),c[0]&&(c[0].isActive=!0),a.CookieCollection=c,pc.update()}):(a.CookieCollection=c,pc.update())}}),$b.getItem({where:{uniqueid:"ReadPosition"+a.Config.site}}).then(function(a){lc=a.length>0&&a[0].data||lc}),$b.getItem({where:{uniqueid:"sketchpad"}}).then(function(b){a.SketchpadHistory=b.length>0&&b[0].data||[]})}function v(){ThreeDeeTouch.configureQuickActions([{type:"compose",title:"发串",iconType:"Compose"},{type:"camera",title:"岛摄",iconType:"CapturePhoto"},{type:"search",title:"搜索",iconType:"Search"},{type:"view",title:"浏览已下载串",iconType:"Favorite"}]),ThreeDeeTouch.onHomeIconPressed=function(a){n(a.type)}}function w(){return Yb.getItem(a.Nimingban.hacfun.cookieKey,a.Nimingban.hacfun.api.host).then(function(a){a&&pc.put({name:Gb(a),userhash:a,isActive:!0,isAdmin:!1,site:"hacfun"})&&pc.setActive(a)}).then(function(){return Yb.getItem(a.Nimingban.hacfun.cookieKey,"http://localhost").then(function(b){var c=a.CookieCollection.filter(function(a){return"hacfun"==a.site&&a.isActive&&!a.isAdmin})[0];c||b&&pc.put({name:Gb(b),userhash:b,isActive:!0,isAdmin:!1,site:"hacfun"})&&pc.setActive(b)})}).then(function(){return Yb.getItem(a.Nimingban.beitai.cookieKey,a.Nimingban.beitai.api.host).then(function(a){a&&pc.put({name:Gb(a),userhash:a,isActive:!0,isAdmin:!1,site:"beitai"})&&pc.setActive(a)})}).then(function(){return Yb.getItem("admin","http://localhost").then(function(a){a&&"deleted"!=a?pc.put({name:Gb(a),userhash:a,isActive:!1,isAdmin:!0,site:"hacfun"}):pc.remove(a)})}).then(function(){return Yb.getItem("admin",a.Nimingban.beitai.api.host).then(function(a){a&&"deleted"!=a?pc.put({name:Gb(a),userhash:a,isActive:!1,isAdmin:!0,site:"beitai"}):pc.remove(a)})}).then(function(){return Yb.getItem("memberUserspapapa",a.Nimingban.hacfun.api.host).then(function(a){a&&"deleted"!=a?pc.put({name:Gb(a),userhash:a,isActive:!1,isAdmin:!1,site:"member"}):pc.remove(a)})}).then(function(){return Yb.getItem("memberUserspapapa","http://localhost").then(function(b){var c=a.CookieCollection.filter(function(a){return"member"==a.site})[0];c||(b&&"deleted"!=b?pc.put({name:Gb(b),userhash:b,isActive:!1,isAdmin:!1,site:"member"}):pc.remove(b))})})}function x(){Yb.clearAll(),a.CookieCollection=a.CookieCollection||[];var b=a.CookieCollection.filter(function(a){return"hacfun"==a.site&&a.isActive&&!a.isAdmin})[0],c=a.CookieCollection.filter(function(a){return"beitai"==a.site&&a.isActive&&!a.isAdmin})[0],d=a.CookieCollection.filter(function(a){return"hacfun"==a.site&&a.isAdmin})[0],e=a.CookieCollection.filter(function(a){return"beitai"==a.site&&a.isAdmin})[0],f=a.CookieCollection.filter(function(a){return"member"==a.site})[0];b=b&&b.userhash||"",c=c&&c.userhash||"",d=d&&d.userhash||"",e=e&&e.userhash||"",f=f&&f.userhash||"";var g=[];return b&&(g.push(Yb.setItem(b,a.Nimingban.hacfun.cookieKey,a.Nimingban.hacfun.api.host,a.Nimingban.hacfun.api.domain)),g.push(Yb.setItem(b,a.Nimingban.hacfun.cookieKey,"http://localhost","adnmb2.com")),a.RedirectHost&&a.RedirectDomain&&g.push(Yb.setItem(b,a.Nimingban.hacfun.cookieKey,a.RedirectHost,a.RedirectDomain))),c&&g.push(Yb.setItem(c,a.Nimingban.beitai.cookieKey,a.Nimingban.beitai.api.host,a.Nimingban.beitai.api.domain)),d&&g.push(Yb.setItem(d,"admin","http://localhost","adnmb2.com")),e&&g.push(Yb.setItem(e,"admin",a.Nimingban.beitai.api.host,a.Nimingban.beitai.api.domain)),f&&(g.push(Yb.setItem(f,"memberUserspapapa",a.Nimingban.hacfun.api.host,a.Nimingban.hacfun.api.domain)),g.push(Yb.setItem(f,"memberUserspapapa","http://localhost","adnmb2.com"))),Promise.all(g)}function y(){var b=a.Common.emoji||{},c=JSON.parse(localStorage.getItem("emojiUsage"))||{},d="";d+="<ul>";for(var e in c)d+="<li><a href='#' num='"+e+"'>"+b[e]+"</a></li>";for(var e in b)c[e]||(d+="<li><a href='#' num='"+e+"'>"+b[e]+"</a></li>");d+="</ul>",nc("emoji-container").innerHTML=d}function z(){Vb.appFontSize=parseFloat(Vb.appFontSize||60),Vb.appFontSize=50==Vb.appFontSize?54:[70,80,90,100].indexOf(Vb.appFontSize)>-1?69:Vb.appFontSize,Vb.appLineHeight=parseFloat(Vb.appLineHeight||1.5),Vb.appLetterSpacing=parseFloat(Vb.appLetterSpacing||.03);var a=nc("user-style");a||(a=document.createElement("style"),a.id="user-style",bc.appendChild(a));var b=2*Vb.appLineHeight,c=".comment-content{ line-height:"+Vb.appLineHeight+";} .quote-area .comment-content{ max-height:"+(b+.1)+"em;max-height:-webkit-calc("+b+"em + 0px);max-height:calc("+b+"em + 0px);}",d=".comment-content{ letter-spacing:"+Vb.appLetterSpacing+"em;} .quote-area .comment-content{ letter-spacing:"+Vb.appLetterSpacing/3+"em;}";a.innerHTML=c+d,ac.documentElement.style.fontSize=Vb.appFontSize+"%",window.LocalStorage.setItem("config",JSON.stringify(Vb))}function A(){var b=window.URL||window.webkitURL,c=dataURLtoBlob("data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=");a.BlankURL=b.createObjectURL(c)}function B(){var b=nc("left-drawer"),c=b.querySelector(".my-forum-list"),d=b.querySelector(".my-thread-list");if(Ob(c),Ob(d),[{data:a.ForumList,type:"forum"},{data:a.FrequentlyVisited,type:"thread"}].forEach(function(a){var b=[],e=[],f=a.type,g=a.data,h=ac.createDocumentFragment();g.forEach(function(a){a.order?b.push(a):e.push(a)}),b.sort(function(a,b){return a.order-b.order}),b=0==b.length&&"forum"==f?e:b,b.forEach(function(a){var b=ac.createElement("li"),c=a.showName||a.name,d=c.slice(0,1),e=c.slice(1);b.innerHTML='<a href="#" '+("forum"==f?"data-forum-id":"data-thread-id")+'="'+a.id+'"><span>'+d+"</span><span>"+e+"</span></a>",h.appendChild(b)}),"forum"==f?c.appendChild(h):d.appendChild(h)}),"android"==Ub.device.platform&&Ub.device.version<44||!Ub.device.platform){var e=ac.createElement("li");e.innerHTML='<a href="#"></a>',d.appendChild(e)}}function C(){var b=nc("thread-tabbar-section").querySelector("ul"),c=a.tabbarList;Ob(b);var d=[],e=[],f=ac.createDocumentFragment();c.forEach(function(a){a.order?d.push(a):e.push(a)}),d.sort(function(a,b){return a.order-b.order}),0===d.length?(Vb.enableTabBar=!1,window.LocalStorage.setItem("config",JSON.stringify(Vb)),"ios"==Ub.device.platform&&(Vb.enableTabBar?bc.classList.add("ios-tabbar-enabled"):bc.classList.remove("ios-tabbar-enabled"))):(Vb.enableTabBar=!0,window.LocalStorage.setItem("config",JSON.stringify(Vb)));var g=d.length>0?100/d.length:0;d.forEach(function(a){var b=ac.createElement("li"),c=a.showName||a.name,d=(c.slice(0,1),c.slice(1),"");d+='<button type="button"',d+=' data-action="'+a.action+'"',d+="navigate"===a.action?' id="btn-tabbar-navigate" class="btn-navigate" data-current-page="1"':' class="icon '+(a.icon?a.icon:"")+'"',d+="></button>",b.style.width=g+"%",b.innerHTML=d,f.appendChild(b)}),b.appendChild(f)}function D(){var b=function(b){b=Array.isArray(b)?b:[],localStorage.setItem("cdn",JSON.stringify(b)),b.sort(function(a,b){return b.rate-a.rate}),b=b.map(function(a){return a.url=a.url||"",a.url?(a.url.indexOf("http")<0&&a.url.indexOf("https")<0&&(a.url=Tb.api.host+a.url),"/"===a.url.slice(a.url.length-1)&&(a.url=a.url.slice(0,a.url.length-1)),a.url):""}).concat(Tb.api.cdn).filter(function(a,b,c){return a&&c.indexOf(a)===b}),a.Current.api.cdn=b,Tb.api.cdn=b,fc||(fc=!0,Ub.dispatch(document,"cdnReady"))};return new Promise(function(a,c){var d=JSON.parse(localStorage.getItem("cdn"))||[];d.length>0&&(b(d),a()),Wb.get(Tb.api.getCdnPath,{appid:Tb.api.appid},{responseType:"json",timeout:2e4}).then(function(c){b(c),d.length<=0&&a()})["catch"](function(){c("错误URL: "+Tb.api.getCdnPath)})})}function E(){var b=function(b){var c=document.createElement("a");c.href=b,a.Current.api.host=b,a.Current.api.domain=c.hostname,r()};return console.log("getBackupUrl"),new Promise(function(c,d){console.log("getBackupUrl start:",Tb.api.getBackupUrl),Wb.get(Tb.api.getBackupUrl,{appid:Tb.api.appid},{responseType:"json",timeout:3e4}).then(function(d){console.log("getBackupUrl end successfullly"),d=d||[];var e=Array.isArray(d)&&d[0]||a.Current.api.host;e=e.replace(/ /g,"").replace(/\\/g,""),b(e),Db(this.responseURL||"",Tb.api.getBackupUrl),c()})["catch"](function(){var c=this.responseURL||"";console.log("getBackupUrl end failed:",c,a.Current.api.host),Db(c,Tb.api.getBackupUrl),b(c||a.Current.api.host),d()})})}function F(){var a=nc("oplist-section"),b=nc("thread-section"),c=a.querySelector(".scrollable"),d=b.querySelector(".scrollable");FastClick.attach(document.body),"ontouchstart"in window&&(Ub.addEventListener(c,"touchstart touchmove touchend touchleave touchcancel",H),Ub.addEventListener(d,"touchstart touchmove touchend touchleave touchcancel",H)),"onwheel"in document&&(Ub.addEventListener(c,"wheel",G),Ub.addEventListener(d,"wheel",G)),Ub.addEventListener(c,"scroll",G),Ub.addEventListener(d,"scroll",G),Ub.addEventListener(a,"click",M),Ub.addEventListener(b,"click",N),Ub.addEventListener(nc("left-drawer"),"click",K),Ub.addEventListener(nc("thread-tabbar-section"),"click",O),Ub.addEventListener(nc("toTop-fab"),"click",L),Ub.addEventListener(window,"resize",k),Ub.addEventListener(window,"statusTap",L),Ub.addEventListener(nc("dialog"),"show",function(){qc.push("dialog")}),Ub.addEventListener(nc("dialog"),"hide",function(){qc.pop("dialog")}),[].slice.call(ac.querySelectorAll("[data-swipe-back] .scrollable")).forEach(function(a){Ub.addEventListener(a,"touchstart touchmove touchend touchcancel",H)}),k()}function G(b){var c=b.currentTarget,d=(c.classList,b.type);"scroll"==d?(clearTimeout(window.scrollTimer),window.scrollTimer=setTimeout(function(){if(hc){var d=c.scrollTop;mc.pullToRefreshState=-50>d?"pulling":"",nc("toTop-fab").style.display=!a.view&&d>1e4?"block":"none",J(c,Bb(c,{wheelOffsetY:b.deltaY}))}},"ios"==Ub.device.platform?30:150)):"wheel"==d&&J(c,Bb(c,{wheelOffsetY:b.deltaY}))}function H(b){var c=b.currentTarget,d=c.classList,e=b.type;if("touchstart"==e){var f=b.changedTouches[0],g=Date.now(),h=g-(mc.startTime||g);mc.startTouch={pageX:f.pageX,pageY:f.pageY},mc.startTime=g,mc.action="",1==b.touches.length&&"thread"==mc.lastTouch&&h>50&&250>h&&(mc.action="dbltap",clearTimeout(mc.threadTabbarTapTimer),ac.querySelector("#thread-section .tabbar").setAttribute("data-cancelled",!0)),clearTimeout(mc.pressTimer),mc.pressTimer=setTimeout(function(){b.preventDefault(),b.stopPropagation(),(d.contains("oplist")||d.contains("thread"))&&(d.contains("edit-mode")||ia(b))},"android"==Ub.device.platform&&Ub.device.version<42?350:500)}else if("touchmove"==e){var f=b.changedTouches[0],i=mc.startTouch,j=f.pageX-i.pageX,k=f.pageY-i.pageY;if(clearTimeout(mc.pressTimer),Math.abs(j)>=7||Math.abs(k)>=7){var l=Cb(i,f);("left"==l||"right"==l)&&b.preventDefault(),I(b)}}else if("touchend"==e||"touchcancel"==e||"touchleave"==e){clearTimeout(mc.pressTimer),mc.lastTouch=d.contains("thread")?"thread":"oplist";var f=b.changedTouches[0];if(Vb.enableFullScreen&&"dbltap"==mc.action&&d.contains("thread")){var m=f.pageY-(mc.endTouch&&mc.endTouch.pageY?mc.endTouch.pageY:0),n=f.pageX-(mc.endTouch&&mc.endTouch.pageX?mc.endTouch.pageX:0);Math.abs(n)<=5&&Math.abs(m)<=5&&(a.isFullScreen?(a.isFullScreen=!1,Ub.exitFullScreen()):(a.isFullScreen=!0,Ub.enterFullScreen(),"android"==Ub.device.platform&&Ub.toast.show("双击退出全屏")))}if("pulling"==mc.pullToRefreshState){console.log("pulling"),mc.pullToRefreshState="";var o=d.contains("oplist"),p=d.contains("thread");if(o&&ic||p&&jc)console.log("scroll returned");else{var q=mc.cachedFragment||Ub.findParent(c,".fragment"),r=Ab(q);if(1==r.firstPage){var s=q.getAttribute("data-section-id");Jb(s,1,!0)}}}mc.cachedFragment="",mc.endTouch={pageX:f.pageX,pageY:f.pageY}}}function I(a){var b=a.currentTarget;clearTimeout(mc.touchTimer),mc.touchTimer=setTimeout(function(){clearTimeout(mc.touchTimer);var c=b.classList,d=a.changedTouches[0],e=mc.startTouch,f=d.pageX-e.pageX,g=d.pageY-e.pageY,h=Date.now()-mc.startTime,i=10*Math.abs(f)/h,j=Cb(e,d);switch(clearTimeout(mc.pressTimer),mc.pressTimer=null,j){case"left":if(c.contains("thread")){var k=nc("thread-section").classList.contains("edit-mode");if(k)return;0>f&&Math.abs(f)>=100&&i>=Vb.sensitivity&&Ga(nc("thread-section").getAttribute("data-thread-id"),null,null)}else if((c.contains("oplist")||c.contains("body"))&&0>f&&Math.abs(f)>=10){var k=nc("oplist-section").classList.contains("edit-mode");if(k)return;"current"==nc("left-drawer").getAttribute("data-position")&&i>=Vb.sensitivity/2?ob():Math.abs(f)>=100&&i>=Vb.sensitivity&&20>i&&Jb(nc("oplist-section").getAttribute("data-section-id"))}break;case"right":if(c.contains("oplist")){var k=nc("oplist-section").classList.contains("edit-mode");if(k)return;f>0&&Math.abs(f)>=50&&i>=Vb.sensitivity/2&&ob()}else if(f>0&&Math.abs(f)>=100&&i>=Vb.sensitivity&&20>i){var k=nc("thread-section").classList.contains("edit-mode");if(k)return;var l=Ub.findParent(b,".fragment");l&&qc.exit(l.id)}break;case"up":if("ios"!=Ub.device.platform){var l=Ub.findParent(b,".fragment");pb(l,"bottom")}Math.abs(g)>=10&&i>=Vb.sensitivity/8&&J(b,Bb(b,{touchOffsetY:g}));break;case"down":if("ios"!=Ub.device.platform){var l=Ub.findParent(b,".fragment");pb(l,"current")}Math.abs(g)>=10&&b.scrollTop<=0&&J(b,Bb(b,{touchOffsetY:g}))}},25)}function J(a,b){var c=a.querySelectorAll("[data-page-no]"),d=c.length;if(d>=10&&a.querySelectorAll(".comment").length>200){for(var e=[].slice.call(c),f=window.innerHeight,g=0,h=0,i=0;d>i;i++){var j=e[i],k=j.getBoundingClientRect(),l=k.top>=0&&k.top<f||k.bottom>0&&k.bottom<k.height;if(l){g=0>=i-2?0:i-2,h=i+2>=d?d-1:i+2;break}}for(var i=0;d>i;i++){var j=e[i],m=j.querySelector(".list-wrapper"),n=j.classList;i>=g&&h>=i?n.contains("off-screen")&&(n.remove("off-screen"),j.style.height="auto"):n.contains("off-screen")||(j.style.height=m.offsetHeight+"px",n.add("off-screen"))}}if(b){var n=a.classList;if(!n.contains("body")){var o=n.contains("oplist"),p=n.contains("thread");if(o&&ic||p&&jc)return void console.log("scroll returned");var q=Ub.findParent(a,".fragment"),r=q.getAttribute("data-thread-id")||q.getAttribute("data-forum-id");if(r&&parseInt(q.getAttribute("data-total-page"),10)){var s=q.getAttribute("data-section-id");if("up"==b||"left"==b){var t=Ab(q),d=t.totalPage,u=t.lastPage+1,v=a.querySelector(".content"),w=2;if(u>d){var x=v.lastChild,y=Rb(x,"已是最后一页"+("thread"==s?"，点击刷新":""),function(a){"thread"==s&&Jb("thread","last")});Nb(w,x,y,v.firstChild)}else switch(s){case"op":ca(r,u,w);break;case"thread":da(r,u,w);break;case"favor":aa(u,w);break;case"comment":_(u,w);break;case"history":$(u,w);break;case"local-thread":ea(r,u,w);break;case"search":ga({pageNo:u},w)}}else if("down"==b||"right"==b){var t=Ab(q),z=t.firstPage,A=z-1,w=1;if(1>A)return;switch(s){case"op":ca(r,A,w);break;case"thread":da(r,A,w);break;case"favor":aa(A,w);break;case"comment":_(A,w);break;case"history":$(A,w);break;case"local-thread":ea(r,A,w);break;case"search":ga({pageNo:A},w)}}}}}}function K(b){b.preventDefault(),b.stopPropagation();var c=b.target,d=c.classList,e=c.tagName.toLowerCase(),f=["search-section","reorder-section","reorder-timeline-section","tabbar-reorder-section","setting-section","importExport-section","cookie-section","download-section","edit-section","game-section","admin-section","font-section","iframe-section"],g=function(){var a=bc.classList.contains("tablet"),b=nc("left-drawer").getAttribute("data-position");(!a||a&&"current"==b)&&qc.exit("left-drawer")};if("a"==e||(c=Ub.findParent(c,"a"))&&c){!a.View&&f.push("thread-section","reply-section","sketch-section","gallery-section","preview-thread-section");var h=function(){if(c.getAttribute("data-forum-id"))qc.exit(f),nc("oplist-section").setAttribute("data-forum-id",c.getAttribute("data-forum-id")),Jb("op");else if(c.getAttribute("data-thread-id")){var a=c.getAttribute("data-thread-id"),e=zb(a);qa(),da(a,e)}else d.contains("btn-setting")?(qc.exit(f,"setting-section"),za()):d.contains("btn-function")?na(b):d.contains("btn-favor")?(qc.exit(f),nc("oplist-section").setAttribute("data-source","server"),Jb("favor")):d.contains("btn-comment")?(qc.exit(f),Jb("comment")):d.contains("btn-edit-forum")?(qc.exit(f,"reorder-section"),Ca("forum")):d.contains("btn-edit-thread")&&(qc.exit(f,"reorder-section"),Ca("thread"))};g(),Pb(300).then(h)}else if(d.contains("title")){if(a.Common.game&&a.Common.game.length>0){g(),qc.exit(f,"game-section");var i=Math.floor(Math.random()*a.Common.game.length);Pb(300).then(function(){Na(a.Common.game[i].src)})}}else if(d.contains("btn-select-site")){if(Vb.isAppstoreReview)return;for(var j=Object.keys(a.Nimingban),k=[],l=0;l<j.length;l++)k.push({label:a.Nimingban[j[l]].api.title,id:j[l]});Ub.Dialog.show("请选择",k),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;"button"==c&&(Ub.Dialog.hide(),d&&d==Vb.site||(Vb.site=d,window.LocalStorage.setItem("config",JSON.stringify(Vb)),Vb.homepage=Vb.isAppstoreReview&&"hacfun"==d?11:Vb.homepage,qc.exit(["thread-section","reply-section","sketch-section","preview-thread-section"]),q()))}}nc("toTop-fab").style.display="none"}function L(a,b){a&&(a.preventDefault(),a.stopPropagation()),b=b||nc("current"==nc("thread-section").getAttribute("data-position")?"thread-section":"oplist-section");var c=b.querySelector(".scrollable");c.style.overflowY="hidden",c.scrollTop=1,Pb(50).then(function(){c.style.overflowY="auto",c.scrollTop=0}),nc("toTop-fab").style.display="none"}function M(b){if(b.preventDefault(),b.stopPropagation(),"current"==nc("left-drawer").getAttribute("data-position"))return void ob();var c=nc("oplist-section").getAttribute("data-section-id");if(c){var d=b.target,e=d.tagName.toLowerCase(),f=d.classList;if(f.contains("btn-drawer"))ob();else if(f.contains("btn-search"))oc.forum="favor"==c||"comment"==c?"local":oc.forum,xa();else if(f.contains("btn-show-more-oplist-option"))ka(b);else if(f.contains("btn-show-more-comment-option")||"desktop"==a.view&&f.contains("rid"))ia(b);else if(f.contains("btn-show-more-favor-option"))la(b);else if(f.contains("btn-navigate"))oa(b,nc("oplist-section"));else if(f.contains("btn-edit"))Ka();else if(f.contains("btn-upvote")||f.contains("btn-downvote"))P(b);else if("img"==e||f.contains("comment-image")){if(f.contains("comment-image")){var g=d.querySelectorAll("img");if(d=g[0],g.length>1&&[].slice.call(g).forEach(function(a){"none"!=a.style.display&&(d=a)}),!d)return;f=d.classList}if(f.contains("image-click-to-load")||f.contains("image-error")){Ub.reloadImage(d);var h=Ub.findParent(d,".comment-image");h&&h.classList.remove("no-image")}else if(d.nextSibling&&"img"==d.nextSibling.tagName.toLowerCase()){var i=parseInt(d.getAttribute("data-duration"),10)||0;i=4e3>i?3*i:8e3>i?2*i:i;var j=d.nextSibling;j.style.display="block",d.style.display="none";var k="timer"+(new Date).valueOf();window[k]=setTimeout(function(){console.log("cleared:"+window[k]),clearTimeout(window[k]),d&&(d.style.display="block"),j&&j.parentNode&&j.parentNode.removeChild(j)},i)}else{var l=Ub.findParent(d,".comment"),m=l.getAttribute("data-thread-id"),n=nc("thread-section");if(a.view||(n.setAttribute("data-thread-id",m),n.setAttribute("data-total-page",1),n.setAttribute("data-current-page",1)),d.getAttribute("local-src")){var o=l.getAttribute("data-state"),p=d.getAttribute("local-src"),q="hacfun"==Vb.site?"t":Vb.site.charAt(0);"downloaded"==o?Ja(p,{firstPage:1,continuous:!0,dataFolder:a.StorageFolderPath+"/favor/threads/"+q+m}):Ja(p,{firstPage:1})}else d.getAttribute("full-size-src")&&Ja(d.getAttribute("full-size-src"),{firstPage:1})}}else if(f.contains("title")&&"h1"==e||f.contains("site-name")||f.contains("forum-name")||f.contains("icon-refresh"))Jb(c),nc("toTop-fab").style.display="none";else if(f.contains("icon-visibility"));else if(f.contains("icon-compose")){var r=nc("oplist-section").getAttribute("data-forum-id");Ga(null,null,r)}else if(f.contains("error-area"));else if(f.contains("external-link")||f.contains("comment")||(d=Ub.findParent(d,".comment"))&&d){if(f.contains("external-link")&&d.href.indexOf("adnmb.com/Member")>-1)return void ub(d);f=d.classList;var m=d.getAttribute("data-thread-id"),s=nc("oplist-section").classList.contains("edit-mode");if(s)return void d.classList.toggle("selected");var t=zb(m);if("comment"==c){var o=d.getAttribute("data-state"),u=d.getAttribute("data-uniqueid"),v=d.getAttribute("data-reply-page")||1,w=d.getAttribute("data-fid");if(t=t||v,"sent"!==o&&w)return void Ga(m,null,w,{uniqueid:u})}if(!m||"undefined"==m||d.getAttribute("data-adid"))return;("android"==Ub.device.platform&&Ub.device.version<44||"ios"==Ub.device.platform)&&(f.add("active-fix"),Pb(200).then(function(){f.remove("active-fix")})),qa(),da(m,t),"comment"==c&&"sent"!==o&&Ga(m,null,w,{uniqueid:u})}}}function N(b){var c=nc("oplist-section").classList.contains("edit-mode");if(!c){var d,e=nc("thread-section"),f=b.target,g=f.tagName.toLowerCase(),h=f.classList;if("audio"!==g&&"video"!==g&&(b.preventDefault(),b.stopPropagation()),h.contains("btn-back"))qc.exit("thread-section");else if(h.contains("btn-reply-thread")){var i=e.getAttribute("data-thread-id");Ga(i,null,null)}else if(h.contains("btn-navigate"))Q(b,"navigate");else if(h.contains("btn-reply-comment")||h.contains("rid")){var j=Ub.findParent(f,"[data-thread-id]"),i=j.getAttribute("data-parent-id")||e.getAttribute("data-thread-id"),k=j.getAttribute("data-thread-id");f.textContent.indexOf("查看")>-1?(wb(["thread"]),da(i)):Ga(i,k,null)}else if(h.contains("btn-upvote")||h.contains("btn-downvote"))P(b);else if(h.contains("btn-show-more-comment-option"))ia(b);else if("img"==g||h.contains("comment-image")){if(h.contains("comment-image")){var l=f.querySelectorAll("img");if(f=l[0],l.length>1&&[].slice.call(l).forEach(function(a){"none"!=a.style.display&&(f=a)}),!f)return;h=f.classList}if(h.contains("image-click-to-load")||h.contains("image-error")){Ub.reloadImage(f);var d=Ub.findParent(f,".comment-image");d&&d.classList.remove("no-image")}else if(f.nextSibling&&"img"==f.nextSibling.tagName.toLowerCase()){var m=parseInt(f.getAttribute("data-duration"),10)||0;m=4e3>m?3*m:8e3>m?2*m:m;var n=f.nextSibling;n.style.display="block",f.style.display="none";var o="timer"+(new Date).valueOf();window[o]=setTimeout(function(){console.log("cleared:"+window[o]),clearTimeout(window[o]),f&&(f.style.display="block"),n&&n.parentNode&&n.parentNode.removeChild(n)},m)}else if(f.getAttribute("local-src")){var p="hacfun"==Vb.site?"t":Vb.site.charAt(0);Ja(f.getAttribute("local-src"),{continuous:!0,dataFolder:a.StorageFolderPath+"/favor/threads/"+p+e.getAttribute("data-thread-id")})}else{var q=f.getAttribute("full-size-src");q&&Ja(q,{continuous:!0})}}else if(h.contains("btn-show-image")){var r=Ub.findParent(f,".quote-area");if(r&&r.classList.add("quote-show"),Vb.nightMode){var d=Ub.findParent(f,".comment-image");d&&d.classList.add("mask")}var s=f.getAttribute("local-src")||f.getAttribute("thumb-src"),t=ac.createElement("img");t.src=s,t.onerror=function(){this.onerror=null,f.getAttribute("origin-src")&&(t.src=f.getAttribute("origin-src"))},f.getAttribute("full-size-src")&&t.setAttribute("full-size-src",f.getAttribute("full-size-src")),f.parentNode.replaceChild(t,f)}else if(h.contains("btn-open-in-new")){var u=f.previousElementSibling;if(!u)return;var s=u.getAttribute("href");window.open(s,"_system")}else if(h.contains("btn-show-more-thread-option"))ja(b);else if(h.contains("title")&&"h1"==g||h.contains("site-name")||h.contains("thread-name"))Jb(nc("thread-section").getAttribute("data-section-id"),"last"),nc("toTop-fab").style.display="none";else if(h.contains("h-hidden-text"))h.toggle("h-hidden-text");else if("a"==g&&f.getAttribute("href")&&!h.contains("qlink")||h.contains("external-link"))ub(f);else if(h.contains("btn-play-song")){var v=f.getAttribute("data-song-id");if(!v)return;var w="http://music.163.com/api/song/detail/?id="+v+"&ids=%5B"+v+"%5D",x=document.createElement("video");x.className="music163",x.setAttribute("controls","true"),x.setAttribute("autoplay","true"),x.volume=.5,f.parentNode.replaceChild(x,f);var y=Wb.get(w,null,{responseType:"json",timeout:2e4,cache:!0}).then(function(a){if(200!=a.code)throw"";var b=a.songs||[{}],c=b[0].mp3Url,d=b[0].album||{},e=d.picUrl;x&&(x.setAttribute("poster",e),c&&x.setAttribute("src",c),x.style.cssText="background-image:url("+e+");background-size:cover;")})["catch"](function(){Ub.toast.show("播放失败")});a.NetRequest.media.push(y)}else if(h.contains("error-area"));else if(h.contains("quote-no")&&!f.nextSibling&&(d=Ub.findParent(f,"blockquote"))&&d)ha(d||f,e.querySelector(".content"));else if(h.contains("quote-area")||(d=Ub.findParent(f,".quote-area"))&&d)d?d.classList.toggle("quote-show"):f.classList.toggle("quote-show");else{if(clearTimeout(mc.threadTabbarTapTimer),e.classList.contains("edit-mode")){var j=Ub.findParent(f,".comment");return void j.classList.toggle("selected")}mc.threadTabbarTapTimer=setTimeout(function(){var a=e.querySelector(".tabbar"),b=a.getAttribute("data-cancelled");b?a.removeAttribute("data-cancelled"):pb(e,"current"==a.getAttribute("data-position")?"bottom":"current")},250)}}}function O(a){a.preventDefault(),a.stopPropagation();var b=(a.type,a.target),c=(b.classList,b.getAttribute("data-action")),d=nc("thread-section").getAttribute("data-thread-id");d&&"undefined"!=d&&Q(a,c)}function P(a){a.preventDefault(),a.stopPropagation();var b=a.target,c=b.classList,d=Ub.findParent(b,"[data-thread-id]").getAttribute("data-thread-id"),e=Ub.findParent(b,".comment-footer"),f=e.querySelector(".btn-upvote"),g=e.querySelector(".btn-downvote"),h=parseInt(f.getAttribute("data-score")||g.getAttribute("data-score")||0,10),i=c.contains("btn-upvote")?1:-1;c.contains("success")&&(i=c.contains("btn-upvote")?-1:1),b.disabled=!0,S(d,i).then(function(){Ub.toast.show(i>0?"+1":"-1"),b&&(h+=i,h>=0?(f.setAttribute("data-score",h),g.removeAttribute("data-score")):(g.setAttribute("data-score",h),f.removeAttribute("data-score")),b.classList.toggle("success"),b.disabled=!1)},function(a){Ub.toast.show(a,{duration:5e3}),b&&(b.disabled=!1)})}function Q(b,c){{var d=nc("thread-section"),e=d.getAttribute("data-thread-id"),f=(d.classList.contains("edit-mode"),b.target);f.classList}switch(c){case"addFavorite":T(e).then(function(a){Ub.toast.show("收藏成功")},function(){Ub.toast.show("收藏失败")});break;case"download":Ub.Dialog.show("确定下载吗？","",[{label:"取消",id:"btn-cancel",className:"left"},{label:"确定",id:"btn-ok",className:"danger"}]),nc("dialog").onclick=function(b){var c=b.target,d=c.tagName.toLowerCase(),f=c.id;"button"==d&&(Ub.Dialog.hide(),"btn-ok"==f&&a.DownloadManager.add(e,"fullsize").then(function(){Ub.toast.show("下载已开始")},function(a){Ub.toast.show(a)}))};break;case"navigate":oa(b,nc("thread-section"));break;case"report":Y(e);break;case"copylink":var g=Tb.api.staticHost+"/t/"+e;cordova.plugins.clipboard.copy(g),Ub.toast.show("链接已复制");break;case"reply":Ga(e,null,null);break;case"refresh":Jb(nc("thread-section").getAttribute("data-section-id"),"last");break;case"share":var h=a.ThreadCache&&a.ThreadCache[e]||{},i=h[Object.keys(h)[0]];if(!i)return;var j={},k=Tb.api.staticHost+"/t/"+e,g=i.content,l=ac.createElement("span");if(l.innerHTML=g,g=l.textContent,j.subject=g.slice(0,20),g=g.length>90?g.slice(0,90)+" ......":g.slice(0,90),g+="\n"+k,g+="\n分享自#A岛#",j.content=g,i.img){var m=Tb.api.cdn[0]+"/thumb/"+i.img+i.ext;j.file=m}R(j);break;case"selectAll":var n="全选"==f.textContent?!0:!1;f.textContent=n?"反选":"全选";for(var o=d.querySelectorAll(".comment"),p=0,q=o.length;q>p;p++){var r=o[p];n?r.classList.add("selected"):r.classList.remove("selected")}break;case"shareAs":var s=[{label:"导出文字",id:"btn-share-as-text"},{label:"生成图片",id:"btn-share-as-image"}];Ub.Dialog.showMenu(b.touches&&b.touches[0]||b,s),nc("dialog").onclick=function(b){var c=b.target.tagName.toLowerCase(),f=b.target.id;if("button"==c)if(Ub.Dialog.hide(),"btn-share-as-text"==f){var g=d.querySelectorAll(".comment.selected"),h=[].slice.call(g).map(function(a){return a.getAttribute("data-thread-id")}),i=Ub.queryCachedThreads(e,h),j="";if(i.forEach(function(b){if(j+=(b.userid||b.uid)+(b.isPo?"(PO主)":"")+" "+(b.now||"")+" No."+(b.id||"")+"\n",j=j.trimLeft(),b.img){var c=a.Current.api.cdn[0],d=b.img?b.img.replace(/\/Th\//g,"/th/"):"",e=b.ext?b.ext.replace(".jpe",".jpeg"):"";j+="[图片]"+(c+"/image/"+d+e)+"[/图片]\n",j=j.trimLeft()}var f=b.content||"";f=f.trim(),f=f.replace(/&gt;/g,">").replace(/<br \/>/g,"").replace(/<br>/g,""),f=f.replace(/\<font color\=\"#789922\"\>(.*?)\<\/font\>/g,"$1"),j+=f+"\n\n"}),!j)return void Ub.toast.show("请先选择串");var k=Tb.api.staticHost+"/t/"+e,l="分享自#A岛匿名版# #A岛#\n源网址: "+k;R({subject:"A岛匿名版 (No."+e+")",content:j+"\n\n"+l})}else if("btn-share-as-image"==f){var g=[].slice.call(d.querySelectorAll(".comment.selected"));if(0===g.length)return void Ub.toast.show("请先选择串");var m=document.createDocumentFragment(),n=document.createElement("div");n.className="preview-comment-list",g.forEach(function(a){var b=a.cloneNode(!0);b.classList.remove("selected");var c=b.querySelector(".edit");c&&b.removeChild(c);var d=b.querySelectorAll(".comment-image.is-gif img");d.length>1&&(d[1].parentNode.removeChild(d[1]),d[0].src=d[0].getAttribute("thumb-src")||d[0].getAttribute("full-size-src"),d[0].onload=function(){this.classList.remove("image-placeholder"),this.classList.remove("image-loading"),this.classList.remove("image-error"),this.classList.remove("image-click-to-load")}),m.appendChild(b)}),n.appendChild(m),sa(n,e)}};break;case"exit":qc.exit("thread-tabbar-section")}}function R(a){a=a||{},a.content=a.content||"",a.subject=a.subject||"#A岛#",a.file=a.file||"",a.url=a.url||"",cordova.plugins.socialsharing.share(a.content,a.subject,a.file,a.url)}function S(a,b){var c=b>0?Tb.api.upvote:Tb.api.downvote;return new Promise(function(b,d){Wb.get(c,{tid:a,uuid:Vb.uuid,appid:Tb.api.appid},{responseType:"json"}).then(function(a){b()})["catch"](function(a){console.error(a),a=Ub.getErrorMsg(this).msg||a&&String(a).slice(0,100)||"评分失败",b()})})}function T(b,c){b=Array.isArray(b)?b:[b],c=c||"add";var d="add"==c?Tb.api.subscribe:Tb.api.unsubscribe,e=function(a){"add"==c&&V(a),"del"==c&&$b.removeItem({where:{mode:"favor",site:Vb.site,threadid:a}})},f=function(b){return new Promise(function(c,f){if(!b)return void f();if(!Tb.api.subscribe)return e(b),void c();var g=Wb.get(d,{tid:b,uuid:Vb.uuid,appid:Tb.api.appid},{responseType:"document"}).then(function(a){var d=a.querySelector(".system-message .error")||a.querySelector(".error");if(d)throw d.textContent;e(b),Ub.dispatch(document,"subscribe",{threadid:b}),c()})["catch"](function(a){console.error(a),a=Ub.getErrorMsg(this).msg||a&&String(a).slice(0,100)||"收藏失败",a.indexOf("404")>-1||a.indexOf("Duplicate entry")>-1?(Ub.dispatch(document,"subscribe",{threadid:b}),c()):f(a)});a.NetRequest.requests.push(g)})},g=3e3,h=10,i=b.length,j=Math.ceil(i/h);return new Promise(function(a,c){var d=function(e){var k=[],l=(e-1)*h,m=e*h-1;m=m>i-1?i-1:m;for(var n=l;m>=n;n++)k.push(f(b[n]));Promise.all(k).then(function(c){e+=1,j>=e?setTimeout(function(){d(e)},g):(Ub.clearArray(b),a())},function(a){console.error(a),c(a)})};j>0&&d(1)})}function U(){return}function V(b,c){return b=b?Array.isArray(b)?b:[b]:[],c=c?Array.isArray(c)?c:[c]:[],new Promise(function(d,e){var f=function(b,c){var e=(new Date).valueOf()+c;b.uniqueid=b.uniqueid||"favor-"+e,b.threadid=b.threadid||b.id,b.mode="favor",b.site=Vb.site,b.created=b.created||e,b.updated=b.updated||e,b.replys=null;var f=b.img;if(f&&(f=f.indexOf("http")<0&&f.indexOf("https")<0?Tb.api.cdn[0]+"/thumb/"+f+b.ext:f,b.fileName=f.slice(f.lastIndexOf("/")+1)),$b.putItem([b]).then(function(){d("收藏成功")}),f){var g=Wb.get(f,null,{responseType:"arraybuffer",timeout:1e5,cache:!0}).then(function(c){var d=a.StorageFolder+"/favor/images/",e=d+b.fileName;Ub.saveToStorage(c,e)});a.NetRequest.requests.push(g)}};b.forEach(function(a,b){$b.getItem({where:{mode:"favor",site:Vb.site,
threadid:a}}).then(function(c){if(c.length>0)d("已经收藏过");else{var e=Ub.queryCachedThread(a);e?f(e,b):fa(a).then(function(a){f(a,b)},function(){})}})}),c.forEach(function(a,b){f(a,b)})})}function W(a){return new Promise(function(b,c){var d=function(a){var c=(new Date).valueOf();a.uniqueid=a.uniqueid||"history-"+c,a.threadid=a.threadid||a.id,a.mode="history",a.site=Vb.site,a.created=a.created||c,a.updated=c,a.replys=null,$b.putItem([a]).then(function(){b("历史记录添加成功")})};$b.getItem({where:{mode:"history",site:Vb.site,threadid:a.id}}).then(function(c){c.length>0?(c[0].replyCount=a.replyCount,d(c[0]),b("已经收藏过")):d(JSON.parse(JSON.stringify(a)))})})}function X(b,c){if(b.content.trim()||b.fileName||b.name||b.email||b.title){if("sent"==b.state&&b.fileName){var d=a.StorageFolder+"/comment/images/",e=d+b.fileName;if(b.file){var f="ios"==Ub.device.platform&&Ub.device.version<8;if(!f&&b.file.size&&b.file.size>30720){var g=document.createElement("img"),h=window.URL||window.webkitURL,i=h.createObjectURL(b.file);g.src=i,g.onload=function(){this.onload=null,Ub.saveToStorage(Ub.generateThumbnail(this),e),h.revokeObjectURL(this.src)}}else Ub.saveToStorage(b.file,e)}}else b.fileName=null;b.file=null,$b.putItem([b]).then(c&&c())}}function Y(b,c,d,e){c=c&&"undefined"!=c?c:"",Ub.Dialog.show("确定举报"+c+"吗？","",[{label:"取消",id:"btn-cancel",className:"left"},{label:"确定",id:"btn-ok",className:"danger"}]),nc("dialog").onclick=function(c){var f=c.target,g=f.tagName.toLowerCase(),h=f.id;"button"==g&&(Ub.Dialog.hide(),"btn-ok"==h&&Ga(null,b,a.Reportid,{isReport:!0,parentId:d||b,page:e||1}))}}function Z(a,b,c,d){Xb.add(a,b,c).then(function(){d.parentNode&&d.parentNode.removeChild(d)})}function $(a,b){a=a||1;var c=nc("oplist-section"),d=c.querySelector(".content"),e=c.querySelector(".title .forum-name"),f=Qb(d),g=Vb.commentPerPage||20,h=0,i=0;return e.textContent="历史记录",c.setAttribute("data-section-id","history"),qb("favor-toolbar"),b=d.querySelectorAll(".comment").length>400?0:b,Nb(b,2==b?d.lastChild:d,f,d.firstChild),ic?Promise.reject():(ic=!0,!b&&(c.querySelector(".scrollable").scrollTop=0),$b.count({where:{mode:"history",site:Vb.site}}).then(function(b){if(b=b||0,h=b,i=Math.ceil(b/g),e.textContent="历史记录 ("+b+")",b>0){var c={where:{mode:"history",site:Vb.site},orderby:"updated",order:"desc",limit:g,offset:(a-1)*g};return $b.getItem(c)}return[]}).then(function(e){ic=!1,f&&f.parentNode&&f.parentNode.removeChild(f)&&(f=null);var g={data:e,currentPage:a,totalPage:i,insertPosition:b};c.setAttribute("data-current-page",g.currentPage),c.setAttribute("data-total-page",g.totalPage);var j=new _b("history",g),k=j.querySelectorAll(".comment");Kb(j.querySelectorAll("img[data-gif]"));var l=c.classList.contains("edit-mode");if(l)for(var m=0,n=k.length;n>m;m++){var o=document.createElement("div");o.className="edit",o.innerHTML='<div class="checkbox"><input type="checkbox" /><label></label></div>',k[m].appendChild(o)}Nb(b,d,j,d.firstChild),setTimeout(function(){1==b&&Lb(k[k.length-1]),k=null,h>500&&$b.getItem({where:{mode:"history",site:Vb.site},orderby:"updated",order:"asc",limit:h-500,offset:0}).then(function(a){var b=a.map(function(a){return a.uniqueid});$b.removeItem({where:{uniqueid:b}}).then(function(){console.log("splice history success")},function(a){console.error(a)})},function(a){console.error(a)})},0)},function(a){ic=!1,f&&f.parentNode&&f.parentNode.removeChild(f)&&(f=null),console.error(a)}))}function _(a,b){a=a||1;var c=nc("oplist-section"),d=c.querySelector(".content"),e=c.querySelector(".title .forum-name"),f=Qb(d),g=Vb.commentPerPage||40,h=0;return e.textContent="我的评论",c.setAttribute("data-section-id","comment"),qb("favor-toolbar"),b=d.querySelectorAll(".comment").length>400?0:b,Nb(b,2==b?d.lastChild:d,f,d.firstChild),ic?Promise.reject():(ic=!0,!b&&(c.querySelector(".scrollable").scrollTop=0),$b.count({where:{mode:"comment",site:Vb.site}}).then(function(b){if(b=b||0,h=Math.ceil(b/g),e.textContent="我的评论 ("+b+")",b>0){var c={where:{mode:"comment",site:Vb.site},orderby:"updated",order:"desc",limit:g,offset:(a-1)*g};return $b.getItem(c)}return[]}).then(function(e){ic=!1,f&&f.parentNode&&f.parentNode.removeChild(f)&&(f=null);var g={data:e,currentPage:a,totalPage:h,insertPosition:b};c.setAttribute("data-current-page",g.currentPage),c.setAttribute("data-total-page",g.totalPage);var i=new _b("comment",g),j=i.querySelectorAll(".comment");Kb(i.querySelectorAll("img[data-gif]"));var k=c.classList.contains("edit-mode");if(k)for(var l=0,m=j.length;m>l;l++){var n=document.createElement("div");n.className="edit",n.innerHTML='<div class="checkbox"><input type="checkbox" /><label></label></div>',j[l].appendChild(n)}Nb(b,d,i,d.firstChild),setTimeout(function(){1==b&&Lb(j[j.length-1]),j=null},0)},function(a){ic=!1,f&&f.parentNode&&f.parentNode.removeChild(f)&&(f=null),console.error(a)}))}function aa(b,c,d){b=b||1;var e=nc("oplist-section"),f=e.querySelector(".content"),g=Vb.favorPerPage||20,h=Qb(f),i=function(){ic=!1,h&&h.parentNode&&h.parentNode.removeChild(h)&&(h=null)};return e.querySelector(".title .forum-name").textContent="我的收藏",e.setAttribute("data-section-id","favor"),qb("favor-toolbar"),c=f.querySelectorAll(".comment").length>400?0:c,c=d?1:c,Nb(c,2==c?f.lastChild:f,h,f.firstChild),new Promise(function(h,j){if(!ic){ic=!0;var k=function(a){if(i(),1==b&&0==a.data.length)return void(e.querySelector(".title .forum-name").textContent="我的收藏 (0)");c=d?0:c,a.insertPosition=c,e.setAttribute("data-current-page",a.currentPage),e.setAttribute("data-total-page",a.totalPage);var g=new _b("favor",a),j=g.querySelectorAll(".comment");Kb(g.querySelectorAll("img[data-gif]"));var k=e.classList.contains("edit-mode");if(k)for(var l=0,m=j.length;m>l;l++){var n=document.createElement("div");n.className="edit",n.innerHTML='<div class="checkbox"><input type="checkbox" /><label></label></div>',j[l].appendChild(n)}Nb(c,f,g,f.firstChild),setTimeout(function(){1==c&&Lb(j[j.length-1]),j=null,h()},0)},l=function(a,g){console.error(a),a=Ub.getErrorMsg(g).msg||a&&String(a).slice(0,100)||"加载大失败",i();var h=2==c?f.lastChild:f,j=Rb(h,a+"，点击重试，或<span style='color:blue;display:inline-block;line-height:50px;'>切换到本地收藏</span>",function(a){"span"==a.target.tagName.toLowerCase()&&e.setAttribute("data-source","local"),aa(b,c,d)});Nb(c,h,j,f.firstChild)},m=function(){e.setAttribute("data-source","server");var c=Wb.get(Tb.api.feed,{page:b,uuid:Vb.uuid,appid:Tb.api.appid},{responseType:"json"}).then(function(a){if(!(a instanceof Object))throw a;$b.getItem({where:{mode:"favor",threadid:a.map(function(a){return a.id})}}).then(function(c){var d=[];a.forEach(function(b,e){for(var f,g=0,h=c.length;h>g;g++)if(b.id==c[g].threadid){f=c[g],f.fid=b.fid||f.fid||"";break}f?a[e]=f:d.push(b)}),V(null,d);var e=99999,f={data:a,currentPage:b,totalPage:e};k(f)})})["catch"](function(a){l(a,this)});a.NetRequest.oplist=c},n=function(a){e.setAttribute("data-source",a?"local-downloaded":"local");var c,d=0;c={where:{mode:"favor",site:Vb.site}},a&&(c.where.like={data:"downloaded"}),$b.count(c).then(function(f){return f=f||0,d=Math.ceil(f/g),e.querySelector(".title .forum-name").textContent="我的收藏 ("+f+")",f>0?(c={where:{mode:"favor",site:Vb.site},orderby:"updated",order:"desc",limit:g,offset:(b-1)*g},a&&(c.where.like={data:"downloaded"}),$b.getItem(c)):[]}).then(function(a){var c={data:a,currentPage:b,totalPage:d};k(c)},function(a){l(a)})},o=function(){n(!0)};!c&&(e.querySelector(".scrollable").scrollTop=0);var p=e.getAttribute("data-source")||"server";if("server"==p)if("android"==Ub.device.platform&&Ub.device.version<44)m();else{var q=navigator.connection||navigator.webkitConnection||{},r=(q.type||"").toLowerCase();!r||"none"!=r&&"unknown"!=r?m():n()}else"local"==p?n():"local-downloaded"==p&&o()}})}function ba(a,b){var c,d=function(a){var b=1,c=a.querySelector(".h-pagination");if(c.querySelectorAll("a").length>0){var d=c.querySelector("li:last-child"),e=c.querySelector("li:nth-last-of-type(2)"),f=d&&d.querySelector("a")?d.querySelector("a").href:d&&d.querySelector("span")?d.querySelector("span").getAttribute("href"):"",g=e&&e.querySelector("a")?e.querySelector("a").href:e&&e.querySelector("span")?e.querySelector("span").getAttribute("href"):"",h="末页"==d.textContent.trim()?f:g;b=h.split("?page=").length>1?h.split("?page=")[1]:1}return parseInt(b,10)},e=function(a,c,d){var e={id:"",img:"",ext:"",now:"",userid:"",name:"",email:"",title:"",content:"",sage:"0",admin:"0",replyCount:0,deleted:"0",banned:"0",fname:""},f=a.querySelector(".h-threads-info").textContent;e.banned=f&&f.indexOf("饼干过期")>-1?"1":"0";var g=a.querySelector(".h-threads-info > spam");g&&(e.fid=Ub.getForumId(g.textContent),e.fname=g.textContent),e.id=a.getAttribute("data-threads-id"),e.name=a.querySelector(".h-threads-info-email").textContent.trim(),e.name="无名氏"==e.name?"":e.name,e.title=a.querySelector(".h-threads-info-title").textContent.trim(),e.title="无标题"==e.title?"":e.title,e.now=a.querySelector(".h-threads-info-createdat").textContent;var h=a.querySelector(".h-threads-tips .warn_txt2");if(h)e.replyCount=a.querySelector(".h-threads-tips .warn_txt2")&&a.querySelector(".h-threads-tips .warn_txt2").textContent,e.replyCount=e.replyCount.replace(/[^0-9]/gi,"").trim(),e.replyCount=parseInt(e.replyCount,10)+5;else{var i=a.querySelectorAll(".h-threads-item-replys .h-threads-item-reply");e.replyCount=i.length}var j=a.querySelector(".h-threads-img-box img")?a.querySelector(".h-threads-img-box img").getAttribute("src"):"";d&&(j=a.querySelector(".h-threads-item-main .h-threads-img-box img")?a.querySelector(".h-threads-item-main .h-threads-img-box img").getAttribute("src"):"");var k=j.lastIndexOf(".");e.ext=j.slice(k),e.img=j.slice(0,k),e.img=e.img.split("thumb/").length>1?e.img.split("thumb/")[1]:"";var l=a.querySelectorAll("thread"===b?".h-threads-item-main > .h-threads-tips.uk-text-danger":".h-threads-item >  .h-threads-tips.uk-text-danger");[].slice.call(l).forEach(function(a){a.textContent.indexOf("SAGE")>-1&&(e.sage="1"),a.textContent.indexOf("被删除")>-1&&(e.deleted="1")});var m=a.querySelector(".h-threads-item-reply-main > font");return!c&&m&&(e.deleted=m.textContent.indexOf("被删除")>-1?"1":"0"),e.userid=a.querySelector(".h-threads-info-uid").innerHTML,e.userid=e.userid.replace("ID:","").replace("小会员",""),e.content=a.querySelector(".h-threads-content").innerHTML,e},f=a.querySelector("#h-menu-top-img");f&&f.parentNode&&f.parentNode.removeChild(f);var g=a.querySelector("#forum-info")?a.querySelector("#forum-info").textContent:"",h={};if(g){var i=g.indexOf("{"),j=g.lastIndexOf("}");g=g.slice(i,j+1);try{h=JSON.parse(g)||{}}catch(k){}}if("thread"==b){var l=a.querySelector(".h-threads-list .h-threads-item"),m=l.querySelectorAll(".h-threads-item-reply"),n=d(a),c=e(l,!0,!0);c.replyCount=19*n,c.replys=[],c.fid=h.id||c.fid,c.fname=h.name||c.fname;for(var o=0,p=m.length;p>o;o++)c.replys.push(e(m[o]))}else for(var c=[],l=a.querySelectorAll(".h-threads-list .h-threads-item"),o=0,p=l.length;p>o;o++){var q=e(l[o],!0,!0);"-1"!=h.id&&(q.fid=h.id||q.fid,q.fname="无"),c.push(q)}return Ob(a),a.parentNode&&a.parentNode.removeChild(a),a=null,c}function ca(b,c,d,e){a.iabCSSTimer&&clearInterval(a.iabCSSTimer);var f=nc("oplist-section"),g=f.querySelector(".content"),h=f.querySelector(".title .forum-name"),i=a.OPListCache,j=Ub.getForumName(b),k=Qb(g),l=function(){ic=!1,k&&k.parentNode&&k.parentNode.removeChild(k)&&(k=null)};return c=c||1,b=parseInt(b,10),h.textContent=j,!j&&Pb(500).then(function(){h.textContent=j}),f.setAttribute("data-section-id","op"),f.setAttribute("data-forum-id",b),qb("oplist-toolbar"),d=g.querySelectorAll(".comment").length>500?0:d,d=e?1:d,Nb(d,2==d?g.lastChild:g,k,g.firstChild),new Promise(function(k,m){if(!ic){ic=!0;var n=function(m){if(l(),!(m instanceof Object))throw m;if(d=e?0:d,!d)for(var n in i)delete i[n];var o=999999;if(h.textContent=j,m=m.filter(function(a){return i[a.id]?!1:(i[a.id]=1,!0)}),-1==b){var p=a.Timeline.filter(function(a){return"order"in a&&0==a.order});m=m.filter(function(a){var b=a.fid;if(b){var c=p.some(function(a){return a.id==b});return c?!1:!0}return!0})}a.firstRunGuide.thread||m.unshift({id:"9999999",img:"",ext:"",now:(new Date).valueOf(),userid:"温馨提示",name:"",email:"",title:"",content:'<span style="font-weight:bold">未注册或没有导入饼干只能浏览前99页，不能发言，不能搜索</span><br></br>注册网址：<a href="https://adnmb.com/Member" target="_blank" class="external-link">https://adnmb.com/Member</a>',sage:"0",admin:"1",replyCount:0,deleted:"0",banned:"0",fname:""});var q={data:m,currentPage:c,totalPage:o,insertPosition:d};f.setAttribute("data-current-page",c),f.setAttribute("data-total-page",o);var r=new _b("op",q,{hideSageReport:Vb.hideSageReport&&("hacfun"==Vb.site&&18==b||"beitai"==Vb.site&&5==b)}),s=r.querySelectorAll(".comment");Kb(r.querySelectorAll("img[data-gif]")),Nb(d,g,r,g.firstChild),setTimeout(function(){1==d&&Lb(s[s.length-1]),k(m),s=null,m=null},0)},o=function(a,f){console.error(a),a=Ub.getErrorMsg(f).msg||a&&String(a).slice(0,100)||"加载大失败",l();var h=2==d?g.lastChild:g,i=Rb(h,a+"，点击重试",function(a){ca(b,c,d,e)});Nb(d,h,i,g.firstChild)};!d&&(f.querySelector(".scrollable").scrollTop=0);var p=a.CookieCollection.some(function(a){return a.site===Vb.site&&a.isAdmin});if(Vb.useWebPage&&p)var q=Wb.get(Tb.api.web.forum+"/"+Ub.getForumName(b),{page:c},{responseType:"document"}).then(function(a){var b=a.querySelector(".system-message .error")||a.querySelector(".error"),c=b&&b.textContent?b.textContent:"";if(c)throw Ob(a),a=null,c;n(ba(a))})["catch"](function(a){console.error(a),a=Ub.getErrorMsg(this).msg||a&&String(a).slice(0,100)||"加载大失败",o(a,this)});else var q=Wb.get(-1==b?Tb.api.timeline:Tb.api.forum,{id:b,page:c,appid:Tb.api.appid},{responseType:"json"}).then(function(a){n(a)})["catch"](function(a){o(a,this)});a.NetRequest.oplist=q}})}function da(b,c,d,f){a.iabCSSTimer&&clearInterval(a.iabCSSTimer);var g=!1;a.firstRunGuide.thread||(g=!0,a.firstRunGuide.thread=!0,window.LocalStorage.setItem("firstRun",JSON.stringify(a.firstRunGuide)),e("guide/first-run-thread.html"));var h=nc("thread-section"),i=h.querySelector(".content"),j=Qb(i),k=Vb.threadPerPage||19,l="last"==c,m=function(){jc=!1,j&&j.parentNode&&j.parentNode.removeChild(j)&&(j=null)};return c=c||1,c=l?h.getAttribute("data-total-page"):c,h.querySelector(".title .thread-name").textContent=">>No."+b,h.setAttribute("data-section-id","thread"),h.setAttribute("data-thread-id",b),d=i.querySelectorAll(".comment").length>500&&!h.classList.contains("edit-mode")?0:d,d=f?1:d,Nb(d,2==d?i.lastChild:i,j,i.firstChild),new Promise(function(e,j){if(!jc){jc=!0;var n=function(j){if(m(),!(j instanceof Object))throw j;d=f?0:d;var n=Math.ceil(j.replyCount/k);n=n||1,vb(b,c,j),g&&(j.replys=j.replys||[],j.replys.unshift({id:"9999999",img:"",ext:"",now:(new Date).valueOf(),userid:"温馨提示",name:"",email:"",title:"",content:'<span style="font-weight:bold">点击右上角箭头<i class="icon icon-reply"></i>可回复该串(贴)<br></br>点击串号(No.123456)可回复该评论</span><br></br>注册网址：<a href="https://adnmb.com/Member" target="_blank" class="external-link">https://adnmb.com/Member</a>',sage:"0",admin:"1",replyCount:0,deleted:"0",banned:"0",fname:""}));var o={data:j,currentPage:c,totalPage:n,insertPosition:d};h.setAttribute("data-current-page",o.currentPage),h.setAttribute("data-total-page",o.totalPage),j.fid&&h.setAttribute("data-forum-id",j.fid)&&Hb(j.fid),o.totalPage>1&&"desktop"==a.view?(nc("btn-thread-navigate").style.display="block",nc("btn-thread-navigate").setAttribute("data-current-page",o.currentPage>99?99:o.currentPage)):(nc("btn-thread-navigate").style.display="none",nc("btn-tabbar-navigate")&&nc("btn-tabbar-navigate").setAttribute("data-current-page",o.currentPage>99?99:o.currentPage));var p=new _b("thread",o),q=p.querySelectorAll(".comment");if(c>=2){var r=q[0];r.parentNode.removeChild(r)}if(Vb.showCite){var s=new Zb(p.querySelectorAll(".comment > .comment-content > font > blockquote"),b);s.renderAll()}Kb(p.querySelectorAll("img[data-gif]"));var t=h.classList.contains("edit-mode");if(t)for(var u=0,v=q.length;v>u;u++){var w=document.createElement("div");w.className="edit",w.innerHTML='<div class="checkbox"><input type="checkbox" /><label></label></div>',q[u].appendChild(w)}Ib(),Nb(d,i,p,i.firstChild),setTimeout(function(){if(1==d&&Lb(q[q.length-1]),2!=d&&pb(h,"current",!0),W(j),e(j),q=null,j=null,Pb(200).then(yb),l){var a=h.querySelector(".scrollable");a.style.overflowY="hidden",a.scrollTop=a.scrollHeight,Pb(0).then(function(){a.style.overflowY="auto"})}},0)},o=function(a,e){console.error(a),a=Ub.getErrorMsg(e).msg||a&&String(a).slice(0,100)||"加载大失败",m();var g=2==d?i.lastChild:i,h=Rb(g,a+"，点击重试",function(a){da(b,c,d,f)});Nb(d,g,h,i.firstChild)};!d&&(nc("thread-section").querySelector(".scrollable").scrollTop=0);var p=a.CookieCollection.some(function(a){return a.site===Vb.site&&a.isAdmin});if(Vb.useWebPage&&p)var q=Wb.get(Tb.api.web.thread+"/"+b,{page:c},{responseType:"document"}).then(function(a){var b=a.querySelector(".system-message .error")||a.querySelector(".error"),c=b&&b.textContent?b.textContent:"";if(c)throw Ob(a),a=null,c;n(ba(a,"thread"))})["catch"](function(a){console.error(a),a=Ub.getErrorMsg(this).msg||a&&String(a).slice(0,100)||"加载大失败",o(a,this)});else var q=Wb.get(Tb.api.thread,{id:b,page:c,appid:Tb.api.appid},{responseType:"json"}).then(function(a){n(a)})["catch"](function(a){o(a,this)});a.NetRequest.thread=q}})}function ea(b,c,d,e){var f=nc("thread-section"),g=f.querySelector(".content"),h="hacfun"==Vb.site?"t":Vb.site.charAt(0),i=a.StorageFolderPath+"/favor/threads/"+h+b,j=Vb.threadPerPage||19,k=Qb(g),l="last"==c,m=function(){jc=!1,k&&k.parentNode&&k.parentNode.removeChild(k)&&(k=null)};return c=c||1,c=l?f.getAttribute("data-total-page"):c,f.querySelector(".title .thread-name").textContent=">>No."+b,f.setAttribute("data-section-id","local-thread"),f.setAttribute("data-thread-id",b),d=g.querySelectorAll(".comment").length>400?0:d,d=e?1:d,Nb(d,2==d?g.lastChild:g,k,g.firstChild),new Promise(function(h,k){if(!jc){jc=!0;var n=function(i){if(m(),!(i instanceof Object))throw i;d=e?0:d;var k=Math.ceil(i.replyCount/j);k=k||1,vb(b,c,i);var n={data:i,currentPage:c,totalPage:k,insertPosition:d};f.setAttribute("data-current-page",n.currentPage),f.setAttribute("data-total-page",n.totalPage),k>1&&"desktop"==a.view?(nc("btn-thread-navigate").style.display="block",nc("btn-thread-navigate").setAttribute("data-current-page",n.currentPage>99?99:n.currentPage)):(nc("btn-thread-navigate").style.display="none",nc("btn-tabbar-navigate")&&nc("btn-tabbar-navigate").setAttribute("data-current-page",n.currentPage>99?99:n.currentPage));var o=new _b("thread",n),p=o.querySelectorAll(".comment");if(c>=2){var q=p[0];q.parentNode.removeChild(q)}if(Vb.showCite){var r=new Zb(o.querySelectorAll(".comment > .comment-content > font > blockquote"),b);r.renderAll()}Kb(o.querySelectorAll("img[data-gif]")),Nb(d,g,o,g.firstChild),setTimeout(function(){if(1==d&&Lb(p[p.length-1]),h(i),p=null,i=null,Pb(200).then(yb),l){var a=f.querySelector(".scrollable");a.style.overflowY="hidden",a.scrollTop=a.scrollHeight,Pb(0).then(function(){a.style.overflowY="auto"})}},0)},o=function(a){console.error(a),m();var b=2==d?g.lastChild:g,e=Rb(b,"找不到第"+c+"页数据");Nb(d,b,e,g.firstChild)};!d&&(f.querySelector(".scrollable").scrollTop=0),Ub.readFile(i+"/data/"+c+".data").then(function(a){a=a.toString();var b=a.indexOf("("),c=a.lastIndexOf(")");a=a.slice(b+1,c);try{a=JSON.parse(a),a=Ub.backwardCompatible(a)}catch(d){return void o(d)}n(a)},o)}})}function fa(b,c){return new Promise(function(d,e){var f=Ub.queryCachedThread(c,b);if(f)return void d(f);var g=Wb.get(Tb.api.quote,{id:b},{responseType:"document",cache:!0}).then(function(a){var c=a.querySelector(".system-message .error")||a.querySelector(".error"),e=c&&c.textContent?c.textContent:"";if(e)throw Ob(a),a=null,e;var f={id:b},g=a.querySelector(".h-threads-img");if(g){var h=g.getAttribute("data-src")||"",i=h.lastIndexOf(".");if(f.ext=h.slice(i),f.img=h,f.originSrc=h,h.indexOf("http")>-1||h.indexOf("https")>-1){var j=h.split("/thumb/");j.length>1&&(h=j[1]),i=h.lastIndexOf("."),h=h.slice(0,i),f.img=h}else f.img=h.slice(0,i),f.img=f.img.replace("/Public/Upload/thumb/","")}if(f.now=a.querySelector(".h-threads-info-createdat").textContent,!f.now)throw"此回复不存在";f.content=a.querySelector(".h-threads-content").innerHTML,f.userid=a.querySelector(".h-threads-info-uid").innerHTML,f.userid=f.userid.replace("ID:","");var k=a.querySelector(".h-threads-info-id").href,l=k.lastIndexOf("/")+1,m=k.indexOf("?");f.parent=k.slice(l,m),Ob(a),a=null,d(f)})["catch"](function(a){console.error(a),a=Ub.getErrorMsg(this).msg||a&&String(a).slice(0,100)||"加载大失败",e(a)});a.NetRequest.quote=g})}function ga(b,c,d){b=b||{};for(var e in b)oc[e]=b[e];oc.pageNo=parseInt(b.pageNo||1,10),oc.pageSize=parseInt(b.pageSize||20,10);var f=oc.forum,g=nc("oplist-section"),h=g.querySelector(".content"),i=a.OPListCache,j=Qb(h),k=function(){ic=!1,j&&j.parentNode&&j.parentNode.removeChild(j)&&(j=null)};return g.querySelector(".title .forum-name").textContent="搜索结果",g.setAttribute("data-section-id","search"),qb("search-toolbar"),c=h.querySelectorAll(".comment").length>400?0:c,c=d?1:c,Nb(c,2==c&&h.lastChild||h,j,h.firstChild),new Promise(function(b,e){if(!ic){ic=!0;var j=function(){if(!Tb.api.search)return void o("不支持搜索");var b=Wb.get(Tb.api.search,oc,{responseType:"json"}).then(function(a){k(),a=a.hits||{};for(var b=a.hits||[],c=Math.ceil(a.total/oc.pageSize)||0,d=[],e=0,f=b.length;f>e;e++)b[e]._source.id=parseInt(b[e]._source.resto,10)?b[e]._source.resto:b[e]._id,d.push(b[e]._source);d=tb(d,oc.q);var g={currentPage:oc.pageNo,totalPage:c>99?99:c,data:d};n(g)})["catch"](function(a){o(a,this,function(){ga(oc,c,d)})});a.NetRequest.oplist=b},l=function(){var b=Wb.get(cc,{q:"site:"+Tb.api.domain+" "+oc.q,start:10*(oc.pageNo-1)},{responseType:"text"}).then(function(a){k();var b=a.indexOf("<body>"),c=a.lastIndexOf("</body>"),a=a.slice(b,c+1),d=document.createElement("div");d.innerHTML=a;var e=d.querySelector("#resultStats"),f=0;if(e){var g=e.textContent,h=g.match(/(\$?(:?\d+,?.?)+)/);h=h.length>0?h[0]:0;var j=parseInt(h.trim(),10);f=Math.ceil(j/10)}for(var l=d.querySelectorAll(".srg .g"),m=[],o={},p=0,q=l.length;q>p;p++){var r=l[p],s=r.querySelector("._Rm");if(s){var t=s.textContent,u=/\/t\/\d+/g;if(t&&u.test(t)){var v=t.match(/\d+/);if(v&&v.length>0&&(v=v[0],!o[v])){o[v]=v;var w=r.querySelector(".st");if(w){var g=w.innerHTML;g=g.replace(/(管理|SAGE|锁定|删图|删串|编辑|查询|锁IP|锁Cookie|锁定|无名氏|无标题|收起|查看大图|向左旋转|向右旋转|·|\[举报\]|\[回应\]|\[订阅\])/g,""),m.push({id:v,userid:"",content:g,now:""})}}}}}Ob(d),m=m.filter(function(a){var b=a.id||a.threadid;return i[b]?void 0:(i[b]=1,!0)}),m=tb(m,oc.q);var x={currentPage:oc.pageNo,totalPage:f,data:m};n(x)})["catch"](function(a){o(a,this,function(){cc=dc,ga(oc,c)})});a.NetRequest.oplist=b},m=function(){oc.q=oc.q.replace(/\'/g,"''");var a=20,b=0;$b.count({where:{mode:["favor","comment"],like:{data:oc.q}}}).then(function(c){if(c=c||0,b=Math.ceil(c/a),c>0){var d={where:{mode:["favor","comment"],like:{data:oc.q}},orderby:"updated",order:"time"==oc.sortField&&"-1"==oc.sortType?"asc":"desc",limit:a,offset:(oc.pageNo-1)*a};return $b.getItem(d)}return[]}).then(function(a){k(),a=tb(a,oc.q);var c={currentPage:oc.pageNo,totalPage:b,data:a};n(c)},function(a){o(a)})},n=function(a){if(c=d?0:c,!c)for(var e in i)delete i[e];g.setAttribute("data-current-page",a.currentPage),g.setAttribute("data-total-page",a.totalPage),a.totalPage>1?(nc("btn-search-navigate").style.display="block",nc("btn-search-navigate").setAttribute("data-current-page",a.currentPage>99?99:a.currentPage)):nc("btn-search-navigate").style.display="none",0!=a.totalPage&&a.totalPage||(g.querySelector(".title .forum-name").textContent="搜索结果(0)"),a.insertPosition=c;var f=new _b("op",a);Kb(f.querySelectorAll("img[data-gif]"));var j=f.querySelectorAll(".comment");Nb(c,h,f,h.firstChild),0!=a.totalPage&&a.totalPage||(h.innerHTML='<div class="not-found"><p class="msg">未找到相关内容</p><p class="msg">请确定已导入/应用饼干，未注册用户请先注册<a href="https://adnmb.com/Member" target="_blank" class="external-link">https://adnmb.com/Member</a></p></div>',h.querySelector("a").onclick=function(a){a.preventDefault(),a.stopPropagation(),ub(a.target)}),setTimeout(function(){1==c&&Lb(j[j.length-1]),j=null,b()},0)},o=function(a,b,d){console.error(a),a=Ub.getErrorMsg(b).msg||a&&String(a).slice(0,100)||"加载大失败",k();var e=2==c?h.lastChild:h,f=Rb(e,a+"，点击重试",d);Nb(c,e,f,h.firstChild)};!c&&(g.querySelector(".scrollable").scrollTop=0),"Hxgoogle"==f?l():"local"==f?m():Yb.getItem(Tb.cookieKey,Tb.api.host).then(function(a){a&&"deleted"!=a?j():Fb()?x().then(j,j):j()},function(){j()})}})}function ha(a,b){var c=a.getAttribute("data-thread-id");if(c){b=b||ac;var d=a.getAttribute("data-po-uid"),e=nc("thread-section").getAttribute("data-thread-id"),f=ac.createElement("div");f.className="dot-flashing",f.style.cssText="margin-left:20px;display:inline-block;vertical-align:middle",a.appendChild(f),fa(c,e).then(function(g){f&&f.parentNode&&f.parentNode.removeChild(f)&&(f=null),g.pouid=g.pouid||d;var h=new Zb,i=h.render(g);if(0==g.parent||g.parent&&g.parent!=e){a.setAttribute("data-parent-id",g.parent||c);var j=i.querySelector(".comment-header"),k=ac.createElement("span");k.className="rid",k.style.cssText="color:rgb(61, 61, 165)",k.textContent="查看原串",j.appendChild(k)}d&&unescape(d)==g.userid&&i.querySelector(".uid").classList.add("po"),i.classList.add("quote-show");var l=Ub.findParent(a,".quote-area");l&&l.classList.add("quote-show"),a.appendChild(i);for(var m=0,n=b.querySelectorAll('.comment > .comment-content > font > blockquote[data-thread-id="'+c+'"]'),o=n.length;o>m;m++)if(!n[m].querySelector(".quote-no").nextSibling){var p=n[m],q=i.cloneNode(!0);q.classList.add("quote-show"),d&&unescape(d)==g.userid&&q.querySelector(".uid").classList.add("po");var l=Ub.findParent(p,".quote-area");l&&l.classList.add("quote-show"),p.appendChild(q),p.setAttribute("data-parent-id",a.getAttribute("data-parent-id"))}g=null},function(a){console.error(a),a=a||"此回复不存在",f&&f.parentNode&&f.parentNode.removeChild(f)&&(f=null);for(var d=0,e=b.querySelectorAll('blockquote[data-thread-id="'+c+'"]'),g=e.length;g>d;d++){var h=e[d];h.innerHTML="<span class='quote-no' style='color:red'>>>No."+c+" "+a+"</span>"}})}}function ia(b,c){b.preventDefault(),b.stopPropagation();var d=b.target,e=d.classList;if(!e.contains("oplist")&&!e.contains("thread")){var f=e.contains("comment")?d:Ub.findParent(d,"[data-thread-id]");if(f&&!f.getAttribute("data-adid")){e=f.classList;var g=e.contains("fragment")?f:Ub.findParent(f,".fragment");if(g){var c=g.getAttribute("data-section-id");c=e.contains("favor-list")?"favor":e.contains("comment-list")?"comment":c;var h=f.getAttribute("data-thread-id"),i=a.CookieCollection.some(function(a){return a.site===Vb.site&&a.isAdmin});switch(c){case"thread":case"local-thread":var j=[{label:"复制",id:"btn-copy"}];("android"==Ub.device.platform&&Ub.device.version>=50||"ios"==Ub.device.platform&&Ub.device.version>=12)&&j.push({label:"多选",id:"btn-select-thread"}),j.push({label:"举报",id:"btn-report",className:"danger"}),Tb.api.adminLogin&&i&&j.push({label:"管理",id:"btn-manage"}),Ub.Dialog.showMenu(b.touches&&b.touches[0]||b,j),nc("dialog").classList.add("sm"),nc("dialog").onclick=function(b){var c=b.target.tagName.toLowerCase(),e=b.target.id;if("button"==c)if(Ub.Dialog.hide(),"btn-report"==e){var i=1,j=Ub.findParent(d,"[data-page-no]"),k=Ub.findParent(d,"blockquote");if(k){var l=f.getAttribute("data-thread-id")||"",m=g.querySelector('article[data-thread-id="'+l+'"]');m&&(j=Ub.findParent(m,"[data-page-no]"),j&&(i=parseInt(j.getAttribute("data-page-no"),10)))}else j&&(i=parseInt(j.getAttribute("data-page-no"),10));var n=f.getAttribute("data-uid")||"";n=n.replace(/<font color="(.*?)">(.*?)<\/font>/,"$2"),Y(h,n,g.getAttribute("data-thread-id"),i)}else if("btn-copy"==e){var o=f.querySelector(".comment-content").textContent;o=(o||"").trim(),cordova.plugins.clipboard.copy(o),Ub.toast.show("已复制")}else if("btn-search-uid"==e){var n=f.getAttribute("data-uid");if(!n)return;n=n.replace(/<font color="(.*?)">(.*?)<\/font>/,"$2"),a.view||(qc.exit("thread-section"),nb(nc("thread-section"),"right",!0)),wb(["oplist"]),nc("btn-search-navigate").style.display="none",oc.forum="Hxgoogle",ga({pageNo:1,q:n})}else if("btn-manage"==e){var n=f.getAttribute("data-uid")||"";pa(b,h,n)}else"btn-select-thread"==e&&La()};break;case"op":var j=[{label:"举报",id:"btn-report",className:"danger"},{label:"永久屏蔽",id:"btn-block"}];Tb.api.adminLogin&&i&&j.push({label:"管理",id:"btn-manage"}),Ub.Dialog.showMenu(b.touches&&b.touches[0]||b,j),nc("dialog").classList.add("sm"),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase(),c=a.target.id;if("button"==b)if(Ub.Dialog.hide(),"btn-report"==c){var d=f.getAttribute("data-uid")||"";d=d.replace(/<font color="(.*?)">(.*?)<\/font>/,"$2"),Y(h,d)}else if("btn-block"==c)Ub.Dialog.show("确定永久屏蔽吗？以后只能搜串号进入","",[{label:"取消",className:"left"},{label:"确定",id:"btn-ok"}]),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase(),c=a.target.id;"button"==b&&(Ub.Dialog.hide(),"btn-ok"==c&&Z(h,null,998,f))};else if("btn-manage"==c){var d=f.getAttribute("data-uid")||"";pa(a,h,d)}};break;case"favor":var k=f.getAttribute("data-state"),l=[];"downloaded"==k?(l.push({label:"离线浏览",id:"btn-view-local"}),l.push({label:"更新",id:"btn-download"})):l.push({label:"下载",id:"btn-download"}),l.push({label:"删除",id:"btn-remove",className:"danger"}),Ub.Dialog.showMenu(b.touches&&b.touches[0]||b,l),nc("dialog").classList.add("sm"),nc("dialog").onclick=function(b){var c=b.target.tagName.toLowerCase(),d=b.target.id;"button"==c&&(Ub.Dialog.hide(),"btn-view-local"==d?(qa(),ea(h,zb(h))):"btn-download"==d?a.DownloadManager.add(h,"fullsize").then(function(){Ub.toast.show("下载已开始")},function(a){Ub.toast.show(a)}):"btn-remove"==d&&T(h,"del").then(function(){f&&f.parentNode&&f.parentNode.removeChild(f),Ub.toast.show("删除成功")},function(){Ub.toast.show("删除失败")}))};break;case"comment":Ub.Dialog.showMenu(b.touches&&b.touches[0]||b,[{label:"复制",id:"btn-copy"},{label:"删除评论",id:"btn-remove",className:"danger"}]),nc("dialog").classList.add("sm"),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase(),c=a.target.id;if("button"===b)if(Ub.Dialog.hide(),"btn-remove"==c){var d=f.getAttribute("data-uniqueid");$b.removeItem({where:{uniqueid:d}}).then(function(){f&&f.parentNode&&f.parentNode.removeChild(f),Ub.toast.show("删除成功")})}else if("btn-copy"==c){var e=f.querySelector(".comment-content").textContent;e=(e||"").trim(),cordova.plugins.clipboard.copy(e),Ub.toast.show("已复制")}};break;case"history":Ub.Dialog.showMenu(b.touches&&b.touches[0]||b,[{label:"删除记录",id:"btn-remove",className:"danger"}]),nc("dialog").classList.add("sm"),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase(),c=a.target.id;if("button"===b&&(Ub.Dialog.hide(),"btn-remove"==c)){var d=f.getAttribute("data-uniqueid");$b.removeItem({where:{uniqueid:d}}).then(function(){f&&f.parentNode&&f.parentNode.removeChild(f),Ub.toast.show("删除成功")})}}}}}}}function ja(a){var b=[{label:"举报",action:"report"},{label:"复制链接",action:"copylink"}];Vb.enableTabBar||(b=[{label:"收藏",action:"addFavorite"},{label:"跳页",action:"navigate"},{label:"下载",action:"download"},{label:"分享",action:"share"},{label:"举报",action:"report"}]),Ub.Dialog.showMenu(a.touches&&a.touches[0]||a,b),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase(),c=a.target.getAttribute("data-action");"button"==b&&(Ub.Dialog.hide(),c&&Q(a,c))}}function ka(a){var b=nc("dialog"),c='<div class="oplist-option-dialog"><menu>';c+='<button type="button" id="btn-search">搜索</button>',c+='<button type="button">隐藏小于<input type="text" value="-998" />分的串</button>',c+='<button type="button" id="btn-sort-by-score">按今日评分排序<aside class="switch"><input type="checkbox"/><label></label></aside></button>',c+="</menu></div>",Ub.Dialog.show("",c);var d=nc("dialog").querySelector("input");d.value=Vb.hideLessThan||-5,d.setAttribute("type","number"),d.setAttribute("pattern","[0-9]*"),"android"==Ub.device.platform&&Ub.device.version<42&&(d.setAttribute("contenteditable",!0),
d.setAttribute("type","tel")),d.onchange=function(){Vb.hideLessThan=parseInt(this.value,10)||-998,window.LocalStorage.setItem("config",JSON.stringify(Vb)),Ub.Dialog.hide()},b.querySelector("#btn-sort-by-score input").checked=!!Vb.sortByScore,b.onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;if("button"==c||"label"==c)if(Ub.Dialog.hide(),"btn-search"==d){var e=nc("oplist-section").getAttribute("data-section-id");oc.forum="favor"==e||"comment"==e?"local":oc.forum,xa()}else("btn-sort-by-score"==d||"label"==c)&&("label"==c&&(b=Ub.findParent(b,"button")),Vb.sortByScore?(Vb.sortByScore=!1,b.querySelector("input").checked=!1):(Vb.sortByScore=!0,b.querySelector("input").checked=!0),window.LocalStorage.setItem("config",JSON.stringify(Vb)))}}function la(a){var b=nc("oplist-section"),c=b.getAttribute("data-section-id"),d=[{label:"跳页",id:"btn-navigate"}];"favor"==c&&d.push({label:"只显示已下载",id:"btn-show-downloaded"}),Ub.Dialog.showMenu(a.touches&&a.touches[0]||a,d),nc("dialog").onclick=function(a){var c=a.target.tagName.toLowerCase(),d=a.target.id;"button"==c&&(Ub.Dialog.hide(),"btn-show-downloaded"==d?(b.setAttribute("data-source","local-downloaded"),Jb("favor")):"btn-navigate"==d&&oa(a,b))}}function ma(a){var b=nc("dialog"),c='<div class="admin-option-dialog"><menu>';c+='<button type="button" id="btn-hide-sage-report">隐藏值班室SAGE串<aside class="switch"><input type="checkbox"/><label></label></aside></button>',c+='<button type="button" id="btn-use-web-page">网页模式<aside class="switch"><input type="checkbox"/><label></label></aside></button>',c+='<button type="button" id="btn-clear-password">清除记住的密码</button>',c+="</menu></div>",Ub.Dialog.show("请选择操作",c),b.querySelector("#btn-hide-sage-report input").checked=!!Vb.hideSageReport,b.querySelector("#btn-use-web-page input").checked=!!Vb.useWebPage,b.onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;("button"==c||"label"==c)&&(Ub.Dialog.hide(),"btn-hide-sage-report"==d||"btn-use-web-page"===d||"label"==c?("label"==c&&(b=Ub.findParent(b,"button"),d=b.id),"btn-hide-sage-report"==d?Vb.hideSageReport?(Vb.hideSageReport=!1,b.querySelector("input").checked=!1,Ub.toast.show("已显示值班室SAGE串")):(Vb.hideSageReport=!0,b.querySelector("input").checked=!0,Ub.toast.show("已隐藏值班室SAGE串")):"btn-use-web-page"===d&&(Vb.useWebPage?(Vb.useWebPage=!1,b.querySelector("input").checked=!1,Ub.toast.show("网页模式已关闭")):(Vb.useWebPage=!0,b.querySelector("input").checked=!0,Ub.toast.show("网页模式已开启"))),window.LocalStorage.setItem("config",JSON.stringify(Vb))):"btn-clear-password"===d&&(window.LocalStorage.setItem("adminUser",JSON.stringify({userName:"",password:""})),Ub.toast.show("清除成功")))}}function na(b){var c=[{label:"历史记录",id:"btn-history"},{label:"下载列表",id:"btn-downloadlist"}];!Vb.isAppstoreReview&&c.push({label:"红名充值",id:"btn-admin"}),Ub.Dialog.show("",c);var d=function(b){var c=b.target,d=c.tagName.toLowerCase(),e=c.id;if("button"==d){Ub.Dialog.hide();var f=["search-section","reorder-section","reorder-timeline-section","tabbar-reorder-section","setting-section","importExport-section","cookie-section","download-section","edit-section","game-section","admin-section","font-section","iframe-section","gallery-section"];!a.view&&f.push("reply-section","thread-section","sketch-section","preview-thread-section"),qc.exit(f),"btn-downloadlist"==e?Fa():"btn-admin"==e?Pa():"btn-history"==e&&$()}};nc("dialog").onclick=d}function oa(a,b){var c=Ab(b),d=c.currentPage,e=c.totalPage;if(1>=e)return void Ub.toast.show("没页数可跳");var f,g,h=0>=d-9?1:d-9,i=h+19>e?e:h+19,j=function(a){a=a||e,a=isNaN(a)?e:parseInt(a,10),(a>e||0>=a)&&(a=e),Jb(b.getAttribute("data-section-id"),a),f&&(f.onkeyup=null,f.blur()),Ub.Dialog.hide()},k=document.createElement("menu");k.className="page-menu";for(var l=h,m=0;i>=l;l++,m++){var n=document.createElement("button");n.setAttribute("type","button"),n.innerHTML="<span>"+(0==m&&1!==h&&1||l)+"</span>",d==l&&(n.className="current"),k.appendChild(n)}if(e>10){f=document.createElement("input"),f.setAttribute("type","number"),f.setAttribute("pattern","[0-9]*"),f.setAttribute("placeholder","共"+(0==e?1:e)+"页"),"android"==Ub.device.platform&&Ub.device.version<42&&(f.setAttribute("contenteditable",!0),f.setAttribute("type","tel")),f.onkeyup=function(a){if(13==a.keyCode){a.stopPropagation(),a.preventDefault();var b=this.value.trim();j(b)}},g=document.createElement("menu"),g.className="page-input",g.appendChild(f);var n=document.createElement("button");n.setAttribute("type","button"),n.id="btn-dialog-navigate",n.textContent="跳页",g.appendChild(n),Ub.Dialog.show("",k,g)}else Ub.Dialog.showMenu(a.touches&&a.touches[0]||a,k);nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;if("button"==c||"span"==c)if("btn-dialog-navigate"==d){var e=f.value.trim();j(e)}else{var e=b.textContent;j(e)}}}function pa(a,b,c){var d=[{label:"SAGE",id:"btn-sage"},{label:"碎饼干",id:"btn-banCookie"},{label:"查饼干",id:"btn-searchCookie"},{label:"删串",id:"btn-delPost"}];Tb.api.edit&&d.unshift({label:"编辑串",id:"btn-edit"}),Tb.api.queryUser&&d.unshift({label:"编辑槽",id:"btn-query"}),"beitai"==Vb.site&&d.splice(1,0,{label:"锁IP",id:"btn-banip"});var e="No."+b+(c?" ("+c+")":"");Ub.Dialog.show(e,d),nc("dialog").onclick=function(a){var d=a.target,e=d.tagName.toLowerCase(),f=d.id,g=d.textContent;if("button"==e){Ub.Dialog.hide();var h="/Admin/Content/sagePost/id/"+b+".html",i="/Admin/Content/updateThread/id/"+b+".html",j="/Admin/Content/delPost/ids/"+b+".html",k="/Home/Forum/banip/id/"+b+".html",l="/Home/Forum/banCookie/id/"+b+".html",m="/Admin/Content/thread/cookieuser/"+c+".html",n="/Admin/Member/queryUser.html?cookie="+c,o="btn-sage"==f?h:"btn-search"==f?ga:"btn-delPost"==f?j:"btn-banip"==f?k:"btn-banCookie"==f?l:"btn-edit"==f?i:"btn-searchCookie"==f?m:"btn-query"==f?n:"";o="hacfun"==Vb.site?"http://localhost"+o:Tb.api.host+o;var p=function(){Wb.get(o,null,{responseType:"document"}).then(function(a){var b=a.querySelector(".system-message .error")||a.querySelector(".error");if(b)throw Ob(a),a=null,b.textContent;var c=a.querySelector(".system-message .success")||a.querySelector(".success");if(!c)throw Ob(a),a=null,"可能尚未登录";var d=c.textContent||"";Ub.toast.show(d),Ob(a),a=null})["catch"](function(a){console.error(a),a=Ub.getErrorMsg(this).msg||a&&String(a).slice(0,100)||"未知原因",Ub.Dialog.show("操作失败",a,[{label:"好的",id:"btn-ok"}])})};"btn-edit"==f||"btn-searchCookie"==f||"btn-query"==f?Oa(o):setTimeout(function(){Ub.Dialog.show("确定"+g+"吗","",[{label:"取消",className:"left"},{label:"确定",id:"btn-ok"}]),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase(),c=a.target.id;"button"==b&&(Ub.Dialog.hide(),"btn-ok"==c&&p())}},0)}}}function qa(){wb(["thread"]),nb(nc("thread-section"),"current",!0),qc.exit(["reply-section","sketch-section","preview-thread-section"]),qc.push("thread-section"),nc("toTop-fab").style.display="none"}function ra(a,b){var c=new QRCode.Encoder;c.write(b),c.make();var d=c.toDataURL(4,6),e=a.querySelector(".qrcode");e&&e.parentNode.removeChild(e),e=document.createElement("div"),e.className="qrcode";var f='<div class="qrcode-image"><img src="'+d+'" /><span class="remove-qrcode"></span></div>';f+="<div><p>扫描或长按识别二维码，查看全部内容</p>",f+='<p>源网址:<span style="color:rgb(61, 61, 165)"> '+b+"</span></p></div>",e.innerHTML=f,a.appendChild(e)}function sa(b,c){qc.push("preview-thread-section");var d=nc("preview-thread-section"),e=d.querySelector(".content"),f=1;nb(d,"current"),nc("toTop-fab").style.display="none",d.setAttribute("data-thread-id",c),d.querySelector(".title .thread-name").textContent=">>No."+c;var g=a.CookieCollection.some(function(a){return a.site===Vb.site&&a.isAdmin});g&&(d.querySelector(".icon-setting").style.display="block"),Nb(0,e,b,e.firstChild),wa(e),ra(d.querySelector(".preview-comment-list"),Tb.api.staticHost+"/t/"+c),d.querySelector(".scrollable").scrollTop=0,d.onclick=function(a){var b,c=a.target,g=c.tagName.toLowerCase(),h=c.classList;if(h.contains("btn-back"))qc.exit("preview-thread-section");else if(h.contains("icon-done"))va();else if(h.contains("icon-help"))Ub.Dialog.show("使用帮助","<p>1. 点击串内图片可在缩略图和原图间切换</p><p>2. 生成图片保存在nimingban/screenshot文件夹</p>",[{label:"好的"}],!1);else if(h.contains("icon-setting")){var i=JSON.parse(localStorage.getItem("screenshotSetting"))||{width:d.querySelector(".scrollable").scrollWidth*devicePixelRatio,height:"ios"==Ub.device.platform?15e3:16e3,quality:.8},j="<p class='screentshot-item screentshot-item-width'><label>宽度:</label><input type='number' value="+i.width+" /></p>";j+="<p class='screentshot-item screentshot-item-height'><label>高度:</label><input type='number' value="+i.height+" /></p>",j+="<p class='screentshot-item screentshot-item-quality'><label>质量:</label><input type='number' placeholder='0-1' value="+i.quality+"  /></p>",j+="<style>.screentshot-item{display:flex;align-items:center;} .screentshot-item label{width:100px}</style>",Ub.Dialog.show("图片设置",j,[{label:"确定",id:"btn-ok"}]);var k=nc("dialog");k.onclick=function(a){var b=a.target,c=b.tagName.toLowerCase();"button"==c&&(Ub.Dialog.hide(),i.width=k.querySelector(".screentshot-item-width input").value,i.height=k.querySelector(".screentshot-item-height input").value,i.quality=k.querySelector(".screentshot-item-quality input").value,localStorage.setItem("screenshotSetting",JSON.stringify(i)))}}else if(h.contains("icon-setting1")){var l="<div class='screenshot-filter search-filter'><select class='layout-type'><option value='1'>默认排版</option><option value='2'>缩略图排版</option><option value='3'>原图排版</option></select><select class='search-order'><option data-field='score' data-type='1'>带水印</option></select></div>";Ub.Dialog.show("截图设置",l,[{label:"确定",id:"btn-ok"}]);var k=nc("dialog");k.classList.add("ignore-keyboard");var m=k.querySelector(".layout-type");m.querySelector('[value="'+f+'"]').selected=!0,k.onclick=function(a){var b=a.target,c=b.tagName.toLowerCase();if("button"==c){Ub.Dialog.hide();var g=m.options[m.selectedIndex].value;if(g!=f){d.querySelector(".preview-comment-list").setAttribute("data-layout-type",g);var h=[].slice.call(e.querySelectorAll(".comment-image img"));3==f?h.forEach(function(a){a.src=a.getAttribute("thumb-src")}):3==g&&h.forEach(function(a){a.src=a.getAttribute("full-size-src")})}f=g}}}else if(h.contains("remove-qrcode"))e.querySelector(".qrcode")&&e.querySelector(".qrcode").remove();else if("img"==g||h.contains("comment-image")){if("android"==Ub.device.platform&&Ub.device.version<50||"ios"==Ub.device.platform)return;b=c;var n=b.querySelector("img");if("img"==g&&(n=c,b=Ub.findParent(c,".comment-image")),!b)return;h=b.classList;var o=b.getAttribute("data-layout-type")||f||1;1==o?(b.setAttribute("data-layout-type",2),n.src=n.getAttribute("full-size-src")):(b.setAttribute("data-layout-type",1),n.src=n.getAttribute("thumb-src"))}}}function ta(a){return new Promise(function(b,c){var d=new Image;d.onload=function(){b(d)},d.onerror=function(a){console.error(a),c(a)},d.src=a})}function ua(b,c,d){return new Promise(function(e,f){var g=document.createElement("canvas"),h=g.getContext("2d");g.width=b.naturalWidth,g.height=b.naturalHeight,h.fillStyle=Vb.nightMode?"#1f2525":"#ffffff",h.fillRect(0,0,g.width,g.height),h.drawImage(b,0,0),g.toBlob(function(b){var d=a.StorageFolder+"/screenshot/",g=d+c,h=a.StorageFolderPath+"screenshot/"+c;Ub.saveToStorage(b,g).then(function(){"ios"==a.Util.device.platform?cordova.plugins.saveToPhotoAlbum.save(h,function(a){e(h)},function(a){window.plugins.socialsharing.share(null,null,h,null),e(h)}):e(h)},function(a){console.error(a),f()})},"image/jpeg",parseInt(d,10)||.8)})}function va(){var a=new Date,b=document.querySelector("#preview-thread-section"),c=b.getAttribute("data-thread-id"),d=b.querySelector(".scrollable"),e=JSON.parse(localStorage.getItem("screenshotSetting"))||{width:800,height:"ios"==Ub.device.platform?15e3:16e3,quality:.8};d.scrollTop=0,g=g||{};var f=parseInt(e.width,10)/d.offsetWidth;f=1>f?1:f;var g={height:d.scrollHeight*f,width:d.scrollWidth*f,style:{transform:"scale("+f+")",webkitTransform:"scale("+f+")",transformOrigin:"top left",webkitTransformOrigin:"top left",width:d.scrollWidth+"px",height:d.scrollHeight+"px"}},h=parseInt(e.height,10)/f,i={},j=1,k=0,l=d.querySelector(".qrcode")?180:0;[].slice.call(d.querySelectorAll(".comment")).forEach(function(a,b){var c=a.getAttribute("data-adid")||a.getAttribute("data-thread-id");"9999999"!=c&&(k+=a.offsetHeight,k>j*h&&(j+=1),i[j]=i[j]||[],i[j].push({id:c,bottom:k}))});var m=[],n=0;for(var o in i){var p=i[o],q=(p.map(function(a){return a.id}),JSON.parse(JSON.stringify(g))),r=p[p.length-1].bottom-n+(1==o?68:0);r+=o==j?l:0,n=p[p.length-1].bottom,q.height=r*f,q.style.height=r,function(a){q.filter=function(b){var c=b.tagName?b.tagName.toLowerCase():"",d=b.classList;if(1!=a&&"header"===c)return!1;if("video"===c||"audio"===c)return!1;if(d){if(a!=j&&d.contains("qrcode"))return!1;if(d.contains("icon-setting")||d.contains("icon-help")||d.contains("icon-done")||d.contains("remove-qrcode"))return!1}if("img"===c&&(b.className="",b.src.indexOf("blob:")>-1))return!1;if(b.tagName&&"article"===b.tagName.toLowerCase()&&d.contains("comment")){var e=b.getAttribute("data-adid")||b.getAttribute("data-thread-id");return e&&i[a].map(function(a){return a.id}).indexOf(e)>-1?!0:!1}return!0},m.push(domtoimage.toSvg(d,q).then(function(a){return ta(a)}).then(function(b){return Pb(200).then(function(){var d=c+"-"+(10>a?"0":"")+a+"-"+(new Date).valueOf()+".jpg";return ua(b,d,e.quality||.8)})}))}(o)}var s="正在生成"+(j>1?j+"张":"")+"图片";navigator.notification&&navigator.notification.activityStart&&navigator.notification.activityStart("",s),window.ActivityIndicator&&ActivityIndicator.show&&ActivityIndicator.show(s),Promise.all(m).then(function(b){console.log("用时: ",new Date-a),navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop(),window.ActivityIndicator&&ActivityIndicator.hide&&ActivityIndicator.hide(),b=b||[],0!==b.length&&Ub.toast.show("保存成功")},function(a){console.error(a),navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop(),window.ActivityIndicator&&ActivityIndicator.hide&&ActivityIndicator.hide()})}function wa(a){var b='<svg xmlns="http://www.w3.org/2000/svg" width="180px" height="400px">';b+='<text x="10" y="50" text-anchor="start" fill-opacity="0.05" transform="rotate(-20, 80 25)" fill="#000" font-weight="bold" style="font-size:18px;">@A岛-匿名版</text>',b+="</svg>";var c="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(b))),d=a.querySelector(".watermark");d&&d.parentNode.removeChild(d),d=document.createElement("div"),d.className="watermark",d.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;background-repeat:repeat;background-image:url('"+c+"')",a.style.position="relative",a.insertBefore(d,a.firstChild)}function xa(){qc.push("search-section");var a=nc("search-section"),b=nc("input-search");nb(a,"current");var c=function(a){a=a.trim(),a&&(isNaN(a)?(wb(["oplist"]),ga({q:a}),nc("btn-search-navigate").style.display="none",xb(a),qc.exit("search-section")):(Ub.Dialog.show("请选择操作","",[{id:"btn-navigateToThread",label:"跳转串",className:"left"},{id:"btn-search",label:"搜索"}]),nc("dialog").onclick=function(b){var c=b.target,d=c.tagName.toLowerCase(),e=c.id;"button"==d&&(Ub.Dialog.hide(),xb(a),qc.exit("search-section"),"btn-navigateToThread"==e?(qa(),da(a)):"btn-search"==e&&(wb(["oplist"]),ga({q:a}),nc("btn-search-navigate").style.display="none"))}))};b.onkeyup=function(a){13==a.keyCode&&(a.stopPropagation(),a.preventDefault(),c(this.value))},a.onclick=function(d){var e=d.target,f=e.tagName.toLowerCase(),g=e.classList;if(g.contains("btn-back"))qc.exit("search-section");else if(g.contains("icon-search"))c(b.value);else if(g.contains("icon-filter")){var h="<div class='search-filter'><select class='search-range'></select><select class='search-order'><option data-field='score' data-type='1'>相关度从高到低</option></select></div>";Ub.Dialog.show("筛选",h,[{label:"确定",id:"btn-ok"}]);var i=nc("dialog");i.classList.add("ignore-keyboard");var j=i.querySelector(".search-range"),k=i.querySelector(".search-order"),l="<option data-forum-id='hacfun'>全部版块</option><option data-forum-id='local'>收藏和评论</option>";j.innerHTML=l,oc.forum=oc.forum||"hacfun",oc.sortField=oc.sortField||"score",oc.sortType=oc.sortType||"1",j.querySelector('[data-forum-id="'+oc.forum+'"]').selected=!0,k.querySelector('[data-field="'+oc.sortField+'"][data-type="'+oc.sortType+'"]').selected=!0,i.onclick=function(a){var b=a.target,c=b.tagName.toLowerCase();if("button"==c){Ub.Dialog.hide();var d=j.options[j.selectedIndex],e=k.options[k.selectedIndex],f=d.getAttribute("data-forum-id");oc.sortField=e.getAttribute("data-field")||"score",oc.sortType=e.getAttribute("data-type")||"1",oc.forum=f}}}else"a"==f&&(g.contains("clear-search-history")?(Ob(a.querySelector(".content")),window.LocalStorage.setItem("searchHistory","[]")):(b.value=e.textContent,b.focus(),cordova.plugins.Focus&&cordova.plugins.Focus.focus(b)))},window.LocalStorage.getItem("searchHistory").then(function(b){var c=JSON.parse(b)||[],d=document.createElement("ul");if(c.forEach(function(a){var b=document.createElement("li"),c=document.createElement("a");c.textContent=a,b.appendChild(c),d.appendChild(b)}),c.length>0){var e=document.createElement("li");e.innerHTML="<a href='#' style='color:#009688' class='clear-search-history'>清除搜索记录</a>",d.appendChild(e)}Nb(0,a.querySelector(".content"),d),d=null}),Pb(600).then(function(){b.focus(),cordova.plugins.Focus&&cordova.plugins.Focus.focus(b)})}function ya(){qc.push("importExport-section");var b=nc("importExport-section"),c=b.querySelector(".msg");nb(b,"current"),b.querySelector(".scrollable").scrollTop=0,b.onclick=function(b){b.preventDefault(),b.stopPropagation();var d=b.target,e=d.tagName.toLowerCase(),f=d.classList;if(f.contains("btn-back")&&qc.exit("importExport-section"),d="a"==e?d:Ub.findParent(d,"a")){var g=d.id;f=d.classList,"btn-export"==g?a.ImportExport.exportData(function(a){c.innerHTML=a,Vb.lastBackupTime=(new Date).valueOf(),window.LocalStorage.setItem("config",JSON.stringify(Vb))},function(){c.innerHTML+="备份结束"}):"btn-import"==g&&a.ImportExport.importData(function(a,b){c.innerHTML=a,Vb.lastBackupTime=(new Date).valueOf(),window.LocalStorage.setItem("config",JSON.stringify(Vb))},function(){c.innerHTML+="还原结束"})}},b.querySelector("#data-path").textContent="ios"==Ub.device.platform?"iOS用户请在iTunes-应用-文件共享上导入导出数据":"路径："+a.StorageFolderPath}function za(){qc.push("setting-section");var b=nc("setting-section");nb(b,"current"),Pb(400).then(function(){b.style.display="block",b.style.opacity=1}),b.onclick=function(b){b.preventDefault(),b.stopPropagation();var c=b.target,d=c.tagName.toLowerCase(),e=c.classList;if(e.contains("btn-back")&&qc.exit("setting-section"),c="a"==d?c:Ub.findParent(c,"a")){var f=c.id,g=c;if(e=c.classList,"night-mode"==f)e.contains("selected")?(e.remove("selected"),bc.classList.remove("night-mode")):(e.add("selected"),bc.classList.add("night-mode")),Vb.nightMode=!!e.contains("selected"),window.LocalStorage.setItem("config",JSON.stringify(Vb)),s();else if("select-theme"==f)Ub.Dialog.show("",[{label:"跟随系统",id:"btn-mode-0"},{label:"浅色主题",id:"btn-mode-1"},{label:"深色主题",id:"btn-mode-2"}]),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;if("button"==c){Ub.Dialog.hide(),g.querySelector("aside").textContent=b.textContent;var e="btn-mode-0"==d?0:"btn-mode-2"==d?2:1;if(Vb.theme=parseInt(e,10),window.LocalStorage.setItem("config",JSON.stringify(Vb)),Vb.theme)1===Vb.theme?(bc.classList.remove("night-mode"),Vb.nightMode=!1):2===Vb.theme&&(bc.classList.add("night-mode"),Vb.nightMode=!0),window.LocalStorage.setItem("config",JSON.stringify(Vb)),s();else{var f=matchMedia("(prefers-color-scheme: dark)");p(f)}}};else if("imgless-mode"==f)Ub.Dialog.show("",[{label:"始终有图",id:"btn-mode-1"},{label:"仅wifi下有图",id:"btn-mode-2"},{label:"不显示图片",id:"btn-mode-0"}]),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;if("button"==c){Ub.Dialog.hide(),g.querySelector("aside").textContent=b.textContent;var e="btn-mode-0"==d?0:"btn-mode-2"==d?2:1;Vb.imglessMode=parseInt(e,10),window.LocalStorage.setItem("config",JSON.stringify(Vb))}};else if("show-cite"==f)e.toggle("selected"),Vb.showCite=!!e.contains("selected"),window.LocalStorage.setItem("config",JSON.stringify(Vb));else if("app-fontSize"==f)Ma();else if("enable-tabbar"==f)e.toggle("selected"),Vb.enableTabBar=!!e.contains("selected"),"ios"==Ub.device.platform&&(Vb.enableTabBar?bc.classList.add("ios-tabbar-enabled"):bc.classList.remove("ios-tabbar-enabled")),window.LocalStorage.setItem("config",JSON.stringify(Vb));else if("enable-fullscreen"==f)e.toggle("selected"),Vb.enableFullScreen=!!e.contains("selected"),window.LocalStorage.setItem("config",JSON.stringify(Vb));else if("navigate-to"==f)Ub.Dialog.show("",[{label:"第一页",id:"btn-first"},{label:"最后一页",id:"btn-last"},{label:"上次看到的页",id:"btn-lastRead"}]),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;if("button"==c){Ub.Dialog.hide(),g.querySelector("aside").textContent=b.textContent;var e="btn-first"==d?1:"btn-last"==d?2:3;Vb.navigateTo=parseInt(e,10),window.LocalStorage.setItem("config",JSON.stringify(Vb))}};else if("gesture-sensitivity"==f){for(var h=[],i=0;10>i;i++)h.push({label:i+1});Ub.Dialog.show("",h,[{label:"取消"}]),nc("dialog").onclick=function(a){{var b=a.target,c=b.tagName.toLowerCase();b.id}if("button"==c){Ub.Dialog.hide();var d=parseInt(b.textContent,10);isNaN(d)||(g.querySelector("aside").textContent=d,Vb.sensitivity=d,window.LocalStorage.setItem("config",JSON.stringify(Vb)))}}}else if("importExport-data"==f)ya();else if("reorder-tabbar"==f)Ea();else if("diagnose-network"==f)Ra();else if("manage-cookie"==f)Aa();else if("bind-uuid"==f)Ub.Dialog.show("","<div style='margin-bottom: 10px;'>建议在不同设备使用同一ID，以同步收藏/订阅。</div><input type='text' contenteditable='true' value='"+Vb.uuid+"' needsclick needsfocus />",[{label:"使用默认",id:"btn-default",className:"left"},{label:"确定",id:"btn-ok"}]),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;if("button"==c){var e=this.querySelector("input");"btn-ok"==d&&e.value.trim()?(Vb.uuid=e.value.trim(),Ub.Dialog.hide()):"btn-default"==d&&(Vb.uuid=Vb.defaultUUID||device.uuid,e.value=Vb.uuid),window.LocalStorage.setItem("config",JSON.stringify(Vb))}};else if("clear-cache"==f){if(!window.cache||!window.cache.clear)return;window.cache.clear(function(){Ub.toast.show("清理成功")}),window.cache.cleartemp()}else"send-feedback"==f&&cordova.plugins.socialsharing.shareViaEmail("<br><br>\n\n反馈bug时请包含以下系统信息："+["客户端版本"+a.Version,navigator.connection.type,navigator.userAgent].join(";"),"ios"==Ub.device.platform?"关于芦苇iOS客户端":"关于芦苇安卓客户端",["runrun912@live.com"],null,null,null,function(){},function(){})}};var c=parseInt((Vb.appFontSize-54)/3,10)+1;if(Vb.showCite&&b.querySelector("#show-cite").classList.add("selected"),Vb.nightMode?b.querySelector("#night-mode").classList.add("selected"):b.querySelector("#night-mode").classList.remove("selected"),Vb.enableFullScreen&&"android"==Ub.device.platform&&b.querySelector("#enable-fullscreen").classList.add("selected"),b.querySelector("#imgless-mode aside").textContent=Vb.imglessMode?2==Vb.imglessMode?"仅wifi下有图":(1==Vb.imglessMode,"始终有图"):"不显示图片",b.querySelector("#select-theme aside").textContent=Vb.theme?1==Vb.theme?"浅色":2==Vb.theme?"深色":"跟随系统":"跟随系统",b.querySelector("#app-fontSize aside").textContent=c,b.querySelector("#navigate-to aside").textContent=1==Vb.navigateTo?"第一页":2==Vb.navigateTo?"最后一页":(3==Vb.navigateTo,"上次看到的页"),b.querySelector("#importExport-data p:last-of-type").innerHTML="上次操作时间："+(Vb.lastBackupTime?Ub.parseTime(Vb.lastBackupTime):"从未"),b.querySelector("#app-version p:last-of-type").innerHTML=a.Version,"ios"==Ub.device.platform){var d=b.querySelector("#enable-tabbar");d&&(d.parentNode.style.display="block",Vb.enableTabBar&&d.classList.add("selected")),nc("clear-cache").parentNode.style.display="block",nc("enable-fullscreen").parentNode.style.display="none",nc("importExport-data").parentNode.style.display="none",Ub.device.version>=13&&(nc("select-theme").parentNode.style.display="block",nc("night-mode").parentNode.style.display="none")}}function Aa(b){var c=nc("cookie-section"),d=c.querySelector(".cookie-list");b||(qc.push("cookie-section"),nb(c,"current"));var e=function(){var a=ac.createElement("ul"),b=0;h.forEach(function(c){var d="rb"+ ++b,e=ac.createElement("li");e.innerHTML="<input name='cookie' type='radio' id='"+d+"' value='"+c.userhash+"'"+(c.isActive?" checked":"")+"><label for='"+d+"'>"+c.name+"</label><button type='button' class='icon-cancel icon'></button>",a.appendChild(e)}),a.childNodes.length>0?(Ob(d),d.appendChild(a)):d.innerHTML="<p>一块能吃的饼干都没有！</p>",c.querySelector(".title").textContent="我的饼干 ("+b+")"};c.onclick=function(b){{var c=b.target,d=c.classList;c.id}if(d.contains("btn-back"))qc.exit("cookie-section");else if(d.contains("icon-add")){if("hacfun"!=Vb.site)return void Ub.toast.show("备胎岛不支持导入功能");Ba(function(){h=a.CookieCollection.filter(function(a){return a.site==Vb.site&&!a.isAdmin}),e()})}else if(d.contains("icon-add1")){var f=function(b){if(b){var c;"appreviewer"==b.toLowerCase()&&(c=!0);var d=Gb(b||"unknown");d&&(pc.put({name:name,userhash:b,isActive:!0,isAdmin:!1,site:Vb.site}),pc.setActive(cookieValue),h=a.CookieCollection.filter(function(a){return a.site==Vb.site&&!a.isAdmin}),Ub.toast.show("添加成功"),e(),g.blur())}},g=document.createElement("input");g.type="text",g.style.cssText="margin-left:1.2rem",g.setAttribute("placeholder","无效的饼干会导致饼干不停变化"),"android"==Ub.device.platform&&Ub.device.version<42&&g.setAttribute("contentEditable",!0),g.onkeyup=function(a){13==a.keyCode&&(a.stopPropagation(),a.preventDefault(),this.onkeyup=null,f(this.value.trim()))},Ub.Dialog.show("请输入饼干",g,[{label:"确定",id:"btn-ok"}]),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase(),c=a.target.id;"button"==b&&"btn-ok"==c&&f(g.value.trim())}}else if(d.contains("icon-cancel")){if(c=Ub.findParent(c,"li").querySelector("input"),!c)return;var i=c.value;Ub.Dialog.show("确定删除吗？","",[{label:"确定",id:"btn-ok"}]),nc("dialog").onclick=function(b){var c=b.target.tagName.toLowerCase(),d=b.target.id;"button"==c&&(Ub.Dialog.hide(),"btn-ok"==d&&(pc.remove(i),h=a.CookieCollection.filter(function(a){return a.site==Vb.site&&!a.isAdmin}),x(),e()))}}else d.contains("member-center")&&"hacfun"==Vb.site&&window.open(a.Nimingban.hacfun.api.host+"/Member","_system")};var f,g,h=a.CookieCollection.filter(function(a){return a.site==Vb.site&&!a.isAdmin});f=h.filter(function(a){return a.isActive})[0],f=f||h[h.length-1],f&&(f.isActive=!0,g=f.name||Gb(f.userhash)),e()}function Ba(b,c){var d=function(b){return new Promise(function(c,d){var e={s:"Ext.QrCode.Decode",file:b},f="EAA84BD7CA9D2C6A7010284D424EC400",g="EiUE9xvSCLqExoaM6kxnXhWlyYeWufTpPpfCfSJ4lWz2mO1Tkd8DAJ30qN3WxPDVBNhPDSBZsg";e.app_key=f,e.sign="";var h=Object.keys(e).sort(),i="";for(var j in h)i+=e[h[j]];e.sign=md5(i+g).toUpperCase(),navigator.notification&&navigator.notification.activityStart&&navigator.notification.activityStart("","正在识别"),window.ActivityIndicator&&ActivityIndicator.show&&ActivityIndicator.show("正在识别");var k="http://hn1.api.okayapi.com/",l=Wb.post(k,e,{responseType:"json",timeout:1e4}).then(function(a){navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop(),window.ActivityIndicator&&ActivityIndicator.hide&&ActivityIndicator.hide(),200!=a.ret?d():(a.data=a.data||{err_code:-1,text:""},0===a.data.err_code?c(JSON.parse(a.data.text)):d())})["catch"](function(a){navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop(),window.ActivityIndicator&&ActivityIndicator.hide&&ActivityIndicator.hide(),d()});a.NetRequest.qrcode=l})},e=function(a){navigator.notification.prompt("建议填写饼干ID，可不填",function(c){if(1==c.buttonIndex){var d=c.input1||"";d=d.trim()||Gb(a),pc.put({name:d,userhash:a,isActive:!0,isAdmin:!1,site:Vb.site}),pc.setActive(a).then(x,function(){}),Ub.toast.show("导入成功"),b&&b()}},"设置饼干别名",["确定","取消"],"",!1)},f=[{label:"扫码",id:"btn-scan-qrcode"},{label:"图库",id:"btn-pick-qrcode"},{label:"用户中心",id:"btn-open-member-center"}];Ub.Dialog.show("选择导入饼干方式",f),nc("dialog").onclick=function(a){var b=a.target.tagName.toLowerCase(),c=a.target.id;if("button"==b)if(Ub.Dialog.hide(),"btn-scan-qrcode"==c)cordova.plugins.barcodeScanner.scan(function(a){a=a||{};var b=a.text;return b=JSON.parse(b),b&&b.cookie?void e(b.cookie):void Ub.toast.show("二维码识别失败")},function(a){console.error(a)},{preferFrontCamera:!1,showFlipCameraButton:!1,showTorchButton:!1,prompt:"把二维码图案放置在区域内",resultDisplayDuration:500,formats:"QR_CODE",disableAnimations:!0,disableSuccessBeep:!1});else if("btn-pick-qrcode"==c){var f={targetWidth:400,targetHeight:400,quality:70,allowEdit:!1,saveToPhotoAlbum:!1,encodingType:Camera.EncodingType.PNG,mediaType:Camera.MediaType.PICTURE,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY},g=function(a,b){a=b?"data:image/png;base64,"+a:a;var c=function(){var b=document.createElement("img");b.src=a,b.onload=function(){var a=this.width,c=this.height,d=document.createElement("canvas");d.width=a,d.height=c;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,a,c),f.drawImage(b,0,0,a,c);var g=f.getImageData(0,0,a,c),h=jsQR(g.data,g.width,g.height);if(h&&h.data)try{h=JSON.parse(h.data),h&&h.cookie?e(h.cookie):Ub.toast.show("二维码识别失败")}catch(i){Ub.toast.show("二维码识别失败")}else Ub.toast.show("二维码识别失败")}},d=new QRCode.Decoder;d.scan(a).then(function(a){console.log(a.data),a=a.data||"";try{a=JSON.parse(a),a&&a.cookie?e(a.cookie):Ub.toast.show("二维码识别失败")}catch(b){c()}})["catch"](function(a){console.error("scan1:",a),c()})};navigator.camera.getPicture(function(a){a.indexOf("://")>-1?(a.indexOf("?")>-1&&(a=a.slice(0,a.indexOf("?"))),console.log(a),g(a)):d("data:image/png;base64,"+a).then(function(b){b&&b.cookie?e(b.cookie):g(a,!0)})["catch"](function(){g(a,!0)})},function(a){console.error(a)},f)}else"btn-open-member-center"==c&&Qa()}}function Ca(b){var c=[];qc.push("reorder-section");var d=nc("reorder-section"),e=d.querySelector(".content"),f=d.querySelector(".menu-reorder-thread"),g=d.querySelector(".menu-reorder-timeline"),h=d.querySelector(".my-list"),i=d.querySelector(".hidden-list");d.setAttribute("data-reorder-type",b),"thread"==b?(c=a.FrequentlyVisited,g.style.display="none",f.style.display="block",d.querySelector(".title").textContent="常用串管理"):(c=a.ForumList,f.style.display="none",g.style.display="block",d.querySelector(".title").textContent="版块管理"),nb(d,"current");var j=function(){e.style.display="none";var b=[],d=[];c.forEach(function(a){a.order?b.push(a):d.push(a)}),b.sort(function(a,b){return a.order-b.order});var f=b.concat(d);f.forEach(function(a){var b=ac.createElement("li");b.setAttribute("data-id",a.id),b.innerHTML="<span class='name'>"+a.name+'</span><span class="handle">&#xe8fe;</span>',a.order?h.appendChild(b):i.appendChild(b)}),e.style.display="block",a.SortableList=[],a.SortableList.push(Sortable.create(h,{group:"hac",handle:".handle",ghostClass:"sortable-ghost"})),a.SortableList.push(Sortable.create(i,{group:"hac",sort:!1,handle:".handle",ghostClass:"sortable-ghost",onAdd:function(a){for(var b=a.item,d=b.getAttribute("data-id"),e=0,f=c.length;f>e;e++)if(c[e].id==d){c[e].order=0;break}}}))};d.onclick=function(c){var d=c.target,e=d.tagName.toLowerCase(),f=d.classList;if(f.contains("btn-back"))qc.exit("reorder-section");else if(f.contains("icon-add")){var g=nc("dialog"),h="<div class='search-filter'><input type='number' pattern='[0-9]*' placeholder='ID（数字）'><input type='text' placeholder='备注' style='margin-top:1em'></div>";Ub.Dialog.show("添加串",h,[{label:"确定",id:"btn-ok"}]);var i=g.querySelector("input"),j=g.querySelector("input:last-child");"android"==Ub.device.platform&&Ub.device.version<42&&(j.setAttribute("contenteditable",!0),i.setAttribute("contenteditable",!0),
i.setAttribute("type","tel")),g.onclick=function(c){var d=c.target.tagName.toLowerCase();if("button"==d){var e=i.value.trim(),f=j.value.trim();if(e&&!isNaN(e)&&f){if(a.FrequentlyVisited.some(function(a){return a.id==e}))return void Ub.toast.show("此ID已存在");Ub.Dialog.hide();var g={id:e,name:f,order:1};a.FrequentlyVisited.unshift(g),Ca(b)}}}}else if(f.contains("icon-schedule"))Da();else if("span"==e||"li"==e){if("thread"!=b)return;d="span"==e?Ub.findParent(d,"li"):d;var k=d.getAttribute("data-id");if(!k)return;Ub.Dialog.show("确定删除吗？","",[{label:"确定",id:"btn-ok",className:"danger"}]),nc("dialog").onclick=function(b){var c=b.target.tagName.toLowerCase();"button"==c&&(Ub.Dialog.hide(),a.FrequentlyVisited=a.FrequentlyVisited.filter(function(a){return a.id!=k}),d.parentNode.removeChild(d))}}},a.SortableList&&a.SortableList.length>0&&a.SortableList.forEach(function(a){try{a.destroy()}catch(b){}}),Ob(h),Ob(i),j()}function Da(){var b=[];qc.push("reorder-timeline-section");var c=nc("reorder-timeline-section"),d=c.querySelector(".content"),e=(c.querySelector("menu"),c.querySelector(".my-list")),f=c.querySelector(".hidden-list");c.setAttribute("data-reorder-type","timeline"),b=a.Timeline,b=b.filter(function(a){return-1!=a.id}),b=b.map(function(a){return{id:a.id,name:a.name,order:"order"in a?a.order:1}}),nb(c,"current");var g=function(){d.style.display="none";var c=[],g=[];b.forEach(function(a){a.order?c.push(a):g.push(a)});var h=c.concat(g);h.forEach(function(a){var b=ac.createElement("li");b.setAttribute("data-id",a.id),b.innerHTML="<span class='name'>"+a.name+'</span><span class="handle">&#xe8fe;</span>',a.order?e.appendChild(b):f.appendChild(b)}),d.style.display="block",a.SortableTimelineList=[],a.SortableTimelineList.push(Sortable.create(e,{group:"hac",handle:".handle",sort:!1,ghostClass:"sortable-ghost"})),a.SortableTimelineList.push(Sortable.create(f,{group:"hac",sort:!1,handle:".handle",ghostClass:"sortable-ghost",onAdd:function(a){for(var c=a.item,d=c.getAttribute("data-id"),e=0,f=b.length;f>e;e++)if(b[e].id==d){b[e].order=0;break}}}))};c.onclick=function(a){var b=a.target,c=(b.tagName.toLowerCase(),b.classList);c.contains("btn-back")&&qc.exit("reorder-timeline-section")},a.SortableTimelineList&&a.SortableTimelineList.length>0&&a.SortableTimelineList.forEach(function(a){try{a.destroy()}catch(b){}}),Ob(e),Ob(f),g()}function Ea(){var b=[];qc.push("tabbar-reorder-section");var c=nc("tabbar-reorder-section"),d=c.querySelector(".content"),e=(c.querySelector("menu"),c.querySelector(".my-list")),f=c.querySelector(".hidden-list");b=a.tabbarList||a.Common.tabbarList,nb(c,"current");var g=function(){d.style.display="none";var c=[],g=[];b.forEach(function(a){a.order?c.push(a):g.push(a)}),c.sort(function(a,b){return a.order-b.order});var h=c.concat(g);h.forEach(function(a){var b=ac.createElement("li");b.setAttribute("data-id",a.action),b.innerHTML="<span class='name"+(a.icon?" icon "+a.icon:"")+"'>"+a.name+'</span><span class="handle">&#xe8fe;</span>',a.order?e.appendChild(b):f.appendChild(b)}),d.style.display="block",a.SortableTabbarList=[],a.SortableTabbarList.push(Sortable.create(e,{group:"hac",handle:".handle",ghostClass:"sortable-ghost"})),a.SortableTabbarList.push(Sortable.create(f,{group:"hac",sort:!1,handle:".handle",ghostClass:"sortable-ghost",onAdd:function(a){for(var c=a.item,d=c.getAttribute("data-id"),e=0,f=b.length;f>e;e++)if(b[e].action==d){b[e].order=0;break}}}))};c.onclick=function(a){var b=a.target,c=(b.tagName.toLowerCase(),b.classList);c.contains("btn-back")&&qc.exit("tabbar-reorder-section")},a.SortableTabbarList&&a.SortableTabbarList.length>0&&a.SortableTabbarList.forEach(function(a){try{a.destroy()}catch(b){}}),Ob(e),Ob(f),g()}function Fa(){qc.push("download-section");var b=nc("download-section"),c=b.querySelector(".content");nb(b,"current"),b.querySelector(".title").textContent="下载列表 ("+Object.keys(a.DownloadList).length+")";for(var d in a.DownloadList){var e=!("object"!=typeof a.DownloadList[d]),f=ac.createElement("div");f.className="item",f.setAttribute("data-download-id",d);var g="<div class='info'><span>No."+d+"</span><span>"+(e?"下载中":"未开始")+"</span></div>";g+="<button type='button' class='"+(e?"icon-pause icon":"icon-play icon")+"' title='"+(e?"暂停下载":"开始下载")+"'></button>",g+="<button type='button' class='icon-cancel icon' title='取消下载'></button>",f.innerHTML=g,c.appendChild(f)}b.onclick=function(b){var c=b.target,d=c.tagName.toLowerCase(),e=c.classList;if(e.contains("btn-back"))qc.exit("download-section");else{var f=a.Util.findParent(c,"[data-download-id]");if(!f||"button"!=d)return;var g=f.getAttribute("data-download-id");if(e.contains("icon-pause")){e.remove("icon-pause"),e.add("icon-play"),c.setAttribute("title","开始下载"),f.querySelector("span:last-child").textContent="未开始";try{a.DownloadList[g].stop()}catch(h){}}else e.contains("icon-cancel")?(a.DownloadManager.remove(g),f.parentNode.removeChild(f)):a.DownloadManager.add(g,"fullsize").then(function(){Ub.toast.show("下载已开始"),e.remove("icon-play"),e.add("icon-pause"),c.setAttribute("title","暂停下载"),f.querySelector("span:last-child").textContent="下载中"},function(a){Ub.toast.show(a)})}}}function Ga(b,c,d,e){var f,g,h=nc("reply-section"),i=nc("btn-send"),j=nc("dialog"),k=nc("checkbox-waterMark"),l=h.querySelector("textarea"),m=h.querySelector(".icon-more"),n=h.querySelector(".cookie-selector"),o=h.querySelector(".report-reason-selector"),p=(JSON.parse(localStorage.getItem("emojiUsage"))||{},{}),e=e||{},q=!1,r=4e4,s=(new Date).valueOf(),t=function(){return{state:"draft",selectedFile:null,fileName:null,mimeType:"image/jpeg",threadid:b||null,forumid:d||null,uniqueid:e.uniqueid||"comment-"+s}},u=function(){$b.getItem({where:{uniqueid:e.uniqueid}}).then(function(a){0!=a.length&&(a=a[0],l.value=a.content,nc("input-email").value=a.email||"",kc&&a.fileName)})},v=function(){kc=null,nc("input-email").value="",l.value="",clearTimeout(f),clearInterval(g),A(),Ub.Dialog.hide()},y=function(a){var b={targetWidth:"ios"==Ub.device.platform?2200:2500,targetHeight:"ios"==Ub.device.platform?2200:2500,quality:70,allowEdit:!1,correctOrientation:!0,saveToPhotoAlbum:!1,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.PICTURE,destinationType:Camera.DestinationType.FILE_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY};a&&(b.sourceType=Camera.PictureSourceType.CAMERA,b.quality=60),navigator.camera.getPicture(function(a){a.indexOf("content://")>-1&&window.FilePath?window.FilePath.resolveNativePath(a,function(a){a=a.indexOf("file://")>-1?a:"file://"+a,z(a)}):(a=a.indexOf("file://")>-1?a:"file://"+a,z(a))},function(a){console.error("getPicture:",a);var b="string"==typeof a?a:JSON.stringify(a);navigator.notification.alert(b,function(){},"出错了","确定")},b)},z=function(b){b.indexOf("?")>-1&&(b=b.slice(0,b.indexOf("?"))),console.log("insert:",b);{var c=b.slice(b.lastIndexOf("/")+1);b.slice(b.lastIndexOf(".")+1)}a.Xhr.get(b,null,{responseType:"arraybuffer",timeout:6e3,cache:!1}).then(function(a){if(console.log(a.byteLength),a.byteLength>2097152)return void Ub.toast.show("图片大小不能超过2MB");var d=null,e="image/"+b.slice(b.lastIndexOf(".")+1);e.indexOf("?")>-1&&(e=e.slice(0,e.indexOf("?")));try{d=new Blob([a],{type:e})}catch(f){var g=new(window.WebKitBlobBuilder||window.BlobBuilder);g.append(a),d=g.getBlob(e)}A(),Nb(0,nc("preview"),Ub.showImage(d)),c=c.replace(/(modified|cdv_photo)/,(new Date).valueOf()),kc.selectedFile=d,kc.fileName=c,kc.mimeType=e,h.querySelector(".reply-menu").classList.add("has-attachment")})},A=function(){var a=nc("preview").querySelector("img");a&&(Ub.freeImageMemory([a]),a.parentNode.removeChild(a)),kc&&(kc.selectedFile=null,kc.fileName=null,kc.mimeType=null),h.querySelector(".reply-menu").classList.remove("has-attachment"),nc("hidden-image").value=""},B=function(b){var c=[],d=[],e=-1==parseInt(b,10)?a.Timeline:a.ForumList;e.forEach(function(a){a.order?c.push(a):d.push(a)}),c.sort(function(a,b){return a.order-b.order});var f=c.concat(d),g=h.querySelector("#timelineSelector")||document.createElement("select"),i="";return-1==parseInt(b,10)&&(b=-1==parseInt(b,10)?f[0].id:b,Hb(b)),f.forEach(function(a){-1!=parseInt(a.id,10)&&(i+="<option value='"+a.id+"'"+(a.id==b?" selected":"")+">"+a.name+"</option>")}),g.id="timelineSelector",g.innerHTML=i,g.onchange=function(){kc.forumid=this.value,Hb(this.value)},g},C=function(b){var c=a.CookieCollection.filter(function(a){return a.site==Vb.site&&!a.isAdmin}),d="";c.forEach(function(a){a.name=a.name||"",d+="<option value='"+a.userhash+"'"+(a.isActive?" selected":"")+">"+a.name+"</option>"}),n.style.display=d?"block":"none",n.innerHTML=d,n.onchange=function(){var a=this.value;pc.setActive(a).then(x)}},D=function(){var a=["引战辱骂","政治敏感","串版自删","谣言欺诈","广告Q群","黄赌毒","其他"],b=new RegExp("举报理由：("+a.join("|")+")"),c='<option value="">请选择举报理由</option>';a.forEach(function(a,b){c+="<option value='"+a+"'>"+a+"</option>"}),o.innerHTML=c,o.onchange=function(){var a=this.value,c=l.value;b.test(c)?l.value=l.value.replace(b,function(b){return"举报理由："+a}):l.value+="举报理由："+a+"\n",setTimeout(function(){Ub.moveCaretToEnd(l)},0)}},E=function(a){var b=l.value,c=l.selectionEnd,d=b.slice(0,c),e=b.slice(c),f=c+a.length;l.value=d+a+e,l.setSelectionRange(f,f),l.focus(),nc("emoji-container").style.display="none",Pb(150).then(function(){l.focus()})},F=function(b){Yb.getItem(Tb.cookieKey,Tb.api.host).then(function(c){var d=a.CookieCollection.filter(function(a){return a.userhash==c&&!a.isAdmin})[0];if(!d)return void(b=null);b=b||[];for(var e=(d.name||"").toLowerCase(),f=0,g=b.length;g>f;f++)if(b[f].userid.toLowerCase()==e){p.threadid=p.threadid||String(b[f].id),p.uid=b[f].userid,X(p);break}b=null})},H=function(){var a=kc.selectedFile||null;if(a){var b=Ub.getMimeType(a.contentType||a.type),c=kc.fileName||"image"+s+"."+b;c.indexOf(".jpg")<0&&c.indexOf(".png")<0&&c.indexOf(".gif")<0&&(c=c+s+".jpg"),kc.fileName=c}return kc.forumid&&-1==kc.forumid&&(kc.forumid=h.querySelector("#timelineSelector").options[0].value),{uniqueid:kc.uniqueid,forumid:kc.forumid,forumName:Ub.getForumName(kc.forumid),uid:"",threadid:kc.threadid,state:"draft",mode:"comment",site:Vb.site,title:"",name:"",email:nc("input-email").value,file:a,fileName:kc.fileName,content:l.value,replyPage:1,created:s,updated:s}},I=function(a){return new Promise(function(b,c){var d=[],e=0;for(var f in a)if("image"==f){var g=a[f],h=new FileReader,i=d.length;h.onload=function(a){d[i]+=a.target.result+"\r\n",e--,0>=e&&b(d)},d.push('Content-Disposition: form-data; name="image"; filename="'+unescape(encodeURIComponent(a.fileName))+'"\r\nContent-Type: '+(kc.mimeType||"image/jpeg")+"\r\n\r\n"),e++,h.readAsBinaryString(g)}else d.push('Content-Disposition: form-data; name="'+f+'"\r\n\r\n'+unescape(encodeURIComponent(a[f]))+"\r\n");0>=e&&b(d)})},J=function(){Ub.Dialog.show("正在发送...","<img src='image/luwei-running.gif' />","",!1),j.onclick=null,j.addEventListener("hide",function e(){nc("dialog").removeEventListener("hide",e),clearTimeout(f),clearInterval(g),console.log("clear luweiTimer")}),r=p.file?18e4:r;var a=j.querySelector("img"),b=a.parentNode.clientWidth-a.clientWidth,c=0,d=r/b;g=setInterval(function(){if(c+=1,a&&b>c){var d="translateX("+c+"px)";a.style.cssText="-webkit-transform:"+d+"; transform:"+d}else clearInterval(g)},d)},K=function(b){return new Promise(function(c,d){var e=b||"找不到饼干";return Tb.api.cookie?void Wb.get(Tb.api.cookie,{appid:Tb.api.appid},null).then(function(a){if(a.indexOf("error")>-1)throw"获取饼干失败";c()})["catch"](function(a){var a=Ub.getErrorMsg(this).msg||a&&String(a).slice(0,100)||"未知原因";Ub.Dialog.show("发送失败",a,[{label:"好的",id:"btn-ok"}]),d(a)}):(e+='，可能原因：<div><p>1. 尚未注册：请先<button type="button" class="button" id="btn-register">点击注册</button></p><p>2. 未导入饼干：已注册用户请<button type="button" class="button" id="btn-import-cookie">领取并导入饼干</button></p></div>',Ub.Dialog.show("发送失败",e,[{label:"好的",id:"btn-ok"}]),nc("dialog").onclick=function(b){var c=b.target,d=c.tagName.toLowerCase(),e=c.id;"button"==d&&(Ub.Dialog.hide(),"btn-register"===e?Qa(a.Nimingban.hacfun.api.host+"/Member/User/Index/sendRegister.html"):"btn-import-cookie"===e&&Ba())},void d(e))})},L=function(a,b){console.log(a+", "+b);var c=parseInt(a/b*100);c>97&&!q?(q=!0,f=setTimeout(function(){"draft"==p.state&&("closed"==j.getAttribute("data-state")?clearInterval(g):j.querySelector(".dialog-title").textContent="等待服务器处理附件")},5e3)):"closed"==j.getAttribute("data-state")?clearInterval(g):j.querySelector(".dialog-title").textContent="正在发送("+c+"%)"},M=function(){i.disabled=!1,v(),p.replyPage=p.forumid?1:parseInt(nc("thread-section").getAttribute("data-total-page"),10)||1,p.state="sent",p.updated=(new Date).valueOf(),p.threadid=p.threadid||"",p.threadid+="",X(p);var b="发送成功";if("current"!=h.getAttribute("data-position"))return void Ub.toast.show(b);if(w(),qc.exit("reply-section"),p.forumid)if(p.forumid==a.Reportid)Pb(3e3).then(function(){Wb.get(Tb.api.forum,{id:a.Reportid,page:1,appid:Tb.api.appid},{responseType:"json"}).then(function(a){F(a)})["catch"](function(a){})});else{b="发送成功，正在处理新串...";for(var c in a.OPListCache)delete a.OPListCache[c];Pb(3e3).then(function(){return ca(p.forumid)}).then(function(a){F(a)})}else Pb(500).then(function(){return da(p.threadid,"last")}).then(function(a){F(a.replys)});Ub.toast.show(b)},N=function(b,c){console.error(b),b=Ub.getErrorMsg(c).msg||b&&String(b).slice(0,100)||"未知原因",i.disabled=!1,clearTimeout(f),clearInterval(g),Ub.Dialog.hide(),X(p);var d=p.forumid?Tb.api.postThread:Tb.api.replyThread;Eb(d,c.responseURL||"")||(p.forumid?a.RedirectPostThread=c.responseURL||"":a.RedirectReplyThread=c.responseURL||""),b+=b.indexOf("没有饼干")>-1&&!Tb.api.cookie?'，可能原因：<div><p>饼干无效，请到“饼干管理”选择另一块饼干重试，或者重新<button type="button" class="button" id="btn-import-cookie">领取并导入饼干</button></p></div>':b.indexOf("亚达")>-1?"<div><p>错误URL："+d+", "+(c.responseURL||"")+"</p><br>请重新发送</div>":"<div><p>若反复出现相同问题，请到“技术支持”版块询问</p></div>",Ub.Dialog.show("发送失败",b,[{label:"好的",id:"btn-ok"}]),nc("dialog").onclick=function(b){var c=b.target,d=c.tagName.toLowerCase(),e=c.id;"button"==d&&(Ub.Dialog.hide(),"btn-register"===e?Qa(a.Nimingban.hacfun.api.host+"/Member/User/Index/sendRegister.html"):"btn-import-cookie"===e&&Ba())}},O=function(){var b={appid:Tb.api.appid,content:p.content,name:p.name,email:p.email,title:p.title};k.checked?b.water=!0:delete b.water,Vb.waterMark=!!k.checked,window.LocalStorage.setItem("config",JSON.stringify(Vb)),p.forumid&&(b.fid=p.forumid),p.threadid&&(b.resto=p.threadid),p.file&&(b.image=p.file)&&(b.fileName=p.fileName),Vb.useAdminAccount&&(b.fileName=p.fileName),J(),I(b).then(function(b){for(var c=p.file&&p.file.size>204800,d=p.forumid?a.RedirectPostThread||Tb.api.postThread:a.RedirectReplyThread||Tb.api.replyThread,e="---------------------------"+Date.now().toString(16),f="--"+e+"\r\n"+b.join("--"+e+"\r\n")+"--"+e+"--\r\n",g=f.length,h=new Uint8Array(g),j=0;g>j;j++)h[j]=255&f.charCodeAt(j);var k=Wb.before(function(){this.upload.onprogress=function(a){a.lengthComputable&&c&&L(a.loaded,a.total)}}).post(d,h.buffer,{responseType:"document",dataType:"arraybuffer",headers:{"Content-Type":"multipart/form-data; boundary="+e},timeout:r}).then(function(a){var b=a.querySelector(".system-message .error")||a.querySelector(".error"),c=b&&b.textContent?b.textContent:"";if(Ob(a),a=null,c)throw c;M()})["catch"](function(a){N(a,this)});i.disabled=!0,wb(["post"]),a.NetRequest.post=k})};h.onclick=function(b){var c=b.target,e=c.classList,f=c.tagName.toLowerCase(),g=c.id;if(e.contains("btn-back"))qc.exit("reply-section");else if("btn-send"==g){if(!kc.forumid&&!kc.threadid)return;if(("hacfun"==Vb.site&&18==kc.forumid||"hacfun"!=Vb.site&&5==kc.forumid)&&!o.value){var h=document.createEvent("MouseEvents");return h.initMouseEvent("mousedown",!0,!0,window),void o.dispatchEvent(h)}if(!a.firstRunGuide.reply){var i=5,j=function(){var b=nc("btn-timer");return b?void(i>=1?(i-=1,b.disabled=!0,b.textContent="好的("+i+"秒)"):(b.disabled=!1,b.textContent="好的",clearInterval(a.firstReplyTimer))):void clearInterval(a.firstReplyTimer)};return Ub.Dialog.show("温馨提示",'初来乍到，岛风喧嚣，这里是一份求生指南：<br><br>1、请遵守版规（<a href="https://adnmb.com/Forum" target="_blank" class="external-link">点击查看</a>），否则会被举报和删封<br><br>2、尊重岛风，提及<span style="font-weight:bold">新人、情感、外站话题</span>时请格外慎重<br><br>3、自删串(贴)可以通过举报实现，回复可以通过点击串号引用实现，本站无回复提醒功能<br>',[{label:"好的",id:"btn-timer"}],!1),a.firstReplyTimer&&clearInterval(a.firstReplyTimer),a.firstReplyTimer=setInterval(j,1e3),j(),void(nc("dialog").onclick=function(b){{var c=b.target,d=c.tagName.toLowerCase();c.id}("button"==d||"a"===d)&&("a"===d&&(b.preventDefault(),b.stopPropagation(),Sa("adao_rule.html?"+Vb.site+(Vb.nightMode?"&nightmode":""),"版规")),a.firstReplyTimer&&clearInterval(a.firstReplyTimer),Ub.Dialog.hide(),a.firstRunGuide.reply=!0,window.LocalStorage.setItem("firstRun",JSON.stringify(a.firstRunGuide)))})}var k=nc("preview").querySelector("img");if(k||(kc.selectedFile=null,kc.fileName=null),p=H(),!(p.content.trim()||p.fileName||p.name||p.email||p.title))return void Ub.toast.show("内容不能为空");var l=function(){var b=a.CookieCollection.filter(function(a){return a.site==Vb.site&&!a.isAdmin});if(0===b.length)return null;var c=pc.getActive();return c||(c=b[b.length-1],pc.setActive(c.userhash).then(x,function(){})),c&&c.name&&"hacfun"==Vb.site&&(p.uid=c.name),c};Yb.getItem(Tb.cookieKey,Tb.api.host).then(function(b){if(b&&"deleted"!=b){var c=a.CookieCollection.filter(function(a){return a.userhash===b})[0];c&&c.name&&"hacfun"==Vb.site&&(p.uid=c.name),O()}else l()?x().then(O,O):(Ub.Dialog.show("找不到饼干","正在尝试获取饼干..."),K().then(O,function(){X(p)}))},function(){l()?x().then(O,O):(Ub.Dialog.show("找不到饼干","正在尝试获取饼干..."),K().then(O,function(){X(p)}))})}else if("a"==f){{c.getAttribute("num")}E(c.textContent)}else if("btn-select-emoji"==g)if("none"==nc("emoji-container").style.display){var m=cordova.plugins.Keyboard?cordova.plugins.Keyboard.isVisible:a.isKeyboardVisible;Pb(m&&"ios"!=Ub.device.platform?500:0).then(function(){nc("media-container").style.display="none",nc("btn-select-media").classList.remove("active"),nc("emoji-container").style.display="block",nc("btn-select-emoji").classList.add("active")})}else nc("emoji-container").style.display="none",nc("btn-select-emoji").classList.remove("active");else if("btn-select-media"==g)if("none"==nc("media-container").style.display){var m=cordova.plugins.Keyboard?cordova.plugins.Keyboard.isVisible:a.isKeyboardVisible;Pb(m&&"ios"!=Ub.device.platform?500:0).then(function(){nc("media-container").style.display="block",nc("btn-select-media").classList.add("active"),nc("emoji-container").style.display="none",nc("btn-select-emoji").classList.remove("active")})}else nc("media-container").style.display="none",nc("btn-select-media").classList.remove("active");else if(e.contains("icon-image"))y();else if(e.contains("icon-camera"))y("camera");else if(e.contains("icon-gesture"))Ha();else if(e.contains("icon-luwei"))Ia();else if("img"==f||"preview"==g)A();else if("btn-save-as-draft"==g){if(p=H(),!(p.content.trim()||p.fileName||p.name||p.email||p.title))return void Ub.toast.show("没有要保存的内容");p.uid="",X(p,function(){Ub.toast.show("草稿已保存在“我的评论”")})}else if(e.contains("icon-more")){var n=[{label:"版规",action:"rule"},{label:"填邮箱",action:"email"}];Ub.Dialog.showMenu(b.touches&&b.touches[0]||b,n),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),e=b.getAttribute("data-action");if("button"==c&&e)if(Ub.Dialog.hide(),"rule"===e){var f=d||nc("oplist-section").getAttribute("data-forum-id")||"";f=f&&-1!=f?"#f"+f:"",Sa("adao_rule.html?"+Vb.site+(Vb.nightMode?"&nightmode":"")+f,"版规")}else"email"===e&&navigator.notification.prompt("",function(a){1==a.buttonIndex&&(a.input1?nc("input-email").value=a.input1||"":nc("input-email").value="")},"填写邮箱",["确定","取消"],nc("input-email").value||"",!0)}}},l.onfocus=function(){nc("media-container").style.display="none",nc("emoji-container").style.display="none",nc("btn-select-media").classList.remove("active"),nc("btn-select-emoji").classList.remove("active")},"ios"==Ub.device.platform&&(l.ontouchstart=function(a){a.stopPropagation()});try{a.isFullScreen=!1,Ub.exitFullScreen()}catch(P){}nb(h,"current"),qc.exit(["gallery-section","sketch-section"]),qc.push("reply-section"),b=d||b?b:nc("thread-section").getAttribute("data-thread-id"),h.querySelector(".title").textContent=d?"新串":"回复",d&&h.querySelector(".title").appendChild(B(d)),D(),C(),kc?(d&&kc.forumid!=d||b&&kc.threadid!=b)&&(kc.selectedFile=null,v(),kc=new t):(v(),kc=new t),e.isReport&&(e.page=e.page||1,l.value+=Tb.api.staticHost+"/t/"+e.parentId+(1===e.page?"":"?page="+e.page)+"\n"),l.value+=c?">>No."+c+"\n":"",d?-1!=d&&Hb(d):Hb(nc("thread-section").getAttribute("data-forum-id")),e.uniqueid&&u(),e.camera&&y("camera"),e.image&&z(e.image),Pb("ios"==Ub.device.platform?700:500).then(function(){var a=!0;if(d?(-1==parseInt(d,10)||"hacfun"==Vb.site&&18==d||"hacfun"!=Vb.site&&5==d)&&(a=!1):a=!0,nc("toTop-fab").style.display="none",i.disabled=!1,m.disabled=!1,a)l.focus(),cordova.plugins.Focus&&cordova.plugins.Focus.focus(l),setTimeout(function(){Ub.moveCaretToEnd(l)},0);else{var b=document.createEvent("MouseEvents");if(b.initMouseEvent("mousedown",!0,!0,window),-1==parseInt(d,10)){var c=h.querySelector("#timelineSelector");c.dispatchEvent(b)}else("hacfun"==Vb.site&&18==d||"hacfun"!=Vb.site&&5==d)&&o.dispatchEvent(b)}}),!Vb.isAppstoreReview&&(m.style.display="block"),i.disabled=!0,m.disabled=!0,k.checked=!!Vb.waterMark,rb(),"android"!=Ub.device.platform||a.view||(Ub.removeEventListener(ac.querySelector("#oplist-section .scrollable"),"scroll",G),Ub.removeEventListener(ac.querySelector("#thread-section .scrollable"),"scroll",G))}function Ha(){qc.push("sketch-section");var b=nc("sketch-section"),c=b.querySelector("figure"),d=nc("palette-container"),e=nc("brush-container"),f=function(){Ob(d);var a=ac.createDocumentFragment(),b=ac.createElement("ul"),c=["#000000","#555555","#999999","#0a67a3","#3e97d1","#8ec9ef","#ff0000","#f56c36","#f8a881","#009688","#7ed616","#ddec38","#a15f9d","#f580e3","#ffc0cb","#800080","#ffff00","#8a5025","#ef934d","#ffffff"];c.forEach(function(b){var c=ac.createElement("li");c.innerHTML="<a href='#' style='background-color:"+b+"' data-color='"+b+"'></a>",a.appendChild(c)}),b.appendChild(a),d.appendChild(b)},g=function(){Ob(e);var a=ac.createDocumentFragment(),b=ac.createElement("ul"),c=[2,4,6,10,16,24];c.forEach(function(b,c){var d=ac.createElement("li");d.innerHTML="<a href='#' data-size="+b+" style='font-size:"+(b+10)+"px'>"+b+"</a>",a.appendChild(d)}),b.appendChild(a),e.appendChild(b)};b.onclick=function(b){var c=b.target,f=c.tagName.toLowerCase(),g=c.classList;if(g.contains("btn-back"))qc.exit("sketch-section");else if(g.contains("icon-undo"))Sb.undo(),d.style.display="none",e.style.display="none";else if(g.contains("icon-delete")){if(Sb.strokes&&Sb.strokes.length<=0)return Sb.remove(),d.style.display="none",void(e.style.display="none");Ub.Dialog.show("确定重置吗？","",[{label:"取消",id:"btn-cancel",className:"left"},{label:"确定",id:"btn-ok",className:"danger"}]),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),f=b.id;"button"==c&&(Ub.Dialog.hide(),"btn-ok"==f&&(Sb.remove(),d.style.display="none",e.style.display="none"))}}else if(g.contains("icon-palette"))d.style.display="block"==d.style.display?"none":"block",e.style.display="none";else if(g.contains("icon-brush"))e.style.display="block"==e.style.display?"none":"block",d.style.display="none";else if(g.contains("icon-done"))h.toBlob(function(b){var c=(new Date).valueOf()+".png";if(Ub.saveToStorage(b,a.StorageFolder+"/image/"+c),kc){kc.selectedFile=b,kc.fileName=c,kc.mimeType="image/png",document.querySelector(".reply-menu").classList.add("has-attachment");var d=nc("preview"),e=d.querySelector("img");e&&(Ub.freeImageMemory([e]),e.parentNode.removeChild(e)),nc("hidden-image").value="",Nb(0,d,a.Util.showImage(b))}Sb&&Sb.remove(),qc.exit("sketch-section")},"image/png");else if("a"==f){var i=c.getAttribute("data-color"),j=c.getAttribute("data-size");i?Sb&&Sb.setPenColor(i):Sb&&Sb.setPenSize(j),d.style.display="none",e.style.display="none"}else d.style.display="none",e.style.display="none"},nb(b,"current");var h=ac.createElement("canvas");h.id="sketchpad",Nb(0,c,h),Pb(600).then(function(){a.SketchpadHistory.length>0?(Ub.Dialog.show("存在一个涂鸦记录，是否进入","",[{label:"不进入并删除",id:"btn-cancel",className:"left danger"},{label:"进入",id:"btn-ok"}],!1),nc("dialog").onclick=function(b){var d=b.target,e=d.tagName.toLowerCase(),f=d.id;"button"==e&&(Ub.Dialog.hide(),"btn-ok"==f?Sb=new a.Sketchpad({element:h,width:c.clientWidth,height:c.clientHeight,strokes:a.SketchpadHistory}):"btn-cancel"==f&&(a.SketchpadHistory=[],Sb=new a.Sketchpad({element:h,width:c.clientWidth,height:c.clientHeight})))}):Sb=new a.Sketchpad({element:h,width:c.clientWidth,height:c.clientHeight})}),f(),g()}function Ia(){for(var b="<div class='luwei-container'>",c=1;106>=c;c++)b+="<div class='luwei-img'><img src='image/luwei/"+c+".png' /></div>";b+="</div>",Ub.Dialog.show("请选择",b,[{label:"取消"}],!1),nc("dialog").onclick=function(b){var c=b.target,d=c.tagName.toLowerCase(),e=(c.id,c.src);("img"==d||"button"==d)&&(Ub.Dialog.hide(),e&&a.Xhr.get(e,null,{responseType:"arraybuffer",timeout:6e3,cache:!1}).then(function(b){console.log(b.byteLength),e.indexOf("?")>-1&&(e=path.slice(0,e.indexOf("?")));var c=null,d="image/"+e.slice(e.lastIndexOf(".")+1);try{c=new Blob([b],{type:d})}catch(f){var g=new(window.WebKitBlobBuilder||window.BlobBuilder);g.append(b),c=g.getBlob(d)}if(kc){var h=e.slice(e.lastIndexOf("/")+1);kc.selectedFile=c,kc.fileName=h,kc.mimeType="image/png",document.querySelector(".reply-menu").classList.add("has-attachment");var i=nc("preview"),j=i.querySelector("img");j&&(Ub.freeImageMemory([j]),j.parentNode.removeChild(j)),nc("hidden-image").value="",Nb(0,i,a.Util.showImage(c))}}))}}function Ja(b,c){c=c||{},c.continuous=c.continuous||"",c.dataFolder=c.dataFolder||"";var d=Ab(nc("thread-section")),e={src:b,continuous:c.continuous,dataFolder:c.dataFolder,storageFolder:a.StorageFolder,threadid:d.id,firstPage:c.firstPage||d.firstPage||1,totalPage:c.totalPage||d.totalPage||0,threadPerPage:Vb.threadPerPage||19,nightMode:Vb.nightMode,site:Vb.site,current:a.Current,cache:c.cache||a.ThreadCache&&a.ThreadCache[d.id]||{},screenshots:c.screenshots};localStorage.setItem("gallery",JSON.stringify(e)),webview.show("gallery.html")}function Ka(){qc.push("edit-section");var a=nc("edit-section"),b=nc("oplist-section");nb(a,"current"),a.onclick=function(a){a.preventDefault(),a.stopPropagation();var c=(a.type,a.target),d=c.classList;if(d.contains("btn-exit-edit"))qc.exit("edit-section");else if(d.contains("btn-select-all")){var e="全选"==c.textContent?!0:!1;c.textContent=e?"取消全选":"全选";for(var f=b.querySelectorAll(".comment"),g=0,h=f.length;h>g;g++){var i=f[g];e?i.classList.add("selected"):i.classList.remove("selected")}}else if(d.contains("btn-delete-selected")){var f=b.querySelectorAll(".comment.selected"),h=f.length;if(0==h)return void Ub.toast.show("没有选择任何项");for(var j=[],k=[],g=0,h=f.length;h>g;g++){var l=f[g].getAttribute("data-uniqueid"),m=f[g].getAttribute("data-thread-id");l&&j.push(l),m&&k.push(m)}var n=b.getAttribute("data-section-id");"favor"==n?(qc.exit("edit-section"),T(k,"del").then(function(){Ub.toast.show("删除成功"),"favor"==b.getAttribute("data-section-id")&&aa()},function(){Ub.toast.show("删除失败")})):"comment"==n?(qc.exit("edit-section"),$b.removeItem({where:{uniqueid:j}}).then(function(){Ub.toast.show("删除成功"),_()})):"history"==n&&(qc.exit("edit-section"),$b.removeItem({where:{uniqueid:j}}).then(function(){Ub.toast.show("删除成功"),$()}))}},a.querySelector(".btn-select-all").textContent="全选",b.classList.add("edit-mode");for(var c=b.querySelectorAll(".comment"),d=0,e=c.length;e>d;d++){var f=c[d],g=document.createElement("div");g.className="edit",g.innerHTML='<div class="checkbox"><input type="checkbox" /><label></label></div>',f.appendChild(g)}}function La(){qc.push("thread-tabbar-section");var a=nc("thread-tabbar-section"),b=nc("thread-section");nb(a,"current"),a.querySelector(".btn-select-all").textContent="反选",b.classList.add("edit-mode");for(var c=b.querySelectorAll(".comment"),d=0,e=c.length;e>d;d++){var f=c[d],g=document.createElement("div");g.className="edit",g.innerHTML='<div class="checkbox"><input type="checkbox" /><label></label></div>',f.getAttribute("data-adid")||f.classList.add("selected"),f.appendChild(g)}}function Ma(){qc.push("font-section");var b=nc("font-section"),c=(b.querySelector(".content"),b.querySelector("fieldset")),d=nc("_custom_style");d||(d=document.createElement("style"),bc.appendChild(d));for(var e=a.LoadingText,f=e.length,g="<legend>预览</legend>",h=0;5>h;h++)g+=e[Math.floor(Math.random()*f)]+"<br>";c.style.fontSize=16*Vb.appFontSize/62.5+"px",c.innerHTML=g,b.onclick=function(a){var b=a.target,c=(b.tagName.toLowerCase(),b.classList);c.contains("btn-back")&&qc.exit("font-section")};var i=(Vb.appFontSize-54)/3+1,j=Ub.formatFloat((Vb.appLineHeight-1.1)/.1)+1,k=Ub.formatFloat((Vb.appLetterSpacing- -.03)/.015)+1,l=b.querySelector(".range-container"),m=l.querySelector(".app-font-size"),n=l.querySelector(".app-line-height"),o=l.querySelector(".app-letter-spacing"),p=b.querySelector(".select-container"),q=p.querySelector(".app-font-size"),r=p.querySelector(".app-line-height");if("android"==Ub.device.platform&&Ub.device.version<44||"ios"==Ub.device.platform){p.style.display="block";for(var h=1,s="";10>=h;h++)s+="<option value='"+h+"'"+(i==h?" selected":"")+">字号 "+h+"</option>";q.innerHTML=s;for(var h=1,s="";10>=h;h++)s+="<option value='"+h+"'"+(j==h?" selected":"")+">行距 "+h+"</option>";r.innerHTML=s;var t=b.querySelector(".scrollable");Ub.removeEventListener(t,"touchstart touchmove touchend touchcancel",H),Ub.addEventListener(t,"touchstart touchmove touchend touchcancel",H)}else l.style.display="block",m.value=i,n.value=j,o.value=k,m.setAttribute("data-label","字号 "+i),n.setAttribute("data-label","行距 "+j),o.setAttribute("data-label","字距 "+k);m.oninput=q.onchange=function(a){var b=parseInt(this.value,10);this.setAttribute("data-label","字号 "+b);var d=54+3*(b-1);Vb.appFontSize=d,console.log(16*Vb.appFontSize/62.5+"px"),c.style.fontSize=16*Vb.appFontSize/62.5+"px"},n.oninput=r.onchange=function(a){var b=parseInt(this.value,10);this.setAttribute("data-label","行距 "+b);var d=Ub.formatFloat(1.1+.1*(b-1),3);Vb.appLineHeight=d,c.style.lineHeight=d},o.oninput=function(a){var b=parseInt(this.value,10);this.setAttribute("data-label","字距 "+b);var d=Ub.formatFloat(-.03+.015*(b-1),3);Vb.appLetterSpacing=d,c.style.letterSpacing=d+"em"},nb(b,"current")}function Na(a){qc.push("game-section");var b=nc("game-section"),c=b.querySelector(".content");nb(b,"current",!0);var d=c.querySelector("iframe");return d||(d=document.createElement("iframe"),c.appendChild(d)),d.setAttribute("src",a+(Vb.nightMode?"?night":"")),d.setAttribute("scrolling","no"),b.onclick=function(a){var b=a.target,c=(b.tagName.toLowerCase(),b.classList);c.contains("btn-back")&&qc.exit("game-section")},!0}function Oa(b){function c(){if(j){j.insertCSS({code:"@media screen and (max-width:1280px) {form td {display:block} form td:last-child{border-bottom: 2px solid #009688; margin-bottom: 20px;} form td a {margin-right:30px} form td pre{clear:both} .clone-pagination{padding:0 20px 20px 20px;}}"});var a="var paginationContainer = document.querySelector('.container-fluid .col-md-3 p.text-center');if (paginationContainer && !document.querySelector('.clone-pagination')) {var clone = paginationContainer.cloneNode(true);clone.className = 'clone-pagination';document.body.appendChild(clone);}";j.executeScript({code:a})}}function d(){}function e(b){clearTimeout(a.iabTimer),clearInterval(a.iabCSSTimer),navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop();b.url;c(),window.LocalStorage.getItem("adminUser").then(function(a){var b=JSON.parse(a)||{userName:"",password:""},c='var userName="'+b.userName+'";var password="'+b.password+'";';c+="					var paginationContainer = document.querySelector('.container-fluid .col-md-3 p.text-center');					var ios = navigator.userAgent.match(/(iPhone|iPad|iPod|iOS)/);					if (paginationContainer && !document.querySelector('.clone-pagination')) {						var clone = paginationContainer.cloneNode(true);						clone.className = 'clone-pagination';						document.body.appendChild(clone);					}					document.body.onclick = function(evt) {						var target = evt.target,							tname = target.tagName.toLowerCase(),							cname = target.classList,							type = target.getAttribute('type');						var findParent = function(child, selector){							var parent = child.parentElement;							while (parent) {				        if (parent.nodeName.toLowerCase() == 'body') {return null;}				        if (parent.nodeName.toLowerCase() == selector) {break;}				        parent = parent.parentElement;				    	}				    	return parent;						};						if (tname === 'img' && target.src && target.src.indexOf('http') > -1) {							if(ios){return}							var parent = findParent(target, 'a');							if (parent && parent.href.indexOf('http') > -1) {								evt.preventDefault();								evt.stopPropagation();								webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({									type:'preview',									href: parent.href,								}));							}						} else if (tname === 'button' && type === 'submit') {							var form = document.querySelector('form');							if (!form) {								return;							}							var userNameValue = form.querySelector('#input-name').value;							var passwordValue = form.querySelector('#input-password').value;							if (userNameValue && passwordValue && !userName) {								webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({									type:'rememberPassword',									userName: userNameValue.trim(),									password: passwordValue.trim()								}));							}						}					};					var form = document.querySelector('form');					if (form) {						var userNameInput = form.querySelector('#input-name');						var passwordInput = form.querySelector('#input-password');						if (userNameInput && passwordInput) {							userNameInput.value = userName;							passwordInput.value = password;							webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({										type:'removeCookie',							}));						}					}",
j.executeScript({code:c})})}function f(){clearTimeout(a.iabTimer),clearInterval(a.iabCSSTimer),navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop(),window.ActivityIndicator&&ActivityIndicator.hide&&ActivityIndicator.hide(),w(),j.close(),setTimeout(function(){j.close(),j=null,a.inAppBrowserRef=null},200)}function g(b){var c=b.data||{};if("removeCookie"===c.type)a.CookieCollection=a.CookieCollection.filter(function(a){return!(a.site==Vb.site&&a.isAdmin)}),pc.update(),x();else if("rememberPassword"===c.type){var d=c.userName||"",e=c.password||"";if(!d||!e)return;window.LocalStorage.setItem("adminUser",JSON.stringify({userName:d.trim(),password:e.trim()}))}else if("preview"===c.type){var f=c.href;Ja(f,{firstPage:10,totalPage:5})}}function h(a){console.error("loadErrorCallBack:",a)}if(!b&&!Tb.api.adminLogin)return void Ub.toast.show("不支持此功能");var i="location=yes,hidenavigationbuttons=no,hardwareback=yes,footer=no,zoom=no,enableViewportScale=yes,disallowoverscroll=yes";a.inAppBrowserRef&&(a.inAppBrowserRef.close(),a.inAppBrowserRef=null);var j=cordova.InAppBrowser.open(b,"_blank",i);return a.inAppBrowserRef=j,j.addEventListener("loadstart",d),j.addEventListener("loadstop",e),j.addEventListener("loaderror",h),j.addEventListener("message",g),j.addEventListener("exit",f),clearTimeout(a.iabTimer),a.iabTimer=setTimeout(function(){clearTimeout(a.iabTimer);var d="var target=document.querySelector('#input-password') || document.querySelector('.container-fluid .col-md-3 p.text-center');target?target.className:''";j&&(c(),j.executeScript({code:d},function(c){c[0]&&(clearTimeout(a.iabTimer),e({url:b,from:"from timer"}))}))},15e3),"ios"==Ub.device.platform&&(clearInterval(a.iabCSSTimer),a.iabCSSTimer=setInterval(c,3e3)),!0}function Pa(b){if(!b&&!Tb.api.adminLogin)return void Ub.toast.show("不支持此功能");var c=["search-section","reorder-section","reorder-timeline-section","tabbar-reorder-section","setting-section","importExport-section","cookie-section","download-section","edit-section","game-section","admin-section","font-section","iframe-section","gallery-section"];qc.exit(c,"admin-section"),qc.push("admin-section");{var d=nc("admin-section");d.querySelector(".content")}nb(d,"current",!0);var e=a.CookieCollection.some(function(a){return a.site===Vb.site&&a.isAdmin});return d.querySelector(".btn-show-more-admin-option").style.display=e?"block":"none",d.onclick=function(c){var d=c.target,e=(d.tagName.toLowerCase(),d.classList);e.contains("btn-back")?qc.exit("admin-section"):e.contains("btn-logout")?(a.CookieCollection=a.CookieCollection.filter(function(a){return!(a.site==Vb.site&&a.isAdmin)}),pc.update(),x(),Ub.toast.show("已安全退出")):e.contains("btn-show-more-admin-option")?ma(c):e.contains("content")&&Oa(b||Tb.api.adminLogin)},!0}function Qa(b){function c(){navigator.notification&&navigator.notification.activityStart&&navigator.notification.activityStart("","正在加载")}function d(b){clearTimeout(a.iabTimer),navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop();var c=b.url,d=c.indexOf("Member/User/Index/login.html")>-1,e=c.indexOf("Member/User/Index/logout.html")>-1,f=c.indexOf("Member/User/Cookie/index.html")>-1;if(f){var g="					[].slice.call(document.querySelectorAll('.am-btn-toolbar .am-btn-group')).forEach(function(group) {						var btnExport = group.querySelector('[href^=\"/Member/User/Cookie/export\"]');						var btnDelete = group.querySelector('[href^=\"/Member/User/Cookie/delete\"]');						if (!btnExport&&!btnDelete) {							return;						}						if(btnExport){							var href = btnExport.href;							var newBtnExport = document.createElement('a');							newBtnExport.textContent = '导入至APP';							newBtnExport.href = '#';							newBtnExport.setAttribute('data-href', href);							newBtnExport.className = 'am-btn am-btn-default am-btn-xs';						}						if(btnDelete){							var newBtnDelete = btnDelete.cloneNode(true);							newBtnDelete.innerHTML = '删除';							newBtnDelete.className = 'am-btn am-btn-default am-btn-xs am-text-danger';						}						group.innerHTML = '';						group.appendChild(newBtnExport);						group.appendChild(newBtnDelete);					});					document.body.onclick = function(evt) {						var target = evt.target,							tname = target.tagName.toLowerCase(),							cname = target.classList,							href = target.getAttribute('data-href');						if (cname.contains('am-btn') && href) {							evt.preventDefault();							var target = evt.target;							var href = target.getAttribute('data-href');							target.disabled=true;							target.textContent='导入中';							webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({								type:'importCookie',								href,							}));						}					};";k.executeScript({code:g})}else if(d){var g="							var inputEmail = document.querySelector('#doc-ipt-email-1');							var inputPwd = document.querySelector('#doc-ipt-pwd-1');							var btnLogin = document.querySelector('.login-am-center [type=submit]');							if (inputEmail && inputPwd && btnLogin) {								inputEmail.value = localStorage.getItem('MemberCenterUserName') || '';								inputPwd.value = localStorage.getItem('MemberCenterUserPwd') || '';								btnLogin.addEventListener('click', function() {									localStorage.setItem('MemberCenterUserName', inputEmail.value || '');									localStorage.setItem('MemberCenterUserPwd', inputPwd.value || '');								});							}							if (document.querySelector('.system-message .success')) {								webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({									type:'initCookie',								}));								location.href = '/Member/User/Cookie/index.html';							} else {								webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({									type:'removeCookie',								}));							}";k.executeScript({code:g})}else if(e){var g="						webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({							type:'removeCookie',						}));";k.executeScript({code:g})}}function e(){clearTimeout(a.iabTimer),navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop(),window.ActivityIndicator&&ActivityIndicator.hide&&ActivityIndicator.hide(),w(),Aa(!0),k.close(),setTimeout(function(){k.close(),k=null,a.inAppBrowserRef=null},200)}function f(a,b){var c="setTimeout(function(){alert('"+(a?"导入成功":"导入失败")+"')});";c+="var btnExport = document.querySelector('[data-href=\""+b+"\"]');",c+="if(btnExport){btnExport.disabled=false;btnExport.textContent='导入至APP';}",k.executeScript({code:c})}function g(b){var c=b.data||{};if("removeCookie"===c.type)a.CookieCollection=a.CookieCollection.filter(function(a){return"member"!==a.site}),pc.update(),x();else if("initCookie"===c.type)w();else if("importCookie"===c.type){var d=c.href;navigator.notification&&navigator.notification.activityStart&&navigator.notification.activityStart("","正在导入");{Wb.get(d,null,{responseType:"document",timeout:2e4}).then(function(a){navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop();var b=a.querySelector(".am-form");try{var c=b.querySelector(".am-form-group:nth-child(2) .tpl-form-maintext").textContent||"",e=b.querySelector(".am-form-group:nth-child(3) img").src,g=Ub.parseUrlQuery(e),h=JSON.parse(g.text).cookie;c=c.trim()||"random"+h.replace(/%/g,"").slice(0,5),pc.put({name:c,userhash:h,isActive:!1,isAdmin:!1,site:Vb.site}),pc.setActive(h).then(x,function(){}),f(!0,d)}catch(i){console.error(i),navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop(),f(!1,d)}})["catch"](function(a){console.error(a),target.textContent="导入至APP",target.disabled=!1,navigator.notification&&navigator.notification.activityStop&&navigator.notification.activityStop(),f(!1,d)})}}}function h(a){console.error("loadErrorCallBack:",a)}var i=b||a.Nimingban.hacfun.api.host+"/Member/User/Cookie/index.html",j="location=yes,hidenavigationbuttons=yes,hardwareback=yes,footer=no,zoom=no,disallowoverscroll=yes";a.inAppBrowserRef&&(a.inAppBrowserRef.close(),a.inAppBrowserRef=null);var k=cordova.InAppBrowser.open(i,"_blank",j);return a.inAppBrowserRef=k,k.addEventListener("loadstart",c),k.addEventListener("loadstop",d),k.addEventListener("exit",e),k.addEventListener("loaderror",h),k.addEventListener("message",g),clearTimeout(a.iabTimer),a.iabTimer=setTimeout(function(){clearTimeout(a.iabTimer);var b="var target=document.querySelector('.am-btn-toolbar .am-btn-group') || document.querySelector('.login-am-center [type=submit]');target?target.className:''";k&&k.executeScript({code:b},function(b){b[0]&&(clearTimeout(a.iabTimer),d({url:i,from:"from timer"}))})},15e3),clearInterval(a.iabCSSTimer),!0}function Ra(b){function c(a,b){b.innerHTML+=a,m.scrollTop=m.scrollHeight}function d(){n.style.display="block",c("<legend>基本诊断结果</legend>",n),f()}function e(){return window.Traceroute?(o.style.display="block",c("<legend>高级诊断结果</legend>",o),c("高级诊断开始<br>",o),s=JSON.parse(JSON.stringify(r)),void k(s[0])):(p.disabled=!1,void navigator.notification.alert("",function(){},"网络诊断结束","确定"))}function f(){c("开始请求backupUrl: "+Tb.api.getBackupUrl+"<br>",n),a.Xhr.get(Tb.api.getBackupUrl,{appid:Tb.api.appid},{responseType:"json",timeout:3e4}).then(function(b){b=b||[];var d=Array.isArray(b)&&b[0]||a.Current.api.host;d=d.replace(/ /g,"").replace(/\\/g,"");var e=this.responseURL||"";c("backupUrl请求成功<br>",n),c("响应url: "+e.split("?")[0]+"<br>",n),c("响应头: status:"+this.status+" "+this.getAllResponseHeaders()+"<br>",n),c("响应内容: "+d+"<br><br>",n),g(d)})["catch"](function(b){console.error(b,this);var d=this.responseURL||"";c("backupUrl请求失败<br>",n),"超时"===b?c("失败原因：客户端超时<br>",n):"string"==typeof b&&c("失败原因："+b+"<br>",n),c("响应url: "+d.split("?")[0]+"<br>",n),c("响应头: status:"+this.status+" "+this.getAllResponseHeaders()+"<br>",n),g(d.split("?")[0]||a.Current.api.host)})}function g(b){c("开始请求cdn: "+b+"/"+a.Current.api.core.getCdnPath+"<br>",n),a.Xhr.get(b+"/"+a.Current.api.core.getCdnPath,{appid:Tb.api.appid},{responseType:"json",timeout:2e4}).then(function(a){var d=this.responseURL||"";c("cdn请求成功<br>",n),c("响应url: "+d.split("?")[0]+"<br>",n),c("响应头: status:"+this.status+" "+this.getAllResponseHeaders()+"<br>",n),c("响应内容: "+JSON.stringify(a)+"<br><br>",n),h(b)})["catch"](function(a){console.error(a,this);var d=this.responseURL||"";c("cdn请求失败<br>",n),"超时"===a?c("失败原因：客户端超时<br>",n):"string"==typeof a&&c("失败原因："+a+"<br>",n),c("响应url: "+d.split("?")[0]+"<br><br>",n),c("响应头: status:"+this.status+" "+this.getAllResponseHeaders()+"<br>",n),h(b)})}function h(b){c("开始请求时间线: "+b+"/"+a.Current.api.core.timeline+"<br>",n),a.Xhr.get(b+"/"+a.Current.api.core.timeline,{id:-1,page:1,appid:Tb.api.appid},{responseType:"json"}).then(function(a){var d=this.responseURL||"";c("时间线请求成功<br>",n),c("响应url: "+d.split("?")[0]+"<br>",n),c("响应头: status:"+this.status+" "+this.getAllResponseHeaders()+"<br>",n),c("响应内容: "+a.length+"<br><br>",n),i(b)})["catch"](function(a){console.error(a,this);var d=this.responseURL||"";c("时间线请求失败<br>",n),"超时"===a?c("失败原因：客户端超时<br>",n):"string"==typeof a&&c("失败原因："+a+"<br>",n),c("响应url: "+d.split("?")[0]+"<br><br>",n),c("响应头: status:"+this.status+" "+this.getAllResponseHeaders()+"<br>",n),i(b)})}function i(a){c("开始Ping<br>",n),Ub.getPing(r).then(function(a){a.forEach(function(a,b){a.response=a.response||{status:"",result:{}};var d=a.response.result.ping||a.response.result.target||"";delete a.response.result.ping,delete a.response.result.target;var e=b+1+"# "+d+" "+a.response.status+":"+JSON.stringify(a.response.result);c(e+"<br><br>",n)}),c("Ping完成<br><br>",n),j()},function(){c("Ping失败<br><br>",n),j()})}function j(){c("开始获取网络环境<br>",n),c("网络类型: "+navigator.connection.type+"<br>",n),c("UA: "+navigator.userAgent+"<br>",n),Ub.getIP138().then(function(a){return Ub.getIP(a)}).then(function(a){c(a+"<br>获取网络环境完成<br><br>",n),c("基本诊断结束<br>",n),e()},function(){e()})}function k(a){q=q||new Traceroute;var b=1,d=30,e=[],f=function(){s.shift(),s[0]?setTimeout(function(){k(s[0])},1e3):(c("高级诊断结束<br>",o),p.disabled=!1,navigator.notification.alert("",function(){},"网络诊断结束","确定"))};c("<br><br>",o);var g=function(){q.ping([a,b],function(a){if(a=Array.isArray(a)?a:[],a=a[0]||{ip:"",res:"traceroute failed"},a.ip&&e.push(a.ip),c(b+"# "+a.ip+": "+a.res.replace(/\n\n/g,"<br>").replace(/\n/g,"<br>")+"<br>",o),b+=1,d>b)if(e.length>3){var h=e[e.length-1],i=e[e.length-2],j=e[e.length-3];h===i&&i===j?f():setTimeout(g,1e3)}else setTimeout(g,1e3);else f()},function(a){console.error(a),a="string"==typeof a?a:JSON.stringify(a);var e={ip:"",res:"traceroute failed "+a};c(b+"# "+e.ip+": "+e.res+"<br>",o),b+=1,d>b?setTimeout(g,1e3):f()})};setTimeout(g,1e3)}qc.push("network-diagnosis-section");var l=nc("network-diagnosis-section"),m=(l.querySelector(".content"),l.querySelector(".scrollable")),n=l.querySelector(".simple-diagnosis-msg"),o=l.querySelector(".advanced-diagnosis-msg"),p=l.querySelector(".btn-start-diagnosis");nb(l,"current");var q,r=Ub.uniqueArray([Tb.api.domain,Tb.api.staticDomainShort,a.RedirectDomain,"adnmb2.com"]);r=r.filter(function(a){return a});var s=JSON.parse(JSON.stringify(r));return l.onclick=function(b){var c=b.target,e=c.tagName.toLowerCase(),f=c.classList;if("a"===e||"button"===e)if(f.contains("btn-back"))qc.exit("network-diagnosis-section");else if(f.contains("btn-start-diagnosis"))navigator.notification.confirm("整个过程需要数分钟，界面可能会卡住，为了得到最准确的数据，请不要执行其他操作，不要退出界面，尽量保持屏幕常亮",function(a){1===a&&(Ob(n),Ob(o),p.disabled=!0,d())},"请注意");else if(f.contains("btn-export-diagnosis")){var g=a.StorageFolder+"/网络诊断结果.html",h='<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover"><title>网络诊断结果</title></head><body><style>body{word-break: break-word;}</style>'+m.innerHTML+"</body></html>";Ub.saveToStorage(h,g).then(function(){navigator.notification.alert("诊断结果已导出至："+(a.StorageFolderPath+"网络诊断结果.html")+",\n请发送到邮箱admin@adnmb.com\n\n若找不到导出的文件，可以对结果进行截图发送",function(){},"导出成功")},function(){})}},!0}function Sa(a,b){qc.push("iframe-section");var c=nc("iframe-section"),d=c.querySelector(".content");nb(c,"current"),c.querySelector(".title").textContent=b||"";var e=d.querySelector("iframe");return e||(e=document.createElement("iframe"),d.appendChild(e)),Pb(400).then(function(){e.setAttribute("src",a)}),e.setAttribute("scrolling","yes"),c.onclick=function(a){var b=a.target,c=(b.tagName.toLowerCase(),b.classList);c.contains("btn-back")&&qc.exit("iframe-section")},!0}function Ta(){"current"==nc("thread-tabbar-section").getAttribute("data-position")&&qc.exit("thread-tabbar-section"),wb(["thread"]);var b=nc("thread-section");return a.view?b.setAttribute("data-position","right"):nb(b,"right"),nc("toTop-fab").style.display="none",Pb(350).then(function(){Ib(),nc("btn-thread-navigate").style.display="none",nc("btn-tabbar-navigate")&&nc("btn-tabbar-navigate").setAttribute("data-current-page",1);var a=b.querySelector(".content");Ub.freeImageMemory(a.querySelectorAll("img")),Ob(a)}),$b.putItem([{uniqueid:"ReadPosition"+Vb.site,mode:"ReadPosition",data:lc,site:Vb.site}]),!0}function Ua(){var a=nc("preview-thread-section");return nb(a,"right"),Pb(400).then(function(){Ob(a.querySelector(".content"))}),!0}function Va(){var a=nc("thread-tabbar-section");nb(a,"bottom");var b=nc("thread-section");b.classList.remove("edit-mode");for(var c=b.querySelectorAll(".comment"),d=0,e=c.length;e>d;d++){var f=c[d];f.classList.remove("selected");var g=f.querySelector(".edit");g&&f.removeChild(g)}return!0}function Wa(){wb(["post"]);var a=nc("reply-section"),b=a.querySelector("#timelineSelector"),c=ac.querySelector("#oplist-section .scrollable"),d=ac.querySelector("#thread-section .scrollable");return nb(a,"right"),a.onclick=null,a.querySelector("textarea").blur(),nc("hidden-image").onchange=null,nc("btn-send").disabled=!0,nc("emoji-container").style.display="none",nc("media-container").style.display="none",nc("btn-select-media").classList.remove("active"),nc("btn-select-emoji").classList.remove("active"),Ub.removeEventListener(c,"scroll",G),Ub.removeEventListener(d,"scroll",G),Ub.addEventListener(c,"scroll",G),Ub.addEventListener(d,"scroll",G),b&&Ob(b),y(),!0}function Xa(){var a=nc("search-section");return nb(a,"right"),Pb(400).then(function(){Ob(a.querySelector(".content"))}),!0}function Ya(){var a=nc("setting-section");return nb(a,"right"),a.onclick=null,!0}function Za(){var b=nc("reorder-section"),c=b.getAttribute("data-reorder-type"),d="thread"==c?a.FrequentlyVisited:a.ForumList;b.onclick=null,nb(b,"right",!0),a.SortableList&&a.SortableList.length>0&&a.SortableList.forEach(function(a){try{a.destroy()}catch(b){}a=null});var e=Vb.isAppstoreReview&&"hacfun"==Vb.site?11:-1;return[].slice.call(b.querySelectorAll(".my-list li")).forEach(function(a,b){for(var c=a.getAttribute("data-id"),f=0,g=d.length;g>f;f++)if(d[f].id==c){d[f].order=b+1,0==b&&(e=c);break}}),"thread"==c?window.LocalStorage.setItem("frequentlyVisited"+a.Config.site,JSON.stringify(d)):(Vb.homepage=e||Vb.homepage,window.LocalStorage.setItem("config",JSON.stringify(Vb)),window.LocalStorage.setItem("forumList"+Vb.site,JSON.stringify(d))),B(),Pb(400).then(function(){Ob(b.querySelector(".my-list")),Ob(b.querySelector(".hidden-list"))}),!0}function $a(){var b=nc("reorder-timeline-section"),c=a.Timeline;return b.onclick=null,nb(b,"right",!0),a.SortableTimelineList&&a.SortableTimelineList.length>0&&a.SortableTimelineList.forEach(function(a){try{a.destroy()}catch(b){}a=null}),[].slice.call(b.querySelectorAll(".hidden-list li")).forEach(function(a,b){for(var d=a.getAttribute("data-id"),e=0,f=c.length;f>e;e++)if(c[e].id==d){c[e].order=0;break}}),[].slice.call(b.querySelectorAll(".my-list li")).forEach(function(a,b){for(var d=a.getAttribute("data-id"),e=0,f=c.length;f>e;e++)if(c[e].id==d){c[e].order=b+1;break}}),c=c.filter(function(a){return-1!=a.id}),a.Timeline=c,window.LocalStorage.setItem("timeline"+Vb.site,JSON.stringify(a.Timeline)),Pb(400).then(function(){Ob(b.querySelector(".my-list")),Ob(b.querySelector(".hidden-list"))}),!0}function _a(){var b=nc("tabbar-reorder-section"),c=a.tabbarList;return b.onclick=null,nb(b,"right",!0),a.SortableTabbarList&&a.SortableTabbarList.length>0&&a.SortableTabbarList.forEach(function(a){try{a.destroy()}catch(b){}a=null}),[].slice.call(b.querySelectorAll(".my-list li")).forEach(function(a,b){for(var d=a.getAttribute("data-id"),e=0,f=c.length;f>e;e++)if(c[e].action==d){c[e].order=b+1;break}}),$b.putItem([{uniqueid:"tabbar"+a.Config.site,data:c,site:a.Config.site,mode:"tabbar"}]),C(),Pb(400).then(function(){Ob(b.querySelector(".my-list")),Ob(b.querySelector(".hidden-list"))}),!0}function ab(){var b=a.CookieCollection.filter(function(a){return a.site===Vb.site&&!a.isAdmin});wb(["qrcode"]);var c=nc("cookie-section"),d=c.querySelector(".cookie-list");c.onclick=null,nb(c,"right",!0);var e=d.querySelector("input:checked");if(e){var f=e.value;pc.setActive(f).then(x)}else{var b=a.CookieCollection.filter(function(a){return Vb.site===a.site&&!a.isAdmin}),g=b[b.length-1];pc.setActive(g&&g.userhash).then(x,function(){})}return Pb(400).then(function(){Ob(d)}),!0}function bb(){var a=nc("download-section");return a.onclick=null,nb(a,"right"),Pb(400).then(function(){Ob(a.querySelector(".content"))}),!0}function cb(){var a=nc("importExport-section");return nb(a,"right"),a.onclick=null,Pb(400).then(function(){Ob(a.querySelector(".msg"))}),!0}function db(a){var b=nc("sketch-section");return Sb?Sb&&Sb.strokes&&Sb.strokes.length<=0?(nb(b,"right"),Sb&&Sb.destroy(),b.onclick=null,Pb(400).then(function(){var a=nc("palette-container"),c=nc("brush-container");a.style.display="none",c.style.display="none",Ob(a),Ob(c),Ob(b.querySelector("figure"))}),!0):(Ub.Dialog.show("确定退出涂鸦吗？","",[{label:"取消",id:"btn-cancel",className:"left"},{label:"确定",id:"btn-ok",className:"danger"}]),nc("dialog").onclick=function(a){var b=a.target,c=b.tagName.toLowerCase(),d=b.id;"button"==c&&(Ub.Dialog.hide(),"btn-ok"==d&&(Sb&&Sb.destroy(),qc.exit("sketch-section")))},!1):(qc.exit("sketch-section"),!0)}function eb(){Ub.exitFullScreen(),wb(["gallery"]);var a=nc("gallery-section");return nb(a,"right"),a.onclick=null,a.querySelector(".gallery-title").textContent="",Ub.removeEventListener(window,"resize",window.galleryResizeEvent),window.mySwiper&&window.mySwiper.kill()&&(window.mySwiper=null),Pb(400).then(function(){var b=a.querySelector(".swipe-wrap");b.ontouchstart=b.ontouchmove=b.ontouchend=null,Ub.freeImageMemory(b.querySelectorAll("img")),Ob(b)}),!0}function fb(){var a=nc("edit-section");a.onclick=null,nb(a,"top");var b=nc("oplist-section");b.classList.remove("edit-mode");for(var c=b.querySelectorAll(".comment"),d=0,e=c.length;e>d;d++){var f=c[d];f.classList.remove("selected");var g=f.querySelector(".edit");g&&f.removeChild(g)}return!0}function gb(){var a=nc("font-section");nb(a,"right"),ac.querySelector("#app-fontSize aside").textContent=(Vb.appFontSize-54)/3+1,z(),[].slice.call(ac.querySelectorAll("input")).forEach(function(a){a.oninput=null}),[].slice.call(ac.querySelectorAll("select")).forEach(function(a){a.onchange=null}),Pb(400).then(function(){Ob(a.querySelector("fieldset")),Mb("setting-section")});var b=a.querySelector(".scrollable");return Ub.removeEventListener(b,"touchstart touchmove touchend touchcancel",H),!0}function hb(){var b=nc("admin-section");return nb(b,"right"),clearTimeout(a.iabTimer),clearInterval(a.iabCSSTimer),!0}function ib(){var a=nc("member-center-section");return nb(a,"right"),Pb(400).then(function(){Ob(a.querySelector(".content"))}),w(),Aa(!0),!0}function jb(){var a=nc("network-diagnosis-section");return nb(a,"right"),Pb(400).then(function(){var b=a.querySelector(".content .simple-diagnosis-msg"),c=a.querySelector(".content .advanced-diagnosis-msg");b.style.display="none",c.style.display="none",Ob(b),Ob(c)}),!0}function kb(){var a=nc("game-section");return nb(a,"right"),Pb(400).then(function(){Ob(a.querySelector(".content"))}),!0}function lb(){var a=nc("iframe-section");return nb(a,"right"),Pb(400).then(function(){Ob(a.querySelector(".content"))}),!0}function mb(){return nb(nc("guide-section"),"right"),!0}function nb(a,b){"android"==Ub.device.platform&&Ub.device.version>=50&&a.classList.add("animatable"),"right"==b||"left"==b||"bottom"==b||"top"==b?(a.setAttribute("data-position",b),a.style.willChange="transform",Pb(400).then(function(){a.style.willChange="auto","thread-tabbar-section"==a.id&&Vb.enableTabBar&&"ios"==Ub.device.platform?a.setAttribute("data-position","bottom"):(a.style.display="none",a.setAttribute("data-position","")),a=null})):"current"==b&&(a.style.display="block",a.style.willChange="transform",Pb(0).then(function(){a.setAttribute("data-position",b),a=null}))}function ob(){var a=function(){var a=nc("left-drawer");"android"==Ub.device.platform&&Ub.device.version>=50&&a.classList.add("animatable"),a.style.willChange="transform",a.setAttribute("data-position","current"),qc.push("left-drawer"),Ub.removeEventListener(bc,"touchstart touchmove touchend touchleave touchcancel",H),Ub.addEventListener(bc,"touchstart touchmove touchend touchleave touchcancel",H);var c=nc("backdrop");c||(c=document.createElement("div"),c.id="backdrop",a.parentNode.insertBefore(c,a.nextSibling)),c.onclick=b,Pb("ios"==Ub.device.platform?0:300).then(function(){c.classList.add("backdrop")})},b=function(){var a=nc("left-drawer");"android"==Ub.device.platform&&Ub.device.version>=50&&a.classList.add("animatable"),qc.pop("left-drawer"),a.setAttribute("data-position","left"),Ub.removeEventListener(bc,"touchstart touchmove touchend touchleave touchcancel",H);var b=nc("backdrop");b.classList.remove("backdrop"),b.onclick=null,b=null,Pb(400).then(function(){a.style.willChange="auto"})};return"current"==nc("left-drawer").getAttribute("data-position")?b():a(),!0}function pb(b,c,d){if(Vb.enableTabBar&&"desktop"!=a.view&&"ios"!=Ub.device.platform&&b){var e=b.classList.contains("edit-mode");if(!e){var f=b.querySelector(".tabbar-bottom");if(f){var g=f.getAttribute("data-position");g==c?d&&(f.style.position="fixed",Pb(100).then(function(){f.style.position="absolute",f.style.bottom=0})):nb(f,c)}}}}function qb(a){["oplist-toolbar","favor-toolbar","search-toolbar"].forEach(function(b){b==a?document.querySelector("."+b).style.display="block":document.querySelector("."+b).style.display="none"})}function rb(b){var c=nc("dialog"),d=a.OPListSectionHeight||ac.querySelector("#oplist-section .content").clientHeight,e=b&&b.keyboardHeight||0,f=window.innerHeight,g=a.SafeAreaHeight||0;if(0>=g){var h=document.querySelector('.ios-tabbar-enabled .tabbar[data-position="bottom"]');g=h?parseFloat(window.getComputedStyle(h).paddingBottom)||0:0}if(d&&d>e&&(ac.querySelector("#reply-section .content").style.maxHeight=d-e+g+"px"),"open"==c.getAttribute("data-state")&&!c.classList.contains("ignore-keyboard")){var i=c.getBoundingClientRect(),j=f+e,k=j-i.bottom;if(e>k){var l=e-k;c.style.webkitTransform="translate(-50%, 0)",c.style.transform="translate(-50%, 0)",c.style.top=i.top-l+"px"}else if("ios"===Ub.device.platform){var m=e>0?0:"-50%",n=f>600?"24px":0;n=e>0?n:"50%",c.style.webkitTransform="translate(-50%, "+m+")",c.style.transform="translate(-50%, "+m+")",c.style.top=n}else c.style.webkitTransform="translate(-50%, -50%)",c.style.transform="translate(-50%, -50%)",c.style.top="50%"}a.isKeyboardVisible=f-(a.lastHeight||f)<0,a.lastHeight=f}function sb(a){if(a&&a.extras&&"android.intent.action.VIEW"!=a.action){var b=a.extras,c=b["android.intent.extra.SUBJECT"]||"",d=b["android.intent.extra.TEXT"]||c,e=b["android.intent.extra.STREAM"]||b.file;(c||d||e)&&(Jb("blank"),e?window.FilePath&&e.indexOf("content://")>-1?window.FilePath.resolveNativePath(e,function(a){a=a.indexOf("file://")>-1?a:"file://"+a,console.log(a),Ga(null,null,Vb.homepage,{image:a}),nc("input-content").value=(c?c+"\n":"")+d},function(a){console.error(a),Ga(null,null,Vb.homepage)}):Ga(null,null,Vb.homepage,{image:e}):Ga(null,null,Vb.homepage),nc("input-content").value=(c?c+"\n":"")+d)}}function tb(a,b){if(!b)return a;var c=b.split(" ").filter(function(a){return a.trim()});return a.forEach(function(a){var b=a.content;c.forEach(function(a){var c=new RegExp(a,"ig");b=b.replace(c,function(a){return"<mark>"+a+"</mark>"})}),a.content=b}),a}function ub(b,c){var d=b.href||"about:blank",e=d.match(/\/t\/(\d+)/),f=d.match(/\/f\/(.+)/);c=c||"_system",d.indexOf("http:")<0&&d.indexOf("https:")<0&&d.indexOf("adnmb:")<0&&d.indexOf("tnmb:")<0&&!b.classList.contains("external-link")&&!e&&!f&&(d=b.textContent);var g=/\.(gif|jpg|png|jpeg|webp)/.test(d);if(g)Ja(d);else{var h="hacfun"==Vb.site&&(d.indexOf("h.nimingban.com")>-1||d.indexOf("adnmb")>-1||d.indexOf(a.Current.api.domain)>-1),i="beitai"==Vb.site&&d.indexOf("tnmb")>-1;if(h||i||e||f){var j=!1;if(j=d.indexOf("http:")<0&&d.indexOf("https:")<0?!0:"hacfun"==Vb.site&&h||"beitai"==Vb.site&&i,e&&e.length>1&&j){var k=d.split("?page=");k=k.length>1?parseInt(k[1]):1,qa(),da(e[1],k)}else if(f&&f.length>1&&j){var l,m=decodeURI(f[1]);if(isNaN(m)){var n=a.ForumList.filter(function(a){return a.name==m});l=n[0]&&n[0].id}else l=parseInt(m,10);l?(wb(["oplist"]),qc.exit(["thread-section","reply-section","sketch-section","preview-thread-section"]),ca(l)):window.open(d,c)}else d.indexOf("adnmb:")>-1||d.indexOf("tnmb:")>-1||window.open(d,c)}else window.open(d,c)}}function vb(b,c,d){a.ThreadCache=a.ThreadCache||{};var e=a.ThreadCache;e[b]=e[b]||{},e[b][c]=d}function wb(b){b=b||Object.keys(a.NetRequest),b.forEach(function(b){if("oplist"==b||"thread"==b){if("oplist"==b){for(var c in a.OPListCache)delete a.OPListCache[c];a.NetRequest[b]&&a.NetRequest[b].cancel(),a.NetRequest[b]=null,delete a.NetRequest[b],ic=!1,lc.length>300&&(lc.sort(function(a,b){return b.updated-a.updated}),lc.splice(300)),$b.putItem([{uniqueid:"ReadPosition"+Vb.site,mode:"ReadPosition",data:lc,site:Vb.site}])}"thread"==b&&(a.NetRequest.thread&&a.NetRequest.thread.cancel(),a.NetRequest.quote&&a.NetRequest.quote.cancel(),a.NetRequest.media.forEach(function(a){a&&a.cancel(),a=null}),a.NetRequest.thread=null,a.NetRequest.quote=null,delete a.NetRequest.thread,delete a.NetRequest.quote,Ub.clearArray(a.NetRequest.media),jc=!1)}else Array.isArray(a.NetRequest[b])?(a.NetRequest[b].forEach(function(a){a&&a.cancel(),a=null}),Ub.clearArray(a.NetRequest[b])):(a.NetRequest[b]&&a.NetRequest[b].cancel(),a.NetRequest[b]=null,delete a.NetRequest[b])})}function xb(a){window.LocalStorage.getItem("searchHistory").then(function(b){for(var c=JSON.parse(b)||[],d=0,e=c.length;e>d;d++)if(c[d]==a){c.splice(d,1);break}c.unshift(a),c.splice(40),window.LocalStorage.setItem("searchHistory",JSON.stringify(c))})}function yb(){if(Vb.navigateTo&&3==Vb.navigateTo){var a=nc("thread-section"),b=a.querySelector("[data-page-no]:last-of-type");if(b){var c=parseInt(b.getAttribute("data-page-no"),10);if(!(1>=c)){for(var d=a.getAttribute("data-thread-id"),e=(new Date).valueOf(),f={threadid:d,page:c,created:e,updated:e},g=0,h=lc.length;h>g;g++)if(lc[g].threadid==d){lc.splice(g,1);break}lc.push(f)}}}}function zb(a){var b=1,c=Vb.navigateTo;if(2==c){var d=ac.querySelector('#oplist-section [data-thread-id="'+a+'"]');if(d){var e=d.getAttribute("data-reply-count")||1,f=Vb.threadPerPage||19;b=Math.ceil(e/f)}}else if(3==c)for(var g=0,h=lc.length;h>g;g++)if(lc[g].threadid==a){b=lc[g].page;break}return b}function Ab(a){var b=a.querySelector("[data-page-no]"),c=a.querySelector("[data-page-no]:last-of-type"),d=parseInt(b&&b.getAttribute("data-page-no"),10)||0,e=parseInt(c&&c.getAttribute("data-page-no"),10)||0,f=parseInt(a.getAttribute("data-total-page"),10)||0,g=parseInt(a.getAttribute("data-current-page"),10)||0,h=a.getAttribute("data-thread-id")||a.getAttribute("data-forum-id");return{id:h,currentPage:g,firstPage:d,lastPage:e,totalPage:f}}function Bb(a,b){var c="",d=a.scrollHeight||bc.scrollHeight,e=a.scrollTop||bc.scrollTop,f=a.clientHeight||ac.documentElement.clientHeight||bc.clientHeight,g=e+f>=d-200,h=0>=e;return b.touchOffsetY||b.wheelOffsetY?b.touchOffsetY>0||b.wheelOffsetY<0?c=h?"down":"":(b.touchOffsetY<0||b.wheelOffsetY>0)&&(c=g?"up":""):c=g?"up":"",c}function Cb(a,b,c){c||(c=["pageX","pageY"]);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]],f=180*Math.atan2(e,d)/Math.PI,g="";return-50>f&&f>-130?g="up":f>=55&&125>f?g="down":f>=160||-160>=f?g="left":f>=-20&&20>=f&&(g="right"),g}function Db(b,c){if(b&&c){var d=document.createElement("a");d.href=b;var e=document.createElement("a");e.href=c,d.origin!==e.origin&&(a.RedirectHost=d.origin,a.RedirectDomain=d.hostname,console.log("H.RedirectHost:",a.RedirectHost))}}function Eb(a,b){if(!a||!b)return!1;var c=document.createElement("a");c.href=a;var d=document.createElement("a");return d.href=b,c.origin===d.origin}function Fb(){var b=a.CookieCollection.filter(function(a){return a.site==Vb.site&&!a.isAdmin});if(0===b.length)return null;var c=pc.getActive();return c||(c=b[b.length-1],pc.setActive(c.userhash).then(x,function(){})),c}function Gb(b){b=b||"";var c=a.CookieCollection.filter(function(a){return a.userhash==b})[0],d=c&&c.name?c.name:"random"+b.replace(/%/g,"").slice(0,5);return d}function Hb(b){if(!Vb.isAppstoreReview){var c=a.ForumList.filter(function(a){return a.id==b})[0],d=c&&c.rule||"发表评论前请先阅读版规";nc("reply-section").querySelector("textarea").setAttribute("placeholder",d)}}function Ib(a){hc=!1,Pb(a||1e3).then(function(){hc=!0})}function Jb(a,b,c){switch(b=b||1,a&&"thread"!=a&&"local-thread"!=a&&wb(["oplist"]),a){case"thread":case"local-thread":wb(["thread"]);var d=nc("thread-section").getAttribute("data-thread-id");"thread"==a?da(d,b,0,c):ea(d,b,0,c);break;case"op":ca(nc("oplist-section").getAttribute("data-forum-id"),b,0,c);break;case"favor":aa(b,0,c);break;case"comment":_(b);break;case"history":$(b);break;case"search":ga({pageNo:b},0,c);break;case"blank":[].slice.call(ac.querySelectorAll(".loading-msg")).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}}function Kb(b){[].slice.call(b).forEach(function(b){var c=b.getAttribute("local-src")||b.getAttribute("thumb-src"),d=b.getAttribute("full-size-src");

if(c){var e=a.Xhr.get(c,null,{responseType:"arraybuffer",timeout:1e5,cache:!0}).then(function(c){var e=a.GifParser(c),f=window.URL||window.webkitURL,g=f.createObjectURL(e.gif);b.setAttribute("src",g),b.setAttribute("data-duration",e.duration),b.onload=function(a){this.onload=null,this.classList.remove("image-placeholder"),this.classList.remove("image-loading"),this.classList.remove("image-error"),this.classList.remove("image-click-to-load"),f.revokeObjectURL(this.src)};var h=b.parentNode;if(h&&!(e.duration<=0)){var i=null;try{i=new Blob([c],{type:"image/gif"})}catch(j){var k=new(window.WebKitBlobBuilder||window.BlobBuilder);k.append(c),i=k.getBlob("image/gif")}var l=Ub.showImage(i);l.style.display="none",l.setAttribute("full-size-src",d),h.classList.add("is-gif"),h.appendChild(l)}});a.NetRequest.media.push(e)}})}function Lb(a,b){if(a){Ib(),b=void 0==b?!0:b;var c=Ub.findParent(a,".scrollable");c.style.overflowY="hidden",a.scrollIntoView(b),Pb(0).then(function(){c.style.overflowY="auto",c=null})}}function Mb(a){if("ios"==Ub.device.platform){var b=nc(a);if(b){var c=b.querySelector(".scrollable");c&&(c.style.overflowY="hidden",Pb(0).then(function(){c.style.overflowY="auto"}))}}}function Nb(a,b,c,d){b&&(1==a?b.insertBefore(c,d):2==a?b.appendChild(c):(Ub.freeImageMemory(b.querySelectorAll("img")),Ob(b),b.appendChild(c),c=null,b=null))}function Ob(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)}function Pb(a){return new Promise(function(b,c){setTimeout(function(){b()},a)})}function Qb(b,c){if(b){setTimeout(Ib,0);var d=b.querySelector(".msg");d&&d.parentNode&&d.parentNode.removeChild(d);var e=a.LoadingText,f=e.length,g=Math.floor(Math.random()*f),h=document.createElement("div");return h.className="msg loading-msg",h.innerHTML=("android"==Ub.device.platform&&Ub.device.version<42?"...":"<div class='spinner'></div>")+"<span>"+(c||e[g])+"</span>",h}}function Rb(a,b,c){if(a){setTimeout(Ib,0);var d=a.querySelector(".msg");return d&&d.parentNode&&d.parentNode.removeChild(d),d=document.createElement("p"),d.className="msg error-msg",d.innerHTML=b||"加载大失败，点击重试",d.onclick=function(a){a.preventDefault(),a.stopPropagation(),this.onclick=null,this.parentNode.removeChild(this),c&&c(a)},d}}var Sb,Tb=a.Nimingban.hacfun,Ub=a.Util,Vb=a.Config,Wb=a.Xhr,Xb=a.BlackList,Yb=a.Cookie,Zb=a.Quote,$b="openDatabase"in window?a.WebSql:a.IndexedDB,_b=a.Page,ac=document,bc=ac.body,cc="",dc="",ec=!1,fc=!1,gc=!1,hc=!0,ic=!1,jc=!1,kc=null,lc=[],mc={},nc=function(a){return ac.getElementById(a)},oc={forum:"",q:"",pageNo:1,pageSize:Vb.searchResultPerPage||20,format:"_searchResult_",sortField:"score",sortType:"1",source:"hacfun",cd:1};ac.addEventListener("deviceready",function(){ec=!0,ac.addEventListener("backbutton",qc.back,!1),window.open=cordova.InAppBrowser&&cordova.InAppBrowser.open||window.open,cordova.plugins=cordova.plugins||{};for(var e in window.plugins)cordova.plugins[e]=window.plugins[e];c().then(function(){d(),o(),F(),y(),Pb(2e3).then(function(){g(),h()}),LocalFileSystem.PERSISTENT="ios"==Ub.device.platform?3:1,window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(b){b.root.getDirectory(a.StorageFolder,{create:!0},function(b){a.StorageFolderPath=b.toURL(),console.log(a.StorageFolderPath),Pb(2e3).then(function(){f(),U(),i(),Ub.saveToStorage(null,a.StorageFolder+"/favor/images/.nomedia"),Ub.saveToStorage(null,a.StorageFolder+"/comment/images/.nomedia"),window.eruda&&window.eruda.init&&window.eruda.init()})},function(a){console.error(a)})},function(a){console.error(a)})}),cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.disableScroll(!0),window.addEventListener("native.keyboardshow",rb),window.addEventListener("native.keyboardhide",rb),l()),window.ThreeDeeTouch&&ThreeDeeTouch.isAvailable(function(a){a&&v()}),window.shouldRotateToOrientation=function(b){b=(b+360)%360;var c=Math.max(a.windowWidth||window.innerWidth,a.windowHeight||window.innerHeight)>=1e3;return c?void 0:0==b||180==b},cordova.plugins.intent&&cordova.plugins.intent.setNewIntentHandler(function(a){sb(a)},function(a){console.error(a)}),cordova.plugins.intent&&cordova.plugins.intent.getCordovaIntent(function(a){sb(a)},function(a){console.error(a)}),window.universalLinks&&universalLinks.subscribe("launchApp",function(c){var d=c.url;if(d){if(a.IsUniversalLinksCalled=!0,a.IsOpenUrlCalled)return a.IsUniversalLinksCalled=!1,void(a.IsOpenUrlCalled=!1);console.log("universalLinks"),b(d)}}),window.TalkingData=window.TalkingData||{init:function(){},onEventWithExtraData:function(){},onEventWithLabel:function(){}},TalkingData.init("B8168DD03CD9EF62B476CEDFBC3FB52D","android_luwei_fir")},!1),ac.addEventListener("resume",function(){ac.removeEventListener("backbutton",qc.back,!1),ac.addEventListener("backbutton",qc.back,!1),TalkingData.init("B8168DD03CD9EF62B476CEDFBC3FB52D","android_luwei_fir")}),ac.addEventListener("pause",function(){ac.removeEventListener("backbutton",qc.back,!1),TalkingData.init("B8168DD03CD9EF62B476CEDFBC3FB52D","android_luwei_fir")}),window.addEventListener("DOMContentLoaded",function(){if(a.DownloadList=a.DownloadList||{},a.CookieCollection=a.CookieCollection||[],a.OPListCache=a.OPListCache||{},a.NetRequest=a.NetRequest||{},a.NetRequest.media=a.NetRequest.media||[],a.NetRequest.requests=a.NetRequest.requests||[],a.Storage=$b,A(),j(),Ub.device.iPhoneX){a.IsIPhoneX=!0,document.documentElement.classList.add("iPhoneX");var b=document.createElement("div");b.className="safe-area",b.innerHTML="<style>.safe-area{display: none; padding-bottom: constant(safe-area-inset-bottom); padding-bottom: env(safe-area-inset-bottom);}</style>",document.body.appendChild(b),a.SafeAreaHeight=parseFloat(window.getComputedStyle(b).paddingBottom)||0}var c=("Win32"===navigator.platform||"Win64"===navigator.platform||"MacIntel"===navigator.platform)&&navigator.userAgent.indexOf("Mobi")<0;c&&!window.cordova&&(window.cordova={},Ub.dispatch(ac,"deviceready"))}),window.handleOpenURL=function(c){if(c){if(a.IsOpenUrlCalled=!0,a.IsUniversalLinksCalled)return a.IsUniversalLinksCalled=!1,void(a.IsOpenUrlCalled=!1);console.log("handleOpenURL:",c),b(c)}};var pc={update:function(){window.LocalStorage.setItem("cookieV2",JSON.stringify(a.CookieCollection))},put:function(b){var c=a.CookieCollection.some(function(a){return a.userhash==b.userhash});if(c){for(var d=0,e=a.CookieCollection.length;e>d;d++)if(a.CookieCollection[d].userhash===b.userhash){a.CookieCollection[d]=b;break}}else a.CookieCollection.push(b);pc.update()},remove:function(b){a.CookieCollection=a.CookieCollection.filter(function(a){return a.userhash!==b}),pc.update()},getActive:function(){var b=a.CookieCollection.filter(function(a){return a.site==Vb.site&&!a.isAdmin&&a.isActive})[0];return b},setActive:function(b){if(!b)return Promise.reject();var c=a.CookieCollection.some(function(a){return a.site===Vb.site&&a.userhash==b&&!a.isAdmin});if(!c)return Promise.reject();for(var d=0,e=a.CookieCollection.length;e>d;d++)a.CookieCollection[d].site!==Vb.site||a.CookieCollection[d].isAdmin||(a.CookieCollection[d].isActive=!1,a.CookieCollection[d].userhash==b&&(a.CookieCollection[d].isActive=!0));return pc.update(),Promise.resolve()}},qc=function(){var a=[],b=null,c=function(b){b=Array.isArray(b)?b:[b],b.forEach(function(b){var c=a.some(function(a){return a==b});!c&&a.push(b)})},d=function(b){b=Array.isArray(b)?b:[b],b.forEach(function(b){for(var c=a.length-1;c>=0;c--)if(a[c]==b){a.splice(c,1);break}})},e=function(a,b){a=Array.isArray(a)?a:[a],a.forEach(function(a){var c=nc(a);if(a!=b&&("current"==c.getAttribute("data-position")||"open"==c.getAttribute("data-state"))){var e=!1;switch(a){case"thread-section":e=Ta();break;case"reply-section":e=Wa();break;case"gallery-section":e=eb();break;case"download-section":e=bb();break;case"reorder-section":e=Za();break;case"reorder-timeline-section":e=$a();break;case"cookie-section":e=ab();break;case"edit-section":e=fb();break;case"thread-tabbar-section":e=Va();break;case"left-drawer":e=ob();break;case"dialog":Ub.Dialog.hide(),e=!0;break;case"importExport-section":e=cb();break;case"setting-section":e=Ya();break;case"sketch-section":e=db();break;case"search-section":e=Xa();break;case"font-section":e=gb();break;case"admin-section":e=hb();break;case"member-center-section":e=ib();break;case"network-diagnosis-section":e=jb();break;case"game-section":e=kb();break;case"iframe-section":e=lb();break;case"tabbar-reorder-section":e=_a();break;case"preview-thread-section":e=Ua();break;case"guide-section":e=mb()}e&&d(a)}})},f=function(){b?(new Date).getTime()-b<2e3&&navigator.app.exitApp():(b=(new Date).getTime(),Ub.toast.show("再按一次退出应用"),Pb(2e3).then(function(){b=null}))},g=function(){var b=a.length;if(0==b)return void f();var c=a[b-1];e(c)};return{push:c,pop:d,back:g,exit:e,exitApp:f}}()}(H);